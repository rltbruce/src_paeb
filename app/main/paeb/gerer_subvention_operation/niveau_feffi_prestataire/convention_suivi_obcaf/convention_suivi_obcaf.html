  <div id="formsobcafo" class="page-layout simple fullwidth doc-page" layout="column" >

    <!-- HEADER -->
    <div class="header md-accent-bg {{vm.header_class}}" layout="row" layout-align="space-between" >
        <div layout="column" layout-align="space-between" style="height: 10px !important;">
            <div class="breadcrumb" layout="row" layout-align="start center" >
                <md-icon md-font-icon="icon-home" class="s16"></md-icon>
                <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent">Gestion technique des activitées</span>
                
                <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent" href="javascript:;"> Niveau FEFFI/PRESTATAIRE</span>
                
                <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent" href="javascript:;"> Insertion activitée technique (AAC)</span>
                
            </div>                       
            
        </div><br>
        <div style="text-align: center; margin: auto; float: bottom;" ng-if="vm.header_ref_convention">
                <span>Référence convention:</span>
                <span style="margin-right: 20px; color: black;">{{vm.header_ref_convention}}</span>
                
                <span>CISCO:</span>                
                <span style="margin-right: 20px; color: black;">{{vm.header_cisco}}</span>

                <span>FEFFI:</span>
                <span style="color: black;">{{vm.header_feffi}}</span>
        </div> 
        
    </div>    
    
    <!-- / HEADER -->
    
    <!-- CONTENT -->
    <div class="content" layout="column">
      <div class="form-wrapper md-whiteframe-1dp acc_menu" >
<!-----------------------------------------DEBUT TABS MERE----------------------------------------------------------->
         <ms-form-wizard flex>
          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" >

    <!----------------------------DEBUT CONVENTION CISCO/FEFFI--------------------------------------------------->
            
            <md-tab>
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                        <i class="icon-basket-fill s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">Convention</span>
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
                
                      <div style="margin-top: 1px;">
                          <div ng-show="vm.showfiltre" class="md-whiteframe-3dp animate-show-hide">
                          <form name="filtreform" class="md-inline-form" novalidate >
                                <br>
                            <div style="margin: 0px 15px 10px 15px;">
                              <div layout="column" layout-gt-xs="row">
                                  <md-input-container>
                                    <span style="font-size: 14.5px" class="text-semibold">Date signature convention du: &nbsp</span>
                                  </md-input-container>

                                  <md-datepicker ng-model="vm.filtre.date_debut" md-max-date="vm.datenow" required style="">                     
                                  </md-datepicker>

                                  <md-input-container>
                                    <span style="font-size: 14.5px" class="text-semibold">&nbsp &nbsp jusqu'au &nbsp &nbsp</span>
                                  </md-input-container>

                                  <md-datepicker ng-model="vm.filtre.date_fin" md-min-date="vm.filtre.date_debut" md-max-date="vm.datenow" ng-disabled="!vm.filtre.date_debut" required>                        
                                  </md-datepicker>
                                </div>
                                <div layout="column" layout-gt-xs="row">

                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Lot</label>
                                  <md-select ng-model="vm.filtre.lot" name="lot" style="overflow: hidden;text-overflow: ellipsis;">
                                    <md-option value="*">*</md-option>
                                    <md-option value="1">Lot 1</md-option>
                                    <md-option value="2">Lot 2</md-option>
                                    <md-option value="3">Lot 3</md-option>
                                    <md-option value="4">Lot 4</md-option>
                                  </md-select>
                                  <div ng-messages="filtreform.lot.$error" role="alert">
                                    <div ng-message="required"><span>Lot</span></div>
                                  </div>
                                </md-input-container>
                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Région</label>
                                  <md-select ng-model="vm.filtre.id_region" name="region" ng-change="vm.filtre_change_region(vm.filtre)">
                                    <md-option  value="*">*</md-option>
                                    <md-option ng-repeat="region in vm.regions" value="{{region.id}}" > {{region.nom}}</md-option>
                                  </md-select>
                                  <div ng-messages="filtreform.region.$error" role="alert">
                                    <div ng-message="required"><span>Région</span></div>
                                  </div>
                                </md-input-container>
                                        
                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Cisco</label>
                                  <md-select ng-model="vm.filtre.id_cisco" ng-disabled="!vm.filtre.id_region" ng-change="vm.filtre_change_cisco(vm.filtre)" name="cisco">
                                    <md-option  value="*">*</md-option>
                                    <md-option ng-repeat="d in vm.ciscos" value="{{d.id}}"> {{d.code}}</md-option>
                                                        
                                    </md-select>
                                    <div ng-messages="filtreform.cisco.$error" role="alert">
                                    <div ng-message="required"><span>Cisco</span></div>
                                  </div>
                                </md-input-container>
                                        
                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Commune</label>
                                  <md-select ng-model="vm.filtre.id_commune" ng-disabled="!vm.filtre.id_cisco" name="commune" ng-change="vm.filtre_change_commune(vm.filtre)">
                                    <md-option  value="*">*</md-option>
                                    <md-option ng-repeat="eco in vm.communes" value="{{eco.id}}"> {{eco.nom}}</md-option>
                                  </md-select>
                                  <div ng-messages="filtreform.commune.$error" role="alert">
                                    <div ng-message="required"><span>Commune</span></div>
                                  </div>
                                 </md-input-container>                                 

                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Zap</label>
                                  <md-select ng-model="vm.filtre.id_zap" name="zap" ng-disabled="!vm.filtre.id_commune" ng-change="vm.filtre_change_zap(vm.filtre)">
                                    <md-option  value="*">*</md-option>
                                    <md-option ng-repeat="zaps in vm.zaps" value="{{zaps.id}}"> {{zaps.nom}}
                                    </md-option>
                                  </md-select>  
                                  <div ng-messages="filtreform.zap.$error" role="alert">
                                    <div ng-message="required"><span>Zap</span></div>
                                  </div>
                                </md-input-container>
                                        
                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Ecole</label>
                                  <md-select ng-model="vm.filtre.id_ecole" name="ecole" ng-disabled="!vm.filtre.id_commune" ng-change="vm.filtre_change_ecole(vm.filtre)">
                                    <md-option  value="*">*</md-option>
                                    <md-option ng-repeat="eco in vm.ecoles" value="{{eco.id}}"> {{eco.description}}
                                    </md-option>
                                  </md-select>
                                  <div ng-messages="filtreform.ecole.$error" role="alert">
                                    <div ng-message="required"><span>Ecole</span></div>
                                  </div>
                                </md-input-container>
                                <md-input-container flex="100" flex-gt-xs="90">
                                  <label>Convention</label>
                                  <md-select ng-model="vm.filtre.id_convention_entete" name="convention" ng-disabled="!vm.filtre.id_ecole">
                                    <md-option  value="*">*</md-option>
                                    <md-option ng-repeat="eco in vm.convention_cisco_feffi_entetes" value="{{eco.id}}"> {{eco.ref_convention}}
                                    </md-option>
                                  </md-select>  
                                  <div ng-messages="filtreform.convention_entete.$error" role="alert">
                                    <div ng-message="required"><span>Convention</span></div>
                                  </div>
                                </md-input-container>
                              </div>
                              </div>  
                              
                              <div class="footer-animate-show-hide" layout="row" layout-align="end end">
                                  <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="filtreform.$invalid" ng-click="vm.recherchefiltre(vm.filtre)" style="float: right;">
                                                            Recherche
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerfiltre()" style="float: right;">
                                                        Réinitialise
                                  </md-button>
                              </div>
                          </form>
                      </div>
                                   
                      <div class="bouton-animate-show-hide">

                        <md-button type="submit" class="md-raised md-accent bouton-show-hide" aria-label="Filtre" ng-click="vm.showformfiltre()"><!--ng-show="vm.showbuttonfiltre"-->
                         <md-icon md-font-icon="icon-filter" class="s16" style="color:green">                            
                        </md-icon>                           
                         <md-icon md-font-icon="icon-chevron-double-up" ng-if="!vm.showfiltre" class="s16">                            
                        </md-icon>
                        <md-icon md-font-icon="icon-chevron-double-down" ng-if="vm.showfiltre" class="s16">                            
                        </md-icon>
                        <md-tooltip><span>Bouton filtre</span></md-tooltip>
                        </md-button> 
                    </div>
                  </div>
                  
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>

                        <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                              <thead>
                                <tr>
                                  <th class="secondary-text" ng-repeat="conv_ente in ::vm.convention_entete_column">
                                    <div class="table-header">
                                        <span class="column-title">{{conv_ente.titre}}</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                                             
                              <tbody>
                                <tr ng-repeat="convention_entete in vm.allconvention_entete"  ng-class="{selected: convention_entete.$selected}" ng-click="vm.selectionConvention_entete(convention_entete)">           
                                  <td>
                                    <span>{{convention_entete.cisco.code}}</span>
                                  </td>

                                  <td>
                                      <span>{{convention_entete.feffi.denomination}}</span>
                                  </td>

                                  <td>
                                    <span>{{convention_entete.site.code_sous_projet}}</span>
                                  </td>

                                  <td>
                                    <span>{{convention_entete.site.acces}}</span>
                                  </td>

                                  <td>                         
                                    <span>{{convention_entete.ref_convention}}</span>
                                  </td>

                                  <td>                         
                                    <span>{{convention_entete.objet}}</span>
                                  </td>

                                  <td>                                    
                                    <span>{{convention_entete.ref_financement}}</span>
                                  </td>

                                  <td>                          
                                    <span>{{vm.formatMillier(convention_entete.montant_total)}} Ar</span>
                                  </td>
                                  <td>                          
                                    <span>{{convention_entete.user.nom}}</span>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
              </md-tab-body>
            </md-tab>
    <!---------------------------------FIN CONVENTION CISCO/FEFFI--------------------------------------------------->

    
            <md-tab ng-disabled="!vm.stepMenu_pr" ng-click="vm.step_click_menu_pr()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                      <i class="icon-arrange-send-to-back s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">PARTENAIRES RELAIS</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >3</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
               <ms-form-wizard flex ng-if="vm.tabpartenaire"> 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true">
                
                    <!-------------------convention cisco/feffi----------------->
                    <md-tab ng-disabled="vm.session=='OBCAF'">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">DF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Passation des marchés</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterPassation_marches_pr()" style="width:10%;" ng-disabled="!vm.showbuttonNouvPassation_pr">
                                Nouveau
                              </md-button>
                            <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_passation_pr()" style="width:10%;" ng-show="vm.showbuttonimporter_passation_pr">
                                    Importer
                            </md-button>
                          </div><br>
                          <div ng-show="vm.showformimporter_passation_pr">
                            <form name="formimporter_passation_pr" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_passation_pr" id="fichier" name="fichier_passation_pr" type="file" custom-on-change="uploadFile_passation_pr"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_passation_pr.fichier_passation_pr.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_passation_pr.$invalid" ng-click="vm.importer_passation_pr()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_passation_pr()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>

                          <div style="float: top !important">
                            <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                            <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                                    Chargement,veuillez patienter s'il vous plait ...
                            </div>
                          </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.passation_marches_pr_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="passation_marches_pr in vm.allpassation_marches_pr"  ng-class="{selected: passation_marches_pr.$selected}" ng-click="vm.selectionPassation_marches_pr(passation_marches_pr)">

                                <td>
                                  <span ng-if="passation_marches_pr.$edit">
                                    <md-datepicker ng-model="passation_marches_pr.date_manifestation" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_pr.$edit">{{vm.formatDate(passation_marches_pr.date_manifestation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_pr.$edit">
                                    <md-datepicker ng-model="passation_marches_pr.date_lancement_dp" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_pr.$edit">{{vm.formatDate(passation_marches_pr.date_lancement_dp)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_pr.$edit">
                                    <md-datepicker ng-model="passation_marches_pr.date_remise" md-placeholder="Date de signature" md-min-date="passation_marches_pr.date_lancement_dp" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_pr.$edit">{{vm.formatDate(passation_marches_pr.date_remise)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_pr.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Nombre offre recu</label>
                                      <input name="nbr_offre_recu" type="number" ng-model="passation_marches_pr.nbr_offre_recu" ng-min="1"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_pr.$edit">{{passation_marches_pr.nbr_offre_recu}}</span>
                                </td>                       

                                <td>
                                  <span ng-if="passation_marches_pr.$edit">
                                    <md-datepicker ng-model="passation_marches_pr.date_signature_contrat" md-placeholder="Date de signature" md-min-date="passation_marches_pr.date_remise" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_pr.$edit">{{vm.formatDate(passation_marches_pr.date_signature_contrat)}}</span>
                                </td>                     

                                <td>
                                  <span ng-if="passation_marches_pr.$edit">
                                    <md-datepicker ng-model="passation_marches_pr.date_os" md-placeholder="Date de signature" md-min-date="passation_marches_pr.date_signature_contrat" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_pr.$edit">{{vm.formatDate(passation_marches_pr.date_os)}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!passation_marches_pr.$edit && passation_marches_pr.validation ==0" ng-click="vm.modifierPassation_marches_pr(passation_marches_pr)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!passation_marches_pr.$edit && passation_marches_pr.validation ==0" ng-click="vm.supprimerPassation_marches_pr(passation_marches_pr)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>
                                  <span ng-if="!passation_marches_pr.$edit && passation_marches_pr.validation ==1">Aucune action disponible</span>       
                                  <a ng-if="passation_marches_pr.$edit" ng-click="vm.annulerPassation_marches_pr(passation_marches_pr)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="passation_marches_pr.$edit && passation_marches_pr.date_manifestation && passation_marches_pr.date_lancement_dp && passation_marches_pr.date_remise && passation_marches_pr.nbr_offre_recu && passation_marches_pr.date_os >''" ng-click="vm.ajoutPassation_marches_pr(passation_marches_pr,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <md-tab ng-disabled="!vm.stepcontrat_pr" ng-click="vm.step_click_contrat_pr()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Détail contrat</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">  
                            <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterContrat_partenaire_relai()" style="width:10%;" ng-disabled="!vm.showbuttonNouvcontrat_pr">
                              Nouveau
                            </md-button>
                            <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_contrat_pr()" style="width:10%;" ng-show="vm.showbuttonimporter_contrat_pr">
                                    Importer
                            </md-button>
                          </div><br>
                          <div ng-show="vm.showformimporter_contrat_pr">
                            <form name="formimporter_contrat_pr" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_contrat_pr" id="fichier" name="fichier_contrat_pr" type="file" custom-on-change="uploadFile_contrat_pr"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_contrat_pr.fichier_contrat_pr.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_contrat_pr.$invalid" ng-click="vm.importer_contrat_pr()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_contrat_pr()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>

                        <div style="float: top !important">
                          <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                          <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                                  Chargement,veuillez patienter s'il vous plait ...
                          </div>
                        </div>
                       <div>        
                        <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                          <thead>
                            <tr>
                              <th class="secondary-text" ng-repeat="mem in ::vm.contrat_partenaire_relai_column">
                                <div class="table-header">
                                  <span class="column-title">{{mem.titre}}</span>
                                </div>
                              </th>
                            </tr>
                          </thead>
                                   
                          <tbody>
                            <tr ng-repeat="contrat_partenaire_relai in vm.allcontrat_partenaire_relai"  ng-class="{selected: contrat_partenaire_relai.$selected}" ng-click="vm.selectionContrat_partenaire_relai(contrat_partenaire_relai)">                            

                              <td>
                                <span ng-if="contrat_partenaire_relai.$edit">
                                  <md-input-container style="width:100%;display: flex !important;">
                                    <label>partenaire_relai</label>
                                    <md-select ng-model="contrat_partenaire_relai.id_partenaire_relai"style="overflow: hidden;text-overflow: ellipsis;">
                                      <md-option ng-repeat="partenaire_relai in vm.allpartenaire_relai" value="{{partenaire_relai.id}}">
                                                                            {{partenaire_relai.nom}}
                                      </md-option>
                                    </md-select>
                                  </md-input-container>   
                                </span>
                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.partenaire_relai.nom}}</span>
                              </td>
                                        
                              <td>
                                <span ng-if="contrat_partenaire_relai.$edit">
                                  <md-input-container style="width:100%;display: flex !important;">
                                    <label>Intitule objet</label>
                                    <input name="intitule" type="text" ng-model="contrat_partenaire_relai.intitule"/>
                                  </md-input-container>   
                                </span>
                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.intitule}}</span>
                              </td>
                                        
                              <td>
                                <span ng-if="contrat_partenaire_relai.$edit">
                                  <md-input-container style="width:100%;display: flex !important;">
                                    <label>Réference contrat</label>
                                    <input name="ref_contrat" type="text" ng-model="contrat_partenaire_relai.ref_contrat"/>
                                  </md-input-container>   
                                </span>
                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.ref_contrat}}</span>
                              </td>
                                        
                              <td>
                                <span ng-if="contrat_partenaire_relai.$edit">
                                  <md-input-container style="width:100%;display: flex !important;">
                                    <label>Montant contrat</label>
                                    <input name="montant_contrat" type="number" ng-model="contrat_partenaire_relai.montant_contrat" ng-min="1"/>
                                  </md-input-container>   
                                </span>
                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{vm.formatMillier(contrat_partenaire_relai.montant_contrat)}} Ar</span>
                              </td>

                              <td>
                                <span ng-if="contrat_partenaire_relai.$edit">
                                  <md-datepicker ng-model="contrat_partenaire_relai.date_signature" md-placeholder="Date de signature" md-max-date="vm.datenow" required disabled>                       
                                  </md-datepicker>
                                </span>                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{vm.formatDate(contrat_partenaire_relai.date_signature)}}</span>
                              </td>
                               <!--td>           
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.delai_execution}}</span>
                              </td-->
                                                           
                              <td>
                                <a ng-if="!contrat_partenaire_relai.$edit && contrat_partenaire_relai.validation==0" ng-click="vm.modifierContrat_partenaire_relai(contrat_partenaire_relai)" title="Modifier">
                                  <span class="icon-table-edit"></span>
                                </a>
                                          
                                <a ng-if="!contrat_partenaire_relai.$edit && contrat_partenaire_relai.validation==0" ng-click="vm.supprimerContrat_partenaire_relai(contrat_partenaire_relai)" title="Supprimer">
                                  <span class="icon-delete"></span>
                                </a>
                               <span ng-if="contrat_partenaire_relai.validation==1">Aucune action disponible</span>
                                <a ng-if="contrat_partenaire_relai.$edit" ng-click="vm.annulerContrat_partenaire_relai(contrat_partenaire_relai)" title="Annuler modification">
                                  <span class="icon-cancel"></span>
                                </a>
                                          
                                <a ng-if="contrat_partenaire_relai.$edit && contrat_partenaire_relai.intitule && contrat_partenaire_relai.ref_contrat && contrat_partenaire_relai.montant_contrat &&  contrat_partenaire_relai.date_signature && contrat_partenaire_relai.id_partenaire_relai>''" ng-click="vm.ajoutContrat_partenaire_relai(contrat_partenaire_relai,0)" title="Sauvegarder">
                                  <span class="icon-content-save"></span>
                                </a>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                    </md-tab-body>
                    </md-tab>
                    
                    <!---------------------------------Avenant partenaire-----------------------------------------------> 
                    <md-tab ng-disabled="!vm.stepavenant_pr || vm.validation_contrat_pr==0" ng-click="vm.click_step_avenant_pr()">                    
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Avenant</span>
                        </span>
                       
                      </md-tab-label>

                      <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterAvenant_partenaire()" style="width:10%;" ng-disabled="!vm.showbuttonNouvavenant_partenaire">
                                      Nouveau
                              </md-button>
                          </div>

                                    
                        <div style="float: top !important">
                          <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                          <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                                  Chargement,veuillez patienter s'il vous plait ...
                          </div>
                        </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.avenant_partenaire_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="avenant_partenaire in vm.allavenant_partenaire"  ng-class="{selected: avenant_partenaire.$selected}" ng-click="vm.selectionAvenant_partenaire(avenant_partenaire)">
                                                
                                      <td>
                                        <span ng-if="avenant_partenaire.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Descriprtion</label>
                                            <input name="description" type="text" ng-model="avenant_partenaire.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_partenaire.$edit">{{avenant_partenaire.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_partenaire.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Référence avenant</label>
                                            <input name="ref_avenant" type="text" ng-model="avenant_partenaire.ref_avenant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_partenaire.$edit">{{avenant_partenaire.ref_avenant}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_partenaire.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout avenant</label>
                                            <input name="montant" type="number" ng-model="avenant_partenaire.montant" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_partenaire.$edit">{{vm.formatMillier(avenant_partenaire.montant)}} Ar</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_partenaire.$edit">
                                          <md-datepicker ng-model="avenant_partenaire.date_signature" md-placeholder="Date de signature" md-max-date="vm.date_now" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!avenant_partenaire.$edit">{{vm.formatDate(avenant_partenaire.date_signature)}}</span>
                                      </td>                      
                                      <td>
                                        <a ng-if="!avenant_partenaire.$edit && avenant_partenaire.validation==0" ng-click="vm.modifierAvenant_partenaire(avenant_partenaire)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!avenant_partenaire.$edit && avenant_partenaire.validation==0" ng-click="vm.supprimerAvenant_partenaire(avenant_partenaire)" title="Supprimer">
                                          <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!avenant_partenaire.$edit && avenant_partenaire.validation==1">Aucune action disponible</span>          
                                        <a ng-if="avenant_partenaire.$edit" ng-click="vm.annulerAvenant_partenaire(avenant_partenaire)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="avenant_partenaire.$edit && avenant_partenaire.description &&  avenant_partenaire.montant &&  avenant_partenaire.date_signature>''" ng-click="vm.ajoutAvenant_partenaire(avenant_partenaire,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                      </md-tab-body>
                    </md-tab>
                    <!----------------------------Avenant partenaire----------------------------------------------->
                    <md-tab ng-disabled="!vm.stepprestaion_pr || vm.validation_contrat_pr==0" ng-click="vm.step_prestation_pr()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Prestation</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>

               <!---------------------------------FILS PRESTATION----------------------------------------------->       
                         <ms-form-wizard flex id="soussousmenu"> 
                          <!--md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu"-->
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true">

                        <!-----------------------------DEBUT FORMATION DPP--------------------------------------> 
                              <md-tab ng-click="vm.step_module_dpp()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-basket-fill s16"></i>
                                      </span-->                          
                                      
                                      <span class="ms-form-wizard-step-text">Formation dpp</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterModule_dpp()" style="width:10%;" ng-disabled="!vm.showbuttonNouvformdpp">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_module_dpp()" style="width:10%;" ng-show="vm.showbuttonimporter_module_dpp">
                                              Importer
                                      </md-button>
                                    </div><br>

                                    <div style="float: top !important">
                                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                                              Chargement,veuillez patienter s'il vous plait ...
                                      </div>
                                    </div>
                                    <div ng-show="vm.showformimporter_module_dpp">
                                      <form name="formimporter_module_dpp" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_module_dpp" name="fichier_module_dpp" type="file" custom-on-change="uploadFile_module_dpp"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_module_dpp.fichier_module_dpp.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_module_dpp.$invalid" ng-click="vm.importer_module_dpp()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_module_dpp()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.module_dpp_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="module_dpp in vm.allmodule_dpp"  ng-class="{selected: module_dpp.$selected}" ng-click="vm.selectionModule_dpp(module_dpp)">
                                        <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_debut_previ_form)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_dpp.date_debut_previ_form" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_fin_previ_form)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_dpp.date_debut_previ_form" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_previ_resti)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_dpp.date_previ_resti" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_debut_reel_form)}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_dpp.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_fin_reel_form)}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_dpp.date_previ_resti" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_reel_resti)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre previsionnel participant</label>
                                                <input name="nbr_previ_parti" type="number" ng-model="module_dpp.nbr_previ_parti" ng-min="1"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_previ_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre participant</label>
                                                <input name="nbr_parti" type="number" ng-model="module_dpp.nbr_parti" disabled />
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre previsionnel femme participant</label>
                                                <input name="nbr_previ_fem_parti" type="number" ng-model="module_dpp.nbr_previ_fem_parti" ng-min="1"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_previ_fem_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre réel femme participant</label>
                                                <input name="nbr_reel_fem_parti" type="number" ng-model="module_dpp.nbr_reel_fem_parti" disabled />
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_reel_fem_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Lieu formation</label>
                                                <input name="lieu_formation" type="text" ng-model="module_dpp.lieu_formation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.lieu_formation}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="module_dpp.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.observation}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!module_dpp.$edit && module_dpp.validation==0" ng-click="vm.modifierModule_dpp(module_dpp)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!module_dpp.$edit && module_dpp.validation==0" ng-click="vm.supprimerModule_dpp(module_dpp)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                            <span ng-if="!module_dpp.$edit && module_dpp.validation==1">Aucune action disponible</span>        
                                            <a ng-if="module_dpp.$edit" ng-click="vm.annulerModule_dpp(module_dpp)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="module_dpp.$edit && module_dpp.date_debut_previ_form && module_dpp.date_fin_previ_form && module_dpp.date_previ_resti && module_dpp.date_debut_reel_form && module_dpp.nbr_previ_parti && module_dpp.date_fin_reel_form && module_dpp.date_reel_resti && module_dpp.nbr_previ_fem_parti && module_dpp.lieu_formation>''" ng-click="vm.ajoutModule_dpp(module_dpp,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN FORMATION DPP----------------------------------------------->

                        <!----------------------------------Debut participant_dpp ----------------------------------------->
                              <md-tab ng-disabled="!vm.stepparticipantdpp">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                          <i class="icon-check s16"></i>
                                        </span-->
                                          <!--span class="ms-form-wizard-step-number md-accent-bg">
                                            <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Participant ddp</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterParticipant_dpp()" style="width:10%;" ng-disabled="vm.validation_formationdpp!=0">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_participant_dpp()" style="width:10%;" ng-show="vm.showbuttonimporter_participant_dpp">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_participant_dpp">
                                      <form name="formimporter_participant_dpp" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_participant_dpp" name="fichier_participant_dpp" type="file" custom-on-change="uploadFile_participant_dpp"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_participant_dpp.fichier_participant_dpp.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_participant_dpp.$invalid" ng-click="vm.importer_participant_dpp()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_participant_dpp()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.participant_dpp_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="participant_dpp in vm.allparticipant_dpp"  ng-class="{selected: participant_dpp.$selected}" ng-click="vm.selectionParticipant_dpp(participant_dpp)">           
                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nom</label>
                                                <input name="nom" type="text" ng-model="participant_dpp.nom"/>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_dpp.$edit">{{participant_dpp.nom}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Prenom</label>
                                                <input name="prenom" type="text" ng-model="participant_dpp.prenom"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_dpp.$edit">{{participant_dpp.prenom}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Sexe</label>
                                                <md-select ng-model="participant_dpp.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                    <md-option value="1">Masculin
                                                    </md-option>
                                                    <md-option value="2">Femimin
                                                    </md-option>
                                                  </md-select>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_dpp.$edit">{{vm.affichage_sexe(participant_dpp.sexe)}}</span>
                                          </td> 

                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Occupation</label>
                                                <md-select ng-model="participant_dpp.id_situation_participant_dpp"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option ng-repeat="situation_participant_dpp in vm.allsituation_participant_dpp" value="{{situation_participant_dpp.id}}">
                                                                                        {{situation_participant_dpp.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_dpp.$edit">{{participant_dpp.situation_participant_dpp.libelle}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!participant_dpp.$edit && vm.validation_formationdpp==0" ng-click="vm.modifierParticipant_dpp(participant_dpp)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_dpp.$edit && vm.validation_formationdpp==0" ng-click="vm.supprimerParticipant_dpp(participant_dpp)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                             <span ng-if="!participant_dpp.$edit && vm.validation_formationdpp==1">Aucune action disponible</span>         
                                            <a ng-if="participant_dpp.$edit" ng-click="vm.annulerParticipant_dpp(participant_dpp)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="participant_dpp.$edit && participant_dpp.nom && participant_dpp.prenom && participant_dpp.sexe && participant_dpp.id_situation_participant_dpp>''" ng-click="vm.ajoutParticipant_dpp(participant_dpp,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN participant_dpp ------------------------------------------>


                        <!---------------------------------DEBUT FORMATION ODC------------------------------------------->
                              <md-tab ng-click="vm.step_module_odc()" ng-disabled="!vm.step_onglet_odc">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                                      <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                                        <i class="icon-attachment s16"></i>
                                      </span-->
                                      <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-attachment s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Formation ODC</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                               <md-tab-body>
                                  <div style="widht:100%;"> 
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterModule_odc()" style="width:10%;" ng-disabled="!vm.showbuttonNouvformodc">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_module_odc()" style="width:10%;" ng-show="vm.showbuttonimporter_module_odc">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_module_odc">
                                      <form name="formimporter_module_odc" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_module_odc" name="fichier_module_odc" type="file" custom-on-change="uploadFile_module_odc"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_module_odc.fichier_module_odc.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_module_odc.$invalid" ng-click="vm.importer_module_odc()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_module_odc()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.module_odc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="module_odc in vm.allmodule_odc"  ng-class="{selected: module_odc.$selected}" ng-click="vm.selectionModule_odc(module_odc)">
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_debut_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_odc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_fin_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_odc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_previ_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_odc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_debut_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_odc.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_fin_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_odc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_reel_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel participant</label>
                                              <input name="nbr_previ_parti" type="number" ng-model="module_odc.nbr_previ_parti" ng-min="1"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_previ_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre participant</label>
                                              <input name="nbr_parti" type="number" ng-model="module_odc.nbr_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel femme participant</label>
                                              <input name="nbr_previ_fem_parti" type="number" ng-model="module_odc.nbr_previ_fem_parti" ng-min="1"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_previ_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre réel femme participant</label>
                                              <input name="nbr_reel_fem_parti" type="number" ng-model="module_odc.nbr_reel_fem_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_reel_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Lieu formation</label>
                                              <input name="lieu_formation" type="text" ng-model="module_odc.lieu_formation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.lieu_formation}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Observation</label>
                                              <input name="observation" type="text" ng-model="module_odc.observation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.observation}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!module_odc.$edit && module_odc.validation==0" ng-click="vm.modifierModule_odc(module_odc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!module_odc.$edit && module_odc.validation==0" ng-click="vm.supprimerModule_odc(module_odc)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                            <span ng-if="!module_odc.$edit && module_odc.validation==1">Aucune action disponible</span>
                                                    
                                          <a ng-if="module_odc.$edit" ng-click="vm.annulerModule_odc(module_odc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="module_odc.$edit && module_odc.date_debut_previ_form && module_odc.date_fin_previ_form && module_odc.date_previ_resti && module_odc.date_debut_reel_form && module_odc.nbr_previ_parti && module_odc.date_fin_reel_form && module_odc.date_reel_resti && module_odc.nbr_previ_fem_parti && module_odc.lieu_formation >''" ng-click="vm.ajoutModule_odc(module_odc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                              </md-tab>

                       <!---------------------------------FIN FORMATION ODC------------------------------------------->

                       <!---------------------------------FIN participant ODC------------------------------------------->
                              <md-tab ng-disabled="!vm.stepparticipantodc">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                          <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Participant odc</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterParticipant_odc()" style="width:10%;" ng-disabled="vm.validation_formationodc!=0">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_participant_odc()" style="width:10%;" ng-show="vm.showbuttonimporter_participant_odc">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_participant_odc">
                                      <form name="formimporter_participant_odc" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_participant_odc" name="fichier_participant_odc" type="file" custom-on-change="uploadFile_participant_odc"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_participant_odc.fichier_participant_odc.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_participant_odc.$invalid" ng-click="vm.importer_participant_odc()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_participant_odc()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.participant_odc_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="participant_odc in vm.allparticipant_odc"  ng-class="{selected: participant_odc.$selected}" ng-click="vm.selectionParticipant_odc(participant_odc)">           
                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nom</label>
                                                <input name="nom" type="text" ng-model="participant_odc.nom"/>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_odc.$edit">{{participant_odc.nom}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Prenom</label>
                                                <input name="prenom" type="text" ng-model="participant_odc.prenom"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_odc.$edit">{{participant_odc.prenom}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Sexe</label>
                                                <md-select ng-model="participant_odc.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                    <md-option value="1">Masculin
                                                    </md-option>
                                                    <md-option value="2">Femimin
                                                    </md-option>
                                                  </md-select>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_odc.$edit">{{vm.affichage_sexe(participant_odc.sexe)}}</span>
                                          </td> 

                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Occupation</label>
                                                <md-select ng-model="participant_odc.id_situation_participant_odc"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option ng-repeat="situation_participant_odc in vm.allsituation_participant_odc" value="{{situation_participant_odc.id}}">
                                                                                        {{situation_participant_odc.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_odc.$edit">{{participant_odc.situation_participant_odc.libelle}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!participant_odc.$edit && vm.validation_formationodc==0" ng-click="vm.modifierParticipant_odc(participant_odc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_odc.$edit && vm.validation_formationodc==0" ng-click="vm.supprimerParticipant_odc(participant_odc)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                             <span ng-if="!participant_odc.$edit && vm.validation_formationodc==1">Aucune action disponible</span> 
                                                      
                                            <a ng-if="participant_odc.$edit" ng-click="vm.annulerParticipant_odc(participant_odc)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="participant_odc.$edit && participant_odc.nom && participant_odc.prenom && participant_odc.sexe && participant_odc.id_situation_participant_odc>''" ng-click="vm.ajoutParticipant_odc(participant_odc,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                       <!--------------------------------DEBUT participant emies----------------------------------------->

                       <!--------------------------------DEBUT Formation emies----------------------------------------->

                            <md-tab ng-click="vm.step_module_emies()" ng-disabled="!vm.step_onglet_emies">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-currency-eur s16"></i>
                                    </span-->
                                  <span class="ms-form-wizard-step-text">Formation emies</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterModule_emies()" style="width:10%;" ng-disabled="!vm.showbuttonNouvformemies">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_module_emies()" style="width:10%;" ng-show="vm.showbuttonimporter_module_emies">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_module_emies">
                                      <form name="formimporter_module_emies" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_module_emies" name="fichier_module_emies" type="file" custom-on-change="uploadFile_module_emies"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_module_emies.fichier_module_emies.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_module_emies.$invalid" ng-click="vm.importer_module_emies()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_module_emies()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.module_emies_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="module_emies in vm.allmodule_emies"  ng-class="{selected: module_emies.$selected}" ng-click="vm.selectionModule_emies(module_emies)">
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_debut_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_emies.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_fin_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_emies.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_previ_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_emies.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_debut_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_emies.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_fin_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_emies.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_reel_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel participant</label>
                                            <input name="nbr_previ_parti" type="number" ng-model="module_emies.nbr_previ_parti" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_previ_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre participant</label>
                                            <input name="nbr_parti" type="number" ng-model="module_emies.nbr_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel femme participant</label>
                                            <input name="nbr_previ_fem_parti" type="number" ng-model="module_emies.nbr_previ_fem_parti" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_previ_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre réel femme participant</label>
                                            <input name="nbr_reel_fem_parti" type="number" ng-model="module_emies.nbr_reel_fem_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_reel_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Lieu formation</label>
                                            <input name="lieu_formation" type="text" ng-model="module_emies.lieu_formation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.lieu_formation}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="module_emies.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.observation}}</span>
                                      </td>
                                                                   
                                      <td>
                                        <a ng-if="!module_emies.$edit && module_emies.validation==0" ng-click="vm.modifierModule_emies(module_emies)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                        </a>
                                                      
                                        <a ng-if="!module_emies.$edit && module_emies.validation==0" ng-click="vm.supprimerModule_emies(module_emies)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!module_emies.$edit && module_emies.validation==1">Aucune action disponible</span>
                                                  
                                        <a ng-if="module_emies.$edit" ng-click="vm.annulerModule_emies(module_emies)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="module_emies.$edit && module_emies.date_debut_previ_form && module_emies.date_fin_previ_form && module_emies.date_previ_resti && module_emies.date_debut_reel_form && module_emies.nbr_previ_parti && module_emies.date_fin_reel_form && module_emies.date_reel_resti && module_emies.nbr_previ_fem_parti && module_emies.lieu_formation >''" ng-click="vm.ajoutModule_emies(module_emies,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation emies------------------------------------------>

                        <!---------------------------------Debut participant_emies ------------------------------------->
                            <md-tab ng-disabled="!vm.stepparticipantemies">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                      <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                        <i class="icon-check s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Participant emies</span>
                                  </span>
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="widht:100%;">  
                                      <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterParticipant_emies()" style="width:10%;" ng-disabled="vm.validation_formationemies!=0">
                                        Nouveau
                                      </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_participant_emies()" style="width:10%;" ng-show="vm.showbuttonimporter_participant_emies">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_participant_emies">
                                      <form name="formimporter_participant_emies" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_participant_emies" name="fichier_participant_emies" type="file" custom-on-change="uploadFile_participant_emies"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_participant_emies.fichier_participant_emies.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_participant_emies.$invalid" ng-click="vm.importer_participant_emies()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_participant_emies()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.participant_emies_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="participant_emies in vm.allparticipant_emies"  ng-class="{selected: participant_emies.$selected}" ng-click="vm.selectionParticipant_emies(participant_emies)">           
                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nom</label>
                                              <input name="nom" type="text" ng-model="participant_emies.nom"/>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_emies.$edit">{{participant_emies.nom}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Prenom</label>
                                              <input name="prenom" type="text" ng-model="participant_emies.prenom"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_emies.$edit">{{participant_emies.prenom}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Sexe</label>
                                              <md-select ng-model="participant_emies.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option value="1">Masculin
                                                  </md-option>
                                                  <md-option value="2">Femimin
                                                  </md-option>
                                                </md-select>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_emies.$edit">{{vm.affichage_sexe(participant_emies.sexe)}}</span>
                                        </td> 

                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Occupation</label>
                                              <md-select ng-model="participant_emies.id_situation_participant_emies"style="overflow: hidden;text-overflow: ellipsis;">
                                                <md-option ng-repeat="situation_participant_emies in vm.allsituation_participant_emies" value="{{situation_participant_emies.id}}">
                                                                                      {{situation_participant_emies.libelle}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_emies.$edit">{{participant_emies.situation_participant_emies.libelle}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!participant_emies.$edit && vm.validation_formationemies==0" ng-click="vm.modifierParticipant_emies(participant_emies)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_emies.$edit && vm.validation_formationemies==0" ng-click="vm.supprimerParticipant_emies(participant_emies)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                             <span ng-if="!participant_emies.$edit && vm.validation_formationemies==1">Aucune action disponible</span> 
                                                    
                                          <a ng-if="participant_emies.$edit" ng-click="vm.annulerParticipant_emies(participant_emies)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="participant_emies.$edit && participant_emies.nom && participant_emies.prenom && participant_emies.sexe && participant_emies.id_situation_participant_emies>''" ng-click="vm.ajoutParticipant_emies(participant_emies,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                      <!---------------------------------------FIN participant_emies ----------------------------------->


                       <!---------------------------------------DEBUT Formation gfpc--------------------------------------->

                            <md-tab ng-click="vm.step_module_gfpc()" ng-disabled="!vm.step_onglet_gfpc">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-currency-eur s16"></i>
                                    </span-->
                                  <span class="ms-form-wizard-step-text">Formation gfpc</span>
                                </span>
                              </md-tab-label>
                              
                             <md-tab-body>
                                  <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterModule_gfpc()" style="width:10%;" ng-disabled="!vm.showbuttonNouvformgfpc">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_module_gfpc()" style="width:10%;" ng-show="vm.showbuttonimporter_module_gfpc">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_module_gfpc">
                                      <form name="formimporter_module_gfpc" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_module_gfpc" name="fichier_module_gfpc" type="file" custom-on-change="uploadFile_module_gfpc"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_module_gfpc.fichier_module_gfpc.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_module_gfpc.$invalid" ng-click="vm.importer_module_gfpc()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_module_gfpc()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.module_gfpc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="module_gfpc in vm.allmodule_gfpc"  ng-class="{selected: module_gfpc.$selected}" ng-click="vm.selectionModule_gfpc(module_gfpc)">
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_debut_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_gfpc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_fin_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_gfpc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_previ_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_gfpc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_debut_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_gfpc.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_fin_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_gfpc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_reel_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel participant</label>
                                              <input name="nbr_previ_parti" type="number" ng-model="module_gfpc.nbr_previ_parti" ng-min="1"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_previ_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre participant</label>
                                              <input name="nbr_parti" type="number" ng-model="module_gfpc.nbr_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel femme participant</label>
                                              <input name="nbr_previ_fem_parti" type="number" ng-model="module_gfpc.nbr_previ_fem_parti" ng-min="1"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_previ_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre réel femme participant</label>
                                              <input name="nbr_reel_fem_parti" type="number" ng-model="module_gfpc.nbr_reel_fem_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_reel_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Lieu formation</label>
                                              <input name="lieu_formation" type="text" ng-model="module_gfpc.lieu_formation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.lieu_formation}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Observation</label>
                                              <input name="observation" type="text" ng-model="module_gfpc.observation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.observation}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!module_gfpc.$edit && module_gfpc.validation==0" ng-click="vm.modifierModule_gfpc(module_gfpc)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                        
                                          <a ng-if="!module_gfpc.$edit && module_gfpc.validation==0" ng-click="vm.supprimerModule_gfpc(module_gfpc)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                          </a>
                                          <span ng-if="!module_gfpc.$edit && module_gfpc.validation==1">Aucune action disponible</span>
                                                    
                                          <a ng-if="module_gfpc.$edit" ng-click="vm.annulerModule_gfpc(module_gfpc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="module_gfpc.$edit && module_gfpc.date_debut_previ_form && module_gfpc.date_fin_previ_form && module_gfpc.date_previ_resti && module_gfpc.date_debut_reel_form && module_gfpc.nbr_previ_parti && module_gfpc.date_fin_reel_form && module_gfpc.date_reel_resti && module_gfpc.nbr_previ_fem_parti && module_gfpc.lieu_formation >''" ng-click="vm.ajoutModule_gfpc(module_gfpc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation gfpc------------------------------------------>

                        <!---------------------------------Debut participant_gfpc -------------------------------------->
                            <md-tab ng-disabled="!vm.stepparticipantgfpc">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                      <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                        <i class="icon-check s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Participant gfpc</span>
                                  </span>
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="widht:100%;">  
                                      <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterParticipant_gfpc()" style="width:10%;" ng-disabled="vm.validation_formationgfpc!=0">
                                        Nouveau
                                      </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_participant_gfpc()" style="width:10%;" ng-show="vm.showbuttonimporter_participant_gfpc">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_participant_gfpc">
                                      <form name="formimporter_participant_gfpc" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_participant_gfpc" name="fichier_participant_gfpc" type="file" custom-on-change="uploadFile_participant_gfpc"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_participant_gfpc.fichier_participant_gfpc.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_participant_gfpc.$invalid" ng-click="vm.importer_participant_gfpc()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_participant_gfpc()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.participant_gfpc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="participant_gfpc in vm.allparticipant_gfpc"  ng-class="{selected: participant_gfpc.$selected}" ng-click="vm.selectionParticipant_gfpc(participant_gfpc)">           
                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nom</label>
                                              <input name="nom" type="text" ng-model="participant_gfpc.nom"/>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_gfpc.$edit">{{participant_gfpc.nom}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Prenom</label>
                                              <input name="prenom" type="text" ng-model="participant_gfpc.prenom"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_gfpc.$edit">{{participant_gfpc.prenom}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Sexe</label>
                                              <md-select ng-model="participant_gfpc.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option value="1">Masculin
                                                  </md-option>
                                                  <md-option value="2">Femimin
                                                  </md-option>
                                                </md-select>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_gfpc.$edit">{{vm.affichage_sexe(participant_gfpc.sexe)}}</span>
                                        </td> 

                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Occupation</label>
                                              <md-select ng-model="participant_gfpc.id_situation_participant_gfpc"style="overflow: hidden;text-overflow: ellipsis;">
                                                <md-option ng-repeat="situation_participant_gfpc in vm.allsituation_participant_gfpc" value="{{situation_participant_gfpc.id}}">
                                                                                      {{situation_participant_gfpc.libelle}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_gfpc.$edit">{{participant_gfpc.situation_participant_gfpc.libelle}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!participant_gfpc.$edit && vm.validation_formationgfpc==0" ng-click="vm.modifierParticipant_gfpc(participant_gfpc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_gfpc.$edit && vm.validation_formationgfpc==0" ng-click="vm.supprimerParticipant_gfpc(participant_gfpc)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                             <span ng-if="!participant_gfpc.$edit && vm.validation_formationgfpc==1">Aucune action disponible</span> 
                                                    
                                          <a ng-if="participant_gfpc.$edit" ng-click="vm.annulerParticipant_gfpc(participant_gfpc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="participant_gfpc.$edit && participant_gfpc.nom && participant_gfpc.prenom && participant_gfpc.sexe && participant_gfpc.id_situation_participant_gfpc>''" ng-click="vm.ajoutParticipant_gfpc(participant_gfpc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                      <!-----------------------------------FIN participant_gfpc --------------------------------------->

                        <!---------------------------------DEBUT Formation pmc----------------------------------------->

                            <md-tab ng-click="vm.step_module_pmc()" ng-disabled="!vm.step_onglet_pmc">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-currency-eur s16"></i>
                                    </span-->
                                  <span class="ms-form-wizard-step-text">Formation pmc</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterModule_pmc()" style="width:10%;" ng-disabled="!vm.showbuttonNouvformpmc">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_module_pmc()" style="width:10%;" ng-show="vm.showbuttonimporter_module_pmc">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_module_pmc">
                                      <form name="formimporter_module_pmc" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_module_pmc" name="fichier_module_pmc" type="file" custom-on-change="uploadFile_module_pmc"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_module_pmc.fichier_module_pmc.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_module_pmc.$invalid" ng-click="vm.importer_module_pmc()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_module_pmc()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>                               
                                    <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.module_pmc_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="module_pmc in vm.allmodule_pmc"  ng-class="{selected: module_pmc.$selected}" ng-click="vm.selectionModule_pmc(module_pmc)">
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_debut_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_pmc.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_fin_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_pmc.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_previ_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_pmc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_debut_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_pmc.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_fin_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_pmc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_reel_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel participant</label>
                                            <input name="nbr_previ_parti" type="number" ng-model="module_pmc.nbr_previ_parti" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_previ_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre participant</label>
                                            <input name="nbr_parti" type="number" ng-model="module_pmc.nbr_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel femme participant</label>
                                            <input name="nbr_previ_fem_parti" type="number" ng-model="module_pmc.nbr_previ_fem_parti" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_previ_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre réel femme participant</label>
                                            <input name="nbr_reel_fem_parti" type="number" ng-model="module_pmc.nbr_reel_fem_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_reel_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Lieu formation</label>
                                            <input name="lieu_formation" type="text" ng-model="module_pmc.lieu_formation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.lieu_formation}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="module_pmc.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.observation}}</span>
                                      </td>
                                                                   
                                      <td>
                                        <a ng-if="!module_pmc.$edit && module_pmc.validation==0" ng-click="vm.modifierModule_pmc(module_pmc)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                        </a>
                                                      
                                        <a ng-if="!module_pmc.$edit && module_pmc.validation==0" ng-click="vm.supprimerModule_pmc(module_pmc)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!module_pmc.$edit && module_pmc.validation==1">Aucune action disponible</span>
                                                  
                                        <a ng-if="module_pmc.$edit" ng-click="vm.annulerModule_pmc(module_pmc)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="module_pmc.$edit && module_pmc.date_debut_previ_form && module_pmc.date_fin_previ_form && module_pmc.date_previ_resti && module_pmc.date_debut_reel_form && module_pmc.nbr_previ_parti && module_pmc.date_fin_reel_form && module_pmc.date_reel_resti && module_pmc.nbr_previ_fem_parti && module_pmc.lieu_formation >''" ng-click="vm.ajoutModule_pmc(module_pmc,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation pmc------------------------------------------>

                         <!-------------------------------Debut participant_pmc --------------------------------------->
                            <md-tab ng-disabled="!vm.stepparticipantpmc">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                      <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                        <i class="icon-check s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Participant pmc</span>
                                  </span>
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="widht:100%;">  
                                      <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterParticipant_pmc()" style="width:10%;" ng-disabled="vm.validation_formationpmc!=0">
                                        Nouveau
                                      </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_participant_pmc()" style="width:10%;" ng-show="vm.showbuttonimporter_participant_pmc">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_participant_pmc">
                                      <form name="formimporter_participant_pmc" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_participant_pmc" name="fichier_participant_pmc" type="file" custom-on-change="uploadFile_participant_pmc"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_participant_pmc.fichier_participant_pmc.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_participant_pmc.$invalid" ng-click="vm.importer_participant_pmc()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_participant_pmc()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.participant_pmc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="participant_pmc in vm.allparticipant_pmc"  ng-class="{selected: participant_pmc.$selected}" ng-click="vm.selectionParticipant_pmc(participant_pmc)">           
                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nom</label>
                                              <input name="nom" type="text" ng-model="participant_pmc.nom"/>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_pmc.$edit">{{participant_pmc.nom}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Prenom</label>
                                              <input name="prenom" type="text" ng-model="participant_pmc.prenom"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_pmc.$edit">{{participant_pmc.prenom}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Sexe</label>
                                              <md-select ng-model="participant_pmc.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option value="1">Masculin
                                                  </md-option>
                                                  <md-option value="2">Femimin
                                                  </md-option>
                                                </md-select>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_pmc.$edit">{{vm.affichage_sexe(participant_pmc.sexe)}}</span>
                                        </td> 

                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Occupation</label>
                                              <md-select ng-model="participant_pmc.id_situation_participant_pmc"style="overflow: hidden;text-overflow: ellipsis;">
                                                <md-option ng-repeat="situation_participant_pmc in vm.allsituation_participant_pmc" value="{{situation_participant_pmc.id}}">
                                                                                      {{situation_participant_pmc.libelle}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_pmc.$edit">{{participant_pmc.situation_participant_pmc.libelle}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!participant_pmc.$edit && vm.validation_formationpmc==0" ng-click="vm.modifierParticipant_pmc(participant_pmc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_pmc.$edit && vm.validation_formationpmc==0" ng-click="vm.supprimerParticipant_pmc(participant_pmc)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                             <span ng-if="!participant_pmc.$edit && vm.validation_formationpmc==1">Aucune action disponible</span> 
                                                    
                                          <a ng-if="participant_pmc.$edit" ng-click="vm.annulerParticipant_pmc(participant_pmc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="participant_pmc.$edit && participant_pmc.nom && participant_pmc.prenom && participant_pmc.sexe && participant_pmc.id_situation_participant_pmc>''" ng-click="vm.ajoutParticipant_pmc(participant_pmc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                        <!-----------------------------------------FIN participant_pmc ---------------------------------->
                        <!---------------------------------------DEBUT Formation sep------------------------------------->

                            <md-tab ng-click="vm.step_module_sep()" ng-disabled="!vm.step_onglet_sep">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-currency-eur s16"></i>
                                    </span-->
                                  <span class="ms-form-wizard-step-text">Formation sep</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterModule_sep()" style="width:10%;" ng-disabled="!vm.showbuttonNouvformsep">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_module_sep()" style="width:10%;" ng-show="vm.showbuttonimporter_module_sep">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_module_sep">
                                      <form name="formimporter_module_sep" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_module_sep" name="fichier_module_sep" type="file" custom-on-change="uploadFile_module_sep"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_module_sep.fichier_module_sep.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_module_sep.$invalid" ng-click="vm.importer_module_sep()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_module_sep()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.module_sep_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="module_sep in vm.allmodule_sep"  ng-class="{selected: module_sep.$selected}" ng-click="vm.selectionModule_sep(module_sep)">
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_debut_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_sep.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_fin_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_sep.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_previ_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_sep.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_debut_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_sep.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_fin_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_sep.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_reel_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel participant</label>
                                            <input name="nbr_previ_parti" type="number" ng-model="module_sep.nbr_previ_parti" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_previ_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre participant</label>
                                            <input name="nbr_parti" type="number" ng-model="module_sep.nbr_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel femme participant</label>
                                            <input name="nbr_previ_fem_parti" type="number" ng-model="module_sep.nbr_previ_fem_parti" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_previ_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre réel femme participant</label>
                                            <input name="nbr_reel_fem_parti" type="number" ng-model="module_sep.nbr_reel_fem_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_reel_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Lieu formation</label>
                                            <input name="lieu_formation" type="text" ng-model="module_sep.lieu_formation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.lieu_formation}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="module_sep.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.observation}}</span>
                                      </td>
                                                                   
                                      <td>
                                        <a ng-if="!module_sep.$edit && module_sep.validation==0" ng-click="vm.modifierModule_sep(module_sep)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                        </a>
                                                      
                                        <a ng-if="!module_sep.$edit && module_sep.validation==0" ng-click="vm.supprimerModule_sep(module_sep)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!module_sep.$edit && module_sep.validation==1">Aucune action disponible</span>
                                                  
                                        <a ng-if="module_sep.$edit" ng-click="vm.annulerModule_sep(module_sep)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="module_sep.$edit && module_sep.date_debut_previ_form && module_sep.date_fin_previ_form && module_sep.date_previ_resti && module_sep.date_debut_reel_form && module_sep.nbr_previ_parti && module_sep.date_fin_reel_form && module_sep.date_reel_resti && module_sep.nbr_previ_fem_parti && module_sep.lieu_formation >''" ng-click="vm.ajoutModule_sep(module_sep,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation sep------------------------------------------>

                         <!--------------------------------Debut participant_sep -------------------------------------->
                              <md-tab ng-disabled="!vm.stepparticipantsep">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                          <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Participant sep</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterParticipant_sep()" style="width:10%;" ng-disabled="vm.validation_formationsep!=0">
                                          Nouveau
                                        </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_participant_sep()" style="width:10%;" ng-show="vm.showbuttonimporter_participant_sep">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_participant_sep">
                                      <form name="formimporter_participant_sep" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_participant_sep" name="fichier_participant_sep" type="file" custom-on-change="uploadFile_participant_sep"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_participant_sep.fichier_participant_sep.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_participant_sep.$invalid" ng-click="vm.importer_participant_sep()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_participant_sep()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.participant_sep_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="participant_sep in vm.allparticipant_sep"  ng-class="{selected: participant_sep.$selected}" ng-click="vm.selectionParticipant_sep(participant_sep)">           
                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nom</label>
                                                <input name="nom" type="text" ng-model="participant_sep.nom"/>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_sep.$edit">{{participant_sep.nom}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Prenom</label>
                                                <input name="prenom" type="text" ng-model="participant_sep.prenom"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_sep.$edit">{{participant_sep.prenom}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Sexe</label>
                                                <md-select ng-model="participant_sep.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                    <md-option value="1">Masculin
                                                    </md-option>
                                                    <md-option value="2">Femimin
                                                    </md-option>
                                                  </md-select>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_sep.$edit">{{vm.affichage_sexe(participant_sep.sexe)}}</span>
                                          </td> 

                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Occupation</label>
                                                <md-select ng-model="participant_sep.id_situation_participant_sep"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option ng-repeat="situation_participant_sep in vm.allsituation_participant_sep" value="{{situation_participant_sep.id}}">
                                                                                        {{situation_participant_sep.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_sep.$edit">{{participant_sep.situation_participant_sep.libelle}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!participant_sep.$edit && vm.validation_formationsep==0" ng-click="vm.modifierParticipant_sep(participant_sep)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_sep.$edit && vm.validation_formationsep==0" ng-click="vm.supprimerParticipant_sep(participant_sep)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                             <span ng-if="!participant_sep.$edit && vm.validation_formationsep==1">Aucune action disponible</span> 
                                                      
                                            <a ng-if="participant_sep.$edit" ng-click="vm.annulerParticipant_sep(participant_sep)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="participant_sep.$edit && participant_sep.nom && participant_sep.prenom && participant_sep.sexe && participant_sep.id_situation_participant_sep>''" ng-click="vm.ajoutParticipant_sep(participant_sep,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!----------------------------------FIN participant_sep ------------------------------------->        
                              
                      <!---------------------convention cisco/feffi---------------->
                      
                            </md-tabs> 
                          </ms-form-wizard>
                    <!---------------------------------FILS PRESTATION-----------------------------------------------> 

                        </md-tab-body>
                    </md-tab>                     
                    
                    <!-------------------------------Debut document moe -------------------------------------------->
                    <md-tab ng-click="vm.step_importer_doc_pr()" ng-disabled="!vm.stepdoc_pr  || vm.validation_contrat_pr==0">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body><br>

                      <div style="float: top !important">
                        <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                        <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                                Chargement,veuillez patienter s'il vous plait ...
                        </div>
                      </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_pr_scan in vm.alldocument_pr_scan"  ng-class="{selected: document_pr_scan.$selected}" ng-click="vm.selectionDocument_pr_scan(document_pr_scan)">

                                <td>                                            
                                  <span>{{document_pr_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_pr_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_pr_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_pr_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_pr_scan.fichier" disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_pr_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-changepr="uploadFile_doc_pr"  ng-model="fichier" id="fileid"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_pr_scan.$edit">{{document_pr_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_pr_scan.$edit">
                                    <md-datepicker ng-model="document_pr_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_pr_scan.$edit">{{vm.formatDate(document_pr_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_pr_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_pr_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_pr_scan.$edit">{{document_pr_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_pr_scan.$edit" ng-click="vm.modifierDocument_pr_scan(document_pr_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_pr_scan.$edit && document_pr_scan.validation==0" ng-click="vm.supprimerDocument_pr_scan(document_pr_scan)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_pr_scan.$edit && document_pr_scan.existance" ng-click="vm.download_document_pr_scan(document_pr_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_pr_scan.$edit" ng-click="vm.annulerDocument_pr_scan(document_pr_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_pr_scan.$edit && document_pr_scan.fichier && document_pr_scan.date_elaboration >''" ng-click="vm.ajoutDocument_pr_scan(document_pr_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------------FIN document moe --------------------------------------------> 
            
                  </md-tabs> 
                </ms-form-wizard>               
              </md-tab-body>
            </md-tab>

            <!-----------------------DEBUT MAITRISE DOEUVRE------------------------------------>
            <md-tab ng-disabled="!vm.stepMenu_moe" ng-click="vm.step_menu_moe()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                      <i class="icon-drawing-box s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">MAITRISE D'ŒUVRE</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >4</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
               <ms-form-wizard flex id="sousmenu"  > 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" ng-if="vm.tabmaitrise">
                <!--md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" ng-if="vm.tabmaitrise" id="{{vm.styleTabfils}}"-->

                    <!-------------------convention cisco/feffi----------------->
                    <md-tab ng-click="vm.click_passation_marches_moe()">
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">DF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Passation des marchés</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterPassation_marches_moe()" style="width:10%;" ng-disabled="!vm.showbuttonNouvPassation_moe">
                                Nouveau
                              </md-button>
                              <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_passation_moe()" style="width:10%;" ng-show="vm.showbuttonimporter_passation_moe">
                                    Importer
                            </md-button>
                          </div>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                          <div ng-show="vm.showformimporter_passation_moe">
                            <form name="formimporter_passation_moe" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_passation_moe" name="fichier_passation_moe" type="file" custom-on-change="uploadFile_passation_moe"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_passation_moe.fichier_passation_moe.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_passation_moe.$invalid" ng-click="vm.importer_passation_moe()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_passation_moe()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>
                         <div>       
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.passation_marches_moe_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="passation_marches_moe in vm.allpassation_marches_moe"  ng-class="{selected: passation_marches_moe.$selected}" ng-click="vm.selectionPassation_marches_moe(passation_marches_moe)">

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_shortlist" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_shortlist)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_manifestation" md-placeholder="Date de signature" md-max-date="vm.datenow" ng-disabled="!passation_marches_moe.date_shortlist">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_manifestation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_lancement_dp" md-placeholder="Date de signature" md-max-date="vm.datenow" ng-disabled="!passation_marches_moe.date_manifestation">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_lancement_dp)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_remise" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_lancement_dp" md-max-date="vm.datenow" ng-disabled="!passation_marches_moe.date_lancement_dp">                       
                                    </md-datepicker>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_remise)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Nombre offre recu</label>
                                      <input name="nbr_offre_recu" type="number" ng-model="passation_marches_moe.nbr_offre_recu" ng-min="1"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{passation_marches_moe.nbr_offre_recu}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_rapport_evaluation" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_remise" md-max-date="vm.datenow" ng-disabled="!passation_marches_moe.date_remise">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_rapport_evaluation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_demande_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_rapport_evaluation" md-max-date="vm.datenow"  ng-disabled="!passation_marches_moe.date_rapport_evaluation">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_demande_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_demande_ano_dpfi" md-max-date="vm.datenow"  ng-disabled="!passation_marches_moe.date_demande_ano_dpfi">                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.notification_intention" md-placeholder="Date de notification" md-min-date="passation_marches_moe.date_demande_ano_dpfi" md-max-date="vm.datenow"  ng-disabled="!passation_marches_moe.date_ano_dpfi">                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.notification_intention)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_notification_attribution" md-placeholder="Date de signature" md-min-date="passation_marches_moe.notification_intention" md-max-date="vm.datenow"  ng-disabled="!passation_marches_moe.notification_intention">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_notification_attribution)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_signature_contrat" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_notification_attribution" md-max-date="vm.datenow"  ng-disabled="!passation_marches_moe.date_notification_attribution">                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_signature_contrat)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_os" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_signature_contrat" md-max-date="vm.datenow"  ng-disabled="!passation_marches_moe.date_signature_contrat">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_os)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Statut</label>
                                      <md-select ng-model="passation_marches_moe.statut"style="overflow: hidden;text-overflow: ellipsis;">
                                        <md-option value="1">BE
                                        </md-option>
                                        <md-option value="2">CI
                                        </md-option>
                                      </md-select>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.affichageStatut(passation_marches_moe.statut)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="passation_marches_moe.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{passation_marches_moe.observation}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!passation_marches_moe.$edit && passation_marches_moe.validation==0" ng-click="vm.modifierPassation_marches_moe(passation_marches_moe)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!passation_marches_moe.$edit && passation_marches_moe.validation==0" ng-click="vm.supprimerPassation_marches_moe(passation_marches_moe)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>
                                   <span ng-if="!passation_marches_moe.$edit && passation_marches_moe.validation==1">Aucune action disponible</span>         
                                  <a ng-if="passation_marches_moe.$edit" ng-click="vm.annulerPassation_marches_moe(passation_marches_moe)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="passation_marches_moe.$edit && passation_marches_moe.date_shortlist>''" ng-click="vm.ajoutPassation_marches_moe(passation_marches_moe,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <md-tab ng-click="vm.step_contrat_moe()" ng-disabled="!vm.step_contrat_moe_onglet">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Détail contrat</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterContrat_moe()" style="width:10%;"  ng-disabled="!vm.showbuttonNouvcontrat_moe">
                                Nouveau
                              </md-button>
                              <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_contrat_moe()" style="width:10%;" ng-show="vm.showbuttonimporter_contrat_moe">
                                    Importer
                            </md-button>
                          </div>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>

                          <div ng-show="vm.showformimporter_contrat_moe">
                            <form name="formimporter_contrat_moe" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_contrat_moe" name="fichier_contrat_moe" type="file" custom-on-change="uploadFile_contrat_moe"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_contrat_moe.fichier_contrat_moe.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_contrat_moe.$invalid" ng-click="vm.importer_contrat_moe()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_contrat_moe()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.contrat_moe_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="contrat_moe in vm.allcontrat_moe"  ng-class="{selected: contrat_moe.$selected}" ng-click="vm.selectionContrat_moe(contrat_moe)">
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>moe</label>
                                      <md-select ng-model="contrat_moe.id_moe"style="overflow: hidden;text-overflow: ellipsis;">
                                        <md-option ng-repeat="moe in vm.allmoe" value="{{moe.id}}">
                                                                              {{moe.nom}}
                                        </md-option>
                                      </md-select>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.bureau_etude.nom}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Intitule objet</label>
                                      <input name="intitule" type="text" ng-model="contrat_moe.intitule"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.intitule}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Réference contrat</label>
                                      <input name="ref_contrat" type="text" ng-model="contrat_moe.ref_contrat"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.ref_contrat}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Montant contrat</label>
                                      <input name="montant_contrat" type="number" ng-model="contrat_moe.montant_contrat" ng-min="1"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{vm.formatMillier(contrat_moe.montant_contrat)}} Ar</span>
                                </td>                                

                                <td>
                                  <!--span ng-if="contrat_moe.$edit">
                                    <md-datepicker ng-model="contrat_moe.notification_intention" md-placeholder="Date de signature" md-max-date="vm.datenow" required disabled>                       
                                    </md-datepicker>
                                  </span-->                          
                                  <span>{{vm.formatDate(contrat_moe.passation.notification_intention)}}</span>
                                </td>

                                <td>
                                  <!--span ng-if="contrat_moe.$edit">
                                    <md-datepicker ng-model="contrat_moe.date_notification_attribution" md-placeholder="Date de signature" md-max-date="vm.datenow" required disabled>                       
                                    </md-datepicker>
                                  </span-->                          
                                  <span>{{vm.formatDate(contrat_moe.passation.date_notification_attribution)}}</span>
                                </td>

                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-datepicker ng-model="contrat_moe.date_signature" md-placeholder="Date de signature" md-max-date="vm.datenow" required disabled>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!contrat_moe.$edit">{{vm.formatDate(contrat_moe.date_signature)}}</span>
                                </td> 
                                <td>
                                  <!--span ng-if="contrat_moe.$edit">
                                    <md-datepicker ng-model="contrat_moe.date_os" md-placeholder="Date de signature" md-max-date="vm.datenow" required disabled>                       
                                    </md-datepicker>
                                  </span-->                          
                                  <span>{{vm.formatDate(contrat_moe.passation.date_os)}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!contrat_moe.$edit && contrat_moe.validation==0" ng-click="vm.modifierContrat_moe(contrat_moe)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!contrat_moe.$edit && contrat_moe.validation==0" ng-click="vm.supprimerContrat_moe(contrat_moe)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>
                                 <span ng-if="!contrat_moe.$edit && contrat_moe.validation==1">Aucune action disponible</span>
                                  <a ng-if="contrat_moe.$edit" ng-click="vm.annulerContrat_moe(contrat_moe)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="contrat_moe.$edit && contrat_moe.intitule && contrat_moe.ref_contrat && contrat_moe.montant_contrat &&  contrat_moe.date_signature && contrat_moe.id_moe>''" ng-click="vm.ajoutContrat_moe(contrat_moe,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>

                    <!-------------------------------Debut attachement -------------------------------------------->
                    <md-tab ng-disabled="!vm.stepcalendrier_paie_moe" ng-click="vm.step_calendrier_paie_moe()">
                        <md-tab-label>

                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Calendrier de paiement</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <ms-form-wizard flex id="sousmenu"> 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" class="kendogrid">
                          <!-----------------------------DEBUT rubrique batiment mpe------------------------------> 
                              <md-tab ng-click="vm.click_rubrique_calendrier_paie_moe()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Rubrique calendrier</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border" dt-options="vm.dtOptions" ms-responsive-table><br>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.rubrique_calendrier_paie_moe_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="rubrique_calendrier_paie_moe in vm.allrubrique_calendrier_paie_moe"  ng-class="{selected: rubrique_calendrier_paie_moe.$selected}" ng-click="vm.selectionRubrique_calendrier_paie_moe(rubrique_calendrier_paie_moe)" style="text-align: center">
                                        <td>
                                          <span>{{rubrique_calendrier_paie_moe.libelle}}</span>
                                        </td>
                                        <td>
                                          <span>{{vm.formatMillier(rubrique_calendrier_paie_moe.montant_prevu)}} Ar</span>
                                        </td>
                                      </tbody>

                                      <tfoot >
                                          <!--tr style="background-color: rgba(54,117,136,0.9); color:white;text-align: center"-->
                                          <tr style=" font-weight:bold; text-align: center">
                                            <td>TOTAL BATIMENT</td>
                                            <td>{{vm.Total_prevu_rubrique_moe()}} Ar</td>

                                          </tr>
                                      </tfoot>
                                    </table>

                                    <div style="margin-bottom: 30px"></div>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------FIN rubrique batiment mpe---------------------------------->
                          <!-----------------------------DEBUT rubrique batiment mpe------------------------------> 
                              <md-tab ng-click="vm.click_sousrubrique_calendrier_paie_moe()" ng-disabled="!vm.sousrubrique_calendrier">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Sous rubrique calendrier</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border" dt-options="vm.dtOptions" ms-responsive-table><br>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.sousrubrique_calendrier_paie_moe_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="sousrubrique_calendrier_paie_moe in vm.allsousrubrique_calendrier_paie_moe"  ng-class="{selected: sousrubrique_calendrier_paie_moe.$selected}" ng-click="vm.selectionSousrubrique_calendrier_paie_moe(sousrubrique_calendrier_paie_moe)" style="text-align: center">
                                        <td>
                                          <span>{{sousrubrique_calendrier_paie_moe.libelle}}</span>
                                        </td>
                                        <td>
                                          <span>{{vm.formatMillier(sousrubrique_calendrier_paie_moe.montant_prevu)}} Ar</span>
                                        </td>
                                      </tbody>

                                      <tfoot >
                                          <!--tr style="background-color: rgba(54,117,136,0.9); color:white;text-align: center"-->
                                          <tr style=" font-weight:bold; text-align: center">
                                            <td>TOTAL BATIMENT</td>
                                            <td>{{vm.Total_prevu_sousrubrique_moe()}} Ar</td>
                                            <!--td>{{vm.Total_prevu_sousrubrique()}} Ar HT &nbsp | &nbsp{{vm.Total_prevu_ttc()}} Ar TTC</td-->

                                          </tr>
                                      </tfoot>
                                    </table>

                                    <div style="margin-bottom: 30px"></div>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------FIN rubrique batiment mpe---------------------------------->

                         <!-----------------------------DEBUT rubrique batiment mpe------------------------------> 
                              <md-tab ng-click="vm.click_calendrier_paie_moe_prevu()" ng-disabled="!vm.calendrier_prevu">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Détail rubrique calendrier</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border" dt-options="vm.dtOptions" ms-responsive-table><br>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.calendrier_paie_moe_prevucolumn">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="calendrier_paie_moe_prevu in vm.allcalendrier_paie_moe_prevu"  ng-class="{selected: calendrier_paie_moe_prevu.$selected}" ng-click="vm.selectionCalendrier_paie_moe_prevu(calendrier_paie_moe_prevu)" style="text-align: center">
                                        <td>
                                          <span>{{calendrier_paie_moe_prevu.libelle}}</span>
                                        </td>
                                        <td>
                                          <span>{{calendrier_paie_moe_prevu.pourcentage}}</span>
                                        </td>
                                        <td>
                                          <span>{{vm.formatMillier(calendrier_paie_moe_prevu.montant_prevu)}} Ar</span>
                                        </td>
                                      </tbody>
                                    </table>
                                    <div style="margin-bottom: 30px"></div>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------FIN rubrique batiment mpe---------------------------------->

                            </md-tabs> 
                          </ms-form-wizard>
                      </md-tab-body>
                    </md-tab>
                    <md-tab ng-disabled="!vm.stepprestation_moe || vm.validation_contrat_moe==0" ng-click="vm.step_prestation_moe()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Prestation</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                       <!------------------------------FILS PRESTATION-------------------------------------------->       
                         <ms-form-wizard flex> 
                          <!--md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu"-->
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true">

                        <!-----------------------------DEBUT FORMATION DPP--------------------------------------> 
                              <md-tab ng-click="vm.step_memoire_technique()"  ng-disabled="vm.validation_contrat_moe==0">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-basket-fill s16"></i>
                                      </span-->                          
                                      
                                      <span class="ms-form-wizard-step-text">Memoire technique</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="widht:100%;">  
                                      <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterMemoire_technique()" style="width:10%;" ng-disabled="!vm.showbuttonNouvMemoire_technique">
                                        Nouveau
                                      </md-button>
                              <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_memoire_technique()" style="width:10%;" ng-show="vm.showbuttonimporter_memoire_technique">
                                    Importer
                            </md-button>
                          </div>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                          <div ng-show="vm.showformimporter_memoire_technique">
                            <form name="formimporter_memoire_technique" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_memoire_technique" name="fichier_memoire_technique" type="file" custom-on-change="uploadFile_memoire_technique"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_memoire_technique.fichier_memoire_technique.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_memoire_technique.$invalid" ng-click="vm.importer_memoire_technique()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_memoire_technique()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                    <thead>
                                      <tr>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Description</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Date livraison</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Date Approbation</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Observation</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Action</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="memoire_technique in vm.allmemoire_technique"  ng-class="{selected: memoire_technique.$selected}" ng-click="vm.selectionMemoire_technique(memoire_technique)">
                                                 
                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Description</label>
                                              <input name="description" type="text" ng-model="memoire_technique.description"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!memoire_technique.$edit">{{memoire_technique.description}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-datepicker ng-model="memoire_technique.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!memoire_technique.$edit">{{vm.formatDate(memoire_technique.date_livraison)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-datepicker ng-model="memoire_technique.date_approbation" md-placeholder="Date de approbation" md-max-date="vm.datenow" md-min-date="memoire_technique.date_livraison" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!memoire_technique.$edit">{{vm.formatDate(memoire_technique.date_approbation)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Observation</label>
                                              <input name="observation" type="text" ng-model="memoire_technique.observation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!memoire_technique.$edit">{{memoire_technique.observation}}</span>
                                        </td>

                                        <td>
                                          <a ng-if="!memoire_technique.$edit && memoire_technique.validation==0" ng-click="vm.modifierMemoire_technique(memoire_technique)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                    
                                          <a ng-if="!memoire_technique.$edit && memoire_technique.validation==0" ng-click="vm.supprimerMemoire_technique(memoire_technique)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                          </a>
                                          <span ng-if="!memoire_technique.$edit && memoire_technique.validation==1">Aucune action disponible</span>
                                                    
                                          <a ng-if="memoire_technique.$edit" ng-click="vm.annulerMemoire_technique(memoire_technique)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="memoire_technique.$edit && memoire_technique.description && memoire_technique.date_livraison && memoire_technique.date_approbation>''" ng-click="vm.ajoutMemoire_technique(memoire_technique,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN FORMATION DPP----------------------------------------------->

                        <!----------------------------------Debut participant_dpp ----------------------------------------->
                              <md-tab ng-click="vm.step_appel_offre()"  ng-disabled="!vm.step_appel || vm.validation_contrat_moe==0">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">Appel d'offre</span>
                                    </span>
                                  </md-tab-label>
                                  
                                   <md-tab-body>
                                      <div style="widht:100%;">  
                                          <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterAppel_offre()" style="width:10%;" ng-disabled="!vm.showbuttonNouvAppel_offre">
                                            Nouveau
                                          </md-button>
                                          <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_appel_offre()" style="width:10%;" ng-show="vm.showbuttonimporter_appel_offre">
                                                Importer
                                        </md-button>
                                      </div>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                                      <div ng-show="vm.showformimporter_appel_offre">
                                        <form name="formimporter_appel_offre" class="md-inline-form" novalidate >
                                              <br>
                                          <div layout="column" layout-gt-xs="row">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Fichier</label>
                                                  <input ng-model="vm.fichier_appel_offre" name="fichier_appel_offre" type="file" custom-on-change="uploadFile_appel_offre"  ng-multiple="false" required />
                                                  <div ng-messages="formimporter_appel_offre.fichier_appel_offre.$error" role="alert">
                                                    <div ng-message="required"><span>Fichier</span></div>
                                                  </div>
                                                </md-input-container>
                                              </div>

                                              <div>
                                               <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_appel_offre.$invalid" ng-click="vm.importer_appel_offre()" style="width:10%;">
                                                            Importer
                                              </md-button>
                                              <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_appel_offre()" style="width:10%;">
                                                        Annuler
                                              </md-button>
                                          </div>
                                        </form>
                                        <md-divider></md-divider><br>
                                      </div>
                                     <div>        
                                      <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                        <thead>
                                          <tr>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Description</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Date livraison</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Date Approbation</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Observation</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Action</span>
                                              </div>
                                            </th>
                                          </tr>
                                        </thead>
                                                 
                                        <tbody>
                                          <tr ng-repeat="appel_offre in vm.allappel_offre"  ng-class="{selected: appel_offre.$selected}" ng-click="vm.selectionAppel_offre(appel_offre)">
                                                     
                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Description</label>
                                                  <input name="description" type="text" ng-model="appel_offre.description"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!appel_offre.$edit">{{appel_offre.description}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-datepicker ng-model="appel_offre.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!appel_offre.$edit">{{vm.formatDate(appel_offre.date_livraison)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-datepicker ng-model="appel_offre.date_approbation" md-placeholder="Date de approbation" md-max-date="vm.datenow" md-min-date="appel_offre.date_livraison" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!appel_offre.$edit">{{vm.formatDate(appel_offre.date_approbation)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Observation</label>
                                                  <input name="observation" type="text" ng-model="appel_offre.observation"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!appel_offre.$edit">{{appel_offre.observation}}</span>
                                            </td>

                                            <td>
                                              <a ng-if="!appel_offre.$edit && appel_offre.validation==0" ng-click="vm.modifierAppel_offre(appel_offre)" title="Modifier">
                                                <span class="icon-table-edit"></span>
                                              </a>
                                                        
                                              <a ng-if="!appel_offre.$edit && appel_offre.validation==0" ng-click="vm.supprimerAppel_offre(appel_offre)" title="Supprimer">
                                                <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                              </a>                        
                                                        
                                              <span ng-if="!appel_offre.$edit && appel_offre.validation==1">Aucune action disponible</span>
                                                        
                                              <a ng-if="appel_offre.$edit" ng-click="vm.annulerAppel_offre(appel_offre)" title="Annuler modification">
                                                <span class="icon-cancel"></span>
                                              </a>
                                                        
                                              <a ng-if="appel_offre.$edit && appel_offre.description && appel_offre.date_livraison && appel_offre.date_approbation>''" ng-click="vm.ajoutAppel_offre(appel_offre,0)" title="Sauvegarder">
                                                <span class="icon-content-save"></span>
                                              </a>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>

                                  </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN participant_dpp ------------------------------------------>


                        <!---------------------------------DEBUT FORMATION ODC------------------------------------------->
                              <md-tab ng-click="vm.step_rapport_mensuel()"  ng-disabled="!vm.step_rapport || vm.validation_contrat_moe==0">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-attachment s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Rapport mensuel</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterRapport_mensuel()" style="width:10%;" ng-disabled="!vm.showbuttonNouvRapport_mensuel">
                                          Nouveau
                                        </md-button>
                                          <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_rapport_mensuel()" style="width:10%;" ng-show="vm.showbuttonimporter_rapport_mensuel">
                                                Importer
                                        </md-button>
                                      </div><br>
                                      <div ng-show="vm.showformimporter_rapport_mensuel">
                                        <form name="formimporter_rapport_mensuel" class="md-inline-form" novalidate >
                                              <br>
                                          <div layout="column" layout-gt-xs="row">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Fichier</label>
                                                  <input ng-model="vm.fichier_rapport_mensuel" name="fichier_rapport_mensuel" type="file" custom-on-change="uploadFile_rapport_mensuel"  ng-multiple="false" required />
                                                  <div ng-messages="formimporter_rapport_mensuel.fichier_rapport_mensuel.$error" role="alert">
                                                    <div ng-message="required"><span>Fichier</span></div>
                                                  </div>
                                                </md-input-container>
                                              </div>

                                              <div>
                                               <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_rapport_mensuel.$invalid" ng-click="vm.importer_rapport_mensuel()" style="width:10%;">
                                                            Importer
                                              </md-button>
                                              <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_rapport_mensuel()" style="width:10%;">
                                                        Annuler
                                              </md-button>
                                          </div>
                                        </form>
                                        <md-divider></md-divider><br>
                                      </div>

                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Numero rapport</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Description</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Date livraison</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Observation</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Action</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="rapport_mensuel in vm.allrapport_mensuel"  ng-class="{selected: rapport_mensuel.$selected}" ng-click="vm.selectionRapport_mensuel(rapport_mensuel)">
                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Numero</label>
                                                <md-select ng-model="rapport_mensuel.numero"style="overflow: hidden;text-overflow: ellipsis;" ng-change ="vm.change_numero(rapport_mensuel)">
                                                  <md-option value="1">Rapport 1</md-option>
                                                  <md-option value="2">Rapport 2</md-option>
                                                  <md-option value="3">Rapport 3</md-option>
                                                  <md-option value="4">Rapport 4</md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!rapport_mensuel.$edit">{{vm.affichage_numero(rapport_mensuel.numero)}}</span>
                                          </td>        
                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Description</label>
                                                <input name="description" type="text" ng-model="rapport_mensuel.description"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!rapport_mensuel.$edit">{{rapport_mensuel.description}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-datepicker ng-model="rapport_mensuel.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!rapport_mensuel.$edit">{{vm.formatDate(rapport_mensuel.date_livraison)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="rapport_mensuel.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!rapport_mensuel.$edit">{{rapport_mensuel.observation}}</span>
                                          </td>

                                          <td>
                                            <a ng-if="!rapport_mensuel.$edit && rapport_mensuel.validation==0" ng-click="vm.modifierRapport_mensuel(rapport_mensuel)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!rapport_mensuel.$edit && rapport_mensuel.validation==0" ng-click="vm.supprimerRapport_mensuel(rapport_mensuel)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>                        
                                                      
                                            <span ng-if="!rapport_mensuel.$edit && rapport_mensuel.validation==1">Aucune action disponible</span>
                                                      
                                            <a ng-if="rapport_mensuel.$edit" ng-click="vm.annulerRapport_mensuel(rapport_mensuel)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="rapport_mensuel.$edit && rapport_mensuel.description && rapport_mensuel.date_livraison && vm.insererrapport>''" ng-click="vm.ajoutRapport_mensuel(rapport_mensuel,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>

                       <!---------------------------------FIN FORMATION ODC------------------------------------------->

                       <!---------------------------------FIN participant ODC------------------------------------------->
                              <md-tab ng-click="vm.step_manuel_gestion()"  ng-disabled="!vm.step_manuel || vm.validation_contrat_moe==0">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==false">P</span>
                                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepTwo==true">
                                          <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Manuel de gestion</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                      <div style="widht:100%;">  
                                          <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterManuel_gestion()" style="width:10%;" ng-disabled="!vm.showbuttonNouvManuel_gestion">
                                            Nouveau
                                          </md-button>
                                          <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_manuel_gestion()" style="width:10%;" ng-show="vm.showbuttonimporter_manuel_gestion">
                                                Importer
                                        </md-button>
                                      </div><br>
                                      <div ng-show="vm.showformimporter_manuel_gestion">
                                        <form name="formimporter_manuel_gestion" class="md-inline-form" novalidate >
                                              <br>
                                          <div layout="column" layout-gt-xs="row">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Fichier</label>
                                                  <input ng-model="vm.fichier_manuel_gestion" name="fichier_manuel_gestion" type="file" custom-on-change="uploadFile_manuel_gestion"  ng-multiple="false" required />
                                                  <div ng-messages="formimporter_manuel_gestion.fichier_manuel_gestion.$error" role="alert">
                                                    <div ng-message="required"><span>Fichier</span></div>
                                                  </div>
                                                </md-input-container>
                                              </div>

                                              <div>
                                               <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_manuel_gestion.$invalid" ng-click="vm.importer_manuel_gestion()" style="width:10%;">
                                                            Importer
                                              </md-button>
                                              <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_manuel_gestion()" style="width:10%;">
                                                        Annuler
                                              </md-button>
                                          </div>
                                        </form>
                                        <md-divider></md-divider><br>
                                      </div>
                                      
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                                     <div>        
                                      <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                        <thead>
                                          <tr>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Description</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Date livraison</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Observation</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Action</span>
                                              </div>
                                            </th>
                                          </tr>
                                        </thead>
                                                 
                                        <tbody>
                                          <tr ng-repeat="manuel_gestion in vm.allmanuel_gestion"  ng-class="{selected: manuel_gestion.$selected}" ng-click="vm.selectionManuel_gestion(manuel_gestion)">
                                                     
                                            <td>
                                              <span ng-if="manuel_gestion.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Description</label>
                                                  <input name="description" type="text" ng-model="manuel_gestion.description"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!manuel_gestion.$edit">{{manuel_gestion.description}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="manuel_gestion.$edit">
                                                <md-datepicker ng-model="manuel_gestion.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!manuel_gestion.$edit">{{vm.formatDate(manuel_gestion.date_livraison)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="manuel_gestion.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Observation</label>
                                                  <input name="observation" type="text" ng-model="manuel_gestion.observation"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!manuel_gestion.$edit">{{manuel_gestion.observation}}</span>
                                            </td>

                                            <td>
                                              <a ng-if="!manuel_gestion.$edit && manuel_gestion.validation==0" ng-click="vm.modifierManuel_gestion(manuel_gestion)" title="Modifier">
                                                <span class="icon-table-edit"></span>
                                              </a>
                                                        
                                              <a ng-if="!manuel_gestion.$edit && manuel_gestion.validation==0" ng-click="vm.supprimerManuel_gestion(manuel_gestion)" title="Supprimer">
                                                <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                              </a>                        
                                                        
                                              <span ng-if="!manuel_gestion.$edit && manuel_gestion.validation==1">Aucune action disponible</span>
                                                        
                                              <a ng-if="manuel_gestion.$edit" ng-click="vm.annulerManuel_gestion(manuel_gestion)" title="Annuler modification">
                                                <span class="icon-cancel"></span>
                                              </a>
                                                        
                                              <a ng-if="manuel_gestion.$edit && manuel_gestion.description && manuel_gestion.date_livraison>''" ng-click="vm.ajoutManuel_gestion(manuel_gestion,0)" title="Sauvegarder">
                                                <span class="icon-content-save"></span>
                                              </a>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>

                                  </md-tab-body>
                              </md-tab>
                       <!--------------------------------DEBUT participant emies----------------------------------------->

                       <!--------------------------------DEBUT Formation emies----------------------------------------->

                            <md-tab ng-click="vm.step_police_assurance()"  ng-disabled="!vm.step_police || vm.validation_contrat_moe==0">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-currency-eur s16"></i>
                                    </span-->
                                  <span class="ms-form-wizard-step-text">Police d'assurance</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">  
                                    <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterPolice_assurance()" style="width:10%;" ng-disabled="!vm.showbuttonNouvPolice_assurance">
                                      Nouveau
                                    </md-button>
                                          <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_police_assurance()" style="width:10%;" ng-show="vm.showbuttonimporter_police_assurance">
                                                Importer
                                        </md-button>
                                      </div><br>
                                      <div ng-show="vm.showformimporter_police_assurance">
                                        <form name="formimporter_police_assurance" class="md-inline-form" novalidate >
                                              <br>
                                          <div layout="column" layout-gt-xs="row">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Fichier</label>
                                                  <input ng-model="vm.fichier_police_assurance" name="fichier_police_assurance" type="file" custom-on-change="uploadFile_police_assurance"  ng-multiple="false" required />
                                                  <div ng-messages="formimporter_police_assurance.fichier_police_assurance.$error" role="alert">
                                                    <div ng-message="required"><span>Fichier</span></div>
                                                  </div>
                                                </md-input-container>
                                              </div>

                                              <div>
                                               <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_police_assurance.$invalid" ng-click="vm.importer_police_assurance()" style="width:10%;">
                                                            Importer
                                              </md-button>
                                              <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_police_assurance()" style="width:10%;">
                                                        Annuler
                                              </md-button>
                                          </div>
                                        </form>
                                        <md-divider></md-divider><br>
                                      </div>
                              
                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Description</span>
                                        </div>
                                      </th>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Date expiration</span>
                                        </div>
                                      </th>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Observation</span>
                                        </div>
                                      </th>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Action</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="police_assurance in vm.allpolice_assurance"  ng-class="{selected: police_assurance.$selected}" ng-click="vm.selectionPolice_assurance(police_assurance)">
                                                
                                      <td>
                                        <span ng-if="police_assurance.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Description</label>
                                            <input name="description" type="text" ng-model="police_assurance.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!police_assurance.$edit">{{police_assurance.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="police_assurance.$edit">
                                          <md-datepicker ng-model="police_assurance.date_expiration" md-placeholder="Date de expiration" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!police_assurance.$edit">{{vm.formatDate(police_assurance.date_expiration)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="police_assurance.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="police_assurance.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!police_assurance.$edit">{{police_assurance.observation}}</span>
                                      </td>

                                      <td>
                                        <a ng-if="!police_assurance.$edit && police_assurance.validation==0" ng-click="vm.modifierPolice_assurance(police_assurance)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!police_assurance.$edit && police_assurance.validation==0" ng-click="vm.supprimerPolice_assurance(police_assurance)" title="Supprimer">
                                          <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!police_assurance.$edit && police_assurance.validation==1">Aucune action disponible</span>          
                                        <a ng-if="police_assurance.$edit" ng-click="vm.annulerPolice_assurance(police_assurance)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="police_assurance.$edit && police_assurance.description && police_assurance.date_expiration>''" ng-click="vm.ajoutPolice_assurance(police_assurance,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation emies------------------------------------------>
                            
                      <!---------------------convention cisco/feffi---------------->
                      
                            </md-tabs> 
                          </ms-form-wizard>
                    <!---------------------------------FILS PRESTATION-----------------------------------------------> 

                      </md-tab-body>
                    </md-tab>

                    <!---------------------------------Avenant MOE-----------------------------------------------> 
                    <md-tab ng-disabled="!vm.stepprestation_moe || vm.validation_contrat_moe==0" ng-click="vm.step_avenant_moe()">                    
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Avenant</span>
                        </span>
                       
                      </md-tab-label>

                      <md-tab-body>
                        <div style="widht:100%;">  
                                    <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterAvenant_moe()" style="width:10%;" ng-show="vm.showbuttonNouvavenant_moe">
                                      Nouveau
                                    </md-button><br>
                                </div>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>   
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.avenant_moe_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="avenant_moe in vm.allavenant_moe"  ng-class="{selected: avenant_moe.$selected}" ng-click="vm.selectionAvenant_moe(avenant_moe)">
                                                
                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Descriprtion</label>
                                            <input name="description" type="text" ng-model="avenant_moe.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_moe.$edit">{{avenant_moe.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Référence avenant</label>
                                            <input name="ref_avenant" type="text" ng-model="avenant_moe.ref_avenant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_moe.$edit">{{avenant_moe.ref_avenant}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout batiment</label>
                                            <input name="montant" type="number" ng-model="avenant_moe.montant" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_moe.$edit">{{vm.formatMillier(avenant_moe.montant)}} Ar</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-datepicker ng-model="avenant_moe.date_signature" md-placeholder="Date de signature" md-max-date="vm.date_now" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!avenant_moe.$edit">{{vm.formatDate(avenant_moe.date_signature)}}</span>
                                      </td>                      
                                      <td>
                                        <a ng-if="!avenant_moe.$edit && avenant_moe.validation==0" ng-click="vm.modifierAvenant_moe(avenant_moe)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!avenant_moe.$edit && avenant_moe.validation==0" ng-click="vm.supprimerAvenant_moe(avenant_moe)" title="Supprimer">
                                          <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!avenant_moe.$edit && avenant_moe.validation==1">Aucune action disponible</span>          
                                        <a ng-if="avenant_moe.$edit" ng-click="vm.annulerAvenant_moe(avenant_moe)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="avenant_moe.$edit && avenant_moe.description &&  avenant_moe.montant &&  avenant_moe.date_signature>''" ng-click="vm.ajoutAvenant_moe(avenant_moe,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                      </md-tab-body>
                    </md-tab>
                    <!---------------------------------Avenant MOE-----------------------------------------------> 
                    <!-------------------------------Debut document moe -------------------------------------------->
                    <md-tab ng-click="vm.step_importerdocument_moe()" ng-disabled="vm.validation_contrat_moe==0 || !vm.stepdoc_moe">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_moe_scan in vm.alldocument_moe_scan"  ng-class="{selected: document_moe_scan.$selected}" ng-click="vm.selectionDocument_moe_scan(document_moe_scan)">

                                <td>                                            
                                  <span>{{document_moe_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_moe_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_moe_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_moe_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_moe_scan.fichier"  disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_moe_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-change="uploadFile_doc_moe"  ng-model="fichier" id="fileid" ng-change="vm.change_fichier(fichier)"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_moe_scan.$edit">{{document_moe_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_moe_scan.$edit">
                                    <md-datepicker ng-model="document_moe_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" ng-init="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_moe_scan.$edit">{{vm.formatDate(document_moe_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_moe_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_moe_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_moe_scan.$edit">{{document_moe_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_moe_scan.$edit && (document_moe_scan.validation==0 || document_moe_scan.validation==null)" ng-click="vm.modifierDocument_moe_scan(document_moe_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_moe_scan.$edit && document_moe_scan.validation==0" ng-click="vm.supprimerDocument_moe_scan(document_moe_scan)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_moe_scan.$edit && document_moe_scan.existance" ng-click="vm.download_document_moe_scan(document_moe_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_moe_scan.$edit" ng-click="vm.annulerDocument_moe_scan(document_moe_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_moe_scan.$edit && document_moe_scan.fichier && document_moe_scan.date_elaboration >''" ng-click="vm.ajoutDocument_moe_scan(document_moe_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------------FIN document moe -------------------------------------------->            
                  </md-tabs> 
                </ms-form-wizard>               
              </md-tab-body>
            </md-tab> 

            <!-----------------------FIN MAITRISE DOEUVRE--------------------------------------------->


             <!-----------------------DEBUT ENTREPRISE------------------------------------>
            <md-tab ng-disabled="vm.stepMenu_mpe==false" ng-click="vm.step_menu_mpe()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepMenu==true">
                      <i class="icon-worker s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">ENTREPRISE</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >4</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
                <!--div style="padding: 1px"></div-->
               <ms-form-wizard flex > 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" ng-if="vm.tabentreprise">
                <!--md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" ng-if="vm.tabentreprise" id="{{vm.styleTabfils}}"-->
                    <md-tab ng-click="vm.steppassation_marches()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">DF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Passation des marchés</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterPassation_marches()" style="width:10%;" ng-disabled="!vm.showbuttonNouvPassation">
                                Nouveau
                              </md-button>
                              <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_passation_mpe()" style="width:10%;" ng-show="vm.showbuttonimporter_passation_mpe">
                                    Importer
                            </md-button>
                          </div><br>
                          <div ng-show="vm.showformimporter_passation_mpe">
                            <form name="formimporter_passation_mpe" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_passation_mpe" name="fichier_passation_mpe" type="file" custom-on-change="uploadFile_passation_mpe"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_passation_mpe.fichier_passation_mpe.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_passation_mpe.$invalid" ng-click="vm.importer_passation_mpe()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_passation_mpe()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.passation_marches_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="passation_marches in vm.allpassation_marches"  ng-class="{selected: passation_marches.$selected}" ng-click="vm.selectionPassation_marches(passation_marches)">           
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_lancement" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_lancement)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_remise" md-placeholder="Date de signature" md-min-date="passation_marches.date_lancement" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_lancement">                       
                                    </md-datepicker>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_remise)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Nombre offre recu</label>
                                      <input name="nbr_offre_recu" type="text" ng-model="passation_marches.nbr_offre_recu" disabled/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{passation_marches.nbr_offre_recu}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Montant moins chere</label>
                                      <input name="montant_moin_chere" type="number" ng-model="passation_marches.montant_moin_chere" ng-min="1"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatMillier(passation_marches.montant_moin_chere)}} Ar</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_rapport_evaluation" md-placeholder="Date de signature" md-min-date="passation_marches.date_remise" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_lancement">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_rapport_evaluation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_demande_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches.date_rapport_evaluation" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_rapport_evaluation">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_demande_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches.date_demande_ano_dpfi" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_demande_ano_dpfi">                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.notification_intention" md-placeholder="Date de notification" md-min-date="passation_marches.date_demande_ano_dpfi" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_ano_dpfi">                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.notification_intention)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_notification_attribution" md-placeholder="Date de signature" md-min-date="passation_marches.notification_intention" md-max-date="vm.datenow" required ng-disabled="!passation_marches.notification_intention">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_notification_attribution)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_signature_contrat" md-placeholder="Date de signature" md-min-date="passation_marches.date_notification_attribution" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_notification_attribution">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_signature_contrat)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_os" md-placeholder="Date de signature" md-min-date="passation_marches.date_signature_contrat" md-max-date="vm.datenow" required ng-disabled="!passation_marches.date_signature_contrat">                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_os)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="passation_marches.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{passation_marches.observation}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!passation_marches.$edit && passation_marches.validation ==0" ng-click="vm.modifierPassation_marches(passation_marches)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!passation_marches.$edit && passation_marches.validation ==0" ng-click="vm.supprimerPassation_marches(passation_marches)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>

                                  <span ng-if="!passation_marches.$edit && passation_marches.validation ==1">Aucune action disponible</span> 
                                            
                                  <a ng-if="passation_marches.$edit" ng-click="vm.annulerPassation_marches(passation_marches)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="passation_marches.$edit && passation_marches.date_lancement>''" ng-click="vm.ajoutPassation_marches(passation_marches,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>                    
                    <!----------------------------Fin Passation marches-------------------------------------------->

                    <!-----------------------------------MPE sousmissionnaire-------------------------------------------->
                       <md-tab ng-disabled="!vm.stepsoumissionnaire" ng-click="vm.stepmpe_soumissionaire()">
                          <md-tab-label>
                            <span class="ms-form-wizard-step-label">
                                <span class="ms-form-wizard-step-text">mpe soumissionaire</span>
                            </span>
                          </md-tab-label>
                          
                          <md-tab-body>
                            <div style="widht:100%;">  
                                <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterMpe_soumissionaire()" style="width:10%;" ng-disabled="vm.validation_passation!=0">
                                  Nouveau
                                </md-button>
                                        <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_mpe_soumissionaire()" style="width:10%;" ng-show="vm.showbuttonimporter_mpe_soumissionaire">
                                              Importer
                                      </md-button>
                                    </div><br>
                                    <div ng-show="vm.showformimporter_mpe_soumissionaire">
                                      <form name="formimporter_mpe_soumissionaire" class="md-inline-form" novalidate >
                                            <br>
                                        <div layout="column" layout-gt-xs="row">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Fichier</label>
                                                <input ng-model="vm.fichier_mpe_soumissionaire" name="fichier_mpe_soumissionaire" type="file" custom-on-change="uploadFile_mpe_soumissionaire"  ng-multiple="false" required />
                                                <div ng-messages="formimporter_mpe_soumissionaire.fichier_mpe_soumissionaire.$error" role="alert">
                                                  <div ng-message="required"><span>Fichier</span></div>
                                                </div>
                                              </md-input-container>
                                            </div>

                                            <div>
                                             <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_mpe_soumissionaire.$invalid" ng-click="vm.importer_mpe_soumissionaire()" style="width:10%;">
                                                          Importer
                                            </md-button>
                                            <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_mpe_soumissionaire()" style="width:10%;">
                                                      Annuler
                                            </md-button>
                                        </div>
                                      </form>
                                      <md-divider></md-divider><br>
                                    </div>
                           <div>        
                            <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                              <thead>
                                <tr>
                                  <th class="secondary-text" ng-repeat="mem in ::vm.mpe_soumissionaire_column">
                                    <div class="table-header">
                                      <span class="column-title">{{mem.titre}}</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                                       
                              <tbody>
                                <tr ng-repeat="mpe_soumissionaire in vm.allmpe_soumissionaire"  ng-class="{selected: mpe_soumissionaire.$selected}" ng-click="vm.selectionMpe_soumissionaire(mpe_soumissionaire)">
                                            
                                  <td>
                                    <span ng-if="mpe_soumissionaire.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Prestataire</label>
                                        <md-select ng-model="mpe_soumissionaire.id_prestataire"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.changePrestataire(mpe_soumissionaire)">
                                          <md-option ng-repeat="prestataire in vm.allprestataire" value="{{prestataire.id}}">
                                                                                {{prestataire.nom}}
                                          </md-option>
                                        </md-select>
                                      </md-input-container>   
                                    </span> 
                                    <span ng-if="!mpe_soumissionaire.$edit">{{mpe_soumissionaire.prestataire.nom}}</span>
                                  </td>          
                                  <td>
                                    <span ng-if="mpe_soumissionaire.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Telephone</label>
                                        <input name="telephone" type="text" ng-model="mpe_soumissionaire.telephone" disabled/>
                                      </md-input-container>   
                                    </span>
                                              
                                    <span ng-if="!mpe_soumissionaire.$edit">{{mpe_soumissionaire.prestataire.telephone}}</span>
                                  </td>
                                            
                                  <td>
                                    <span ng-if="mpe_soumissionaire.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Siège</label>
                                        <input name="siege" type="text" ng-model="mpe_soumissionaire.siege" disabled/>
                                      </md-input-container>   
                                    </span>
                                              
                                    <span ng-if="!mpe_soumissionaire.$edit">{{mpe_soumissionaire.prestataire.siege}}</span>
                                  </td>                       
                                  <td>
                                    <a ng-if="!mpe_soumissionaire.$edit && vm.validation_passation ==0" ng-click="vm.modifierMpe_soumissionaire(mpe_soumissionaire)" title="Modifier">
                                      <span class="icon-table-edit"></span>
                                    </a>
                                              
                                    <a ng-if="!mpe_soumissionaire.$edit  && vm.validation_passation ==0" ng-click="vm.supprimerMpe_soumissionaire(mpe_soumissionaire)" title="Supprimer">
                                      <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                    </a>
                                    <span ng-if="!mpe_soumissionaire.$edit  && vm.validation_passation ==1">Aucune action disponible</span>          
                                    <a ng-if="mpe_soumissionaire.$edit" ng-click="vm.annulerMpe_soumissionaire(mpe_soumissionaire)" title="Annuler modification">
                                      <span class="icon-cancel"></span>
                                    </a>
                                              
                                    <a ng-if="mpe_soumissionaire.$edit && mpe_soumissionaire.id_prestataire>''" ng-click="vm.ajoutMpe_soumissionaire(mpe_soumissionaire,0)" title="Sauvegarder">
                                      <span class="icon-content-save"></span>
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                        </md-tab-body>
                      </md-tab>
                    <!-----------------------------------------MPE sousmissionnaire-------------------------------------------->

                    <!------------------------------------------------Debut contrat mpe----------------------------------------->
                    <md-tab ng-click="vm.step_contrat_mpe()" ng-disabled="!vm.step_detail_contrat_mpe">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Détail contrat</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterContrat_prestataire()" style="width:10%;" ng-disabled="!vm.showbuttonNouvContrat_prestataire">
                                Nouveau
                              </md-button>
                              <md-button type="submit" class="md-raised md-accent md-cyan-900-bg" aria-label="Importer" ng-click="vm.affichageformimporter_contrat_mpe()" style="width:10%;" ng-show="vm.showbuttonimporter_contrat_mpe">
                                    Importer
                            </md-button>
                          </div>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                          <div ng-show="vm.showformimporter_contrat_mpe">
                            <form name="formimporter_contrat_mpe" class="md-inline-form" novalidate >
                                  <br>
                              <div layout="column" layout-gt-xs="row">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input ng-model="vm.fichier_contrat_mpe" name="fichier_contrat_mpe" type="file" custom-on-change="uploadFile_contrat_mpe"  ng-multiple="false" required />
                                      <div ng-messages="formimporter_contrat_mpe.fichier_contrat_mpe.$error" role="alert">
                                        <div ng-message="required"><span>Fichier</span></div>
                                      </div>
                                    </md-input-container>
                                  </div>

                                  <div>
                                   <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formimporter_contrat_mpe.$invalid" ng-click="vm.importer_contrat_mpe()" style="width:10%;">
                                                Importer
                                  </md-button>
                                  <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerimporter_contrat_mpe()" style="width:10%;">
                                            Annuler
                                  </md-button>
                              </div>
                            </form>
                            <md-divider></md-divider><br>
                          </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.contrat_prestataire_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="contrat_prestataire in vm.allcontrat_prestataire"  ng-class="{selected: contrat_prestataire.$selected}" ng-click="vm.selectionContrat_prestataire(contrat_prestataire)">
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Prestataire</label>
                                      <md-select ng-model="contrat_prestataire.id_prestataire"style="overflow: hidden;text-overflow: ellipsis;">
                                        <md-option ng-repeat="prestataire in vm.allprestataire" value="{{prestataire.id}}">
                                                                              {{prestataire.nom}}
                                        </md-option>
                                      </md-select>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.prestataire.nom}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Descriprtion</label>
                                      <input name="description" type="text" ng-model="contrat_prestataire.description"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.description}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Numero contrat</label>
                                      <input name="num_contrat" type="text" ng-model="contrat_prestataire.num_contrat"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.num_contrat}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Cout batiment</label>
                                      <input name="cout_batiment" type="number" ng-model="contrat_prestataire.cout_batiment" ng-change="vm.change_montant_mpe(contrat_prestataire)" disabled/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatMillier(contrat_prestataire.cout_batiment)}} Ar</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Cout latrine</label>
                                      <input name="cout_latrine" type="number" ng-model="contrat_prestataire.cout_latrine" ng-change="vm.change_montant_mpe(contrat_prestataire)" disabled/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatMillier(contrat_prestataire.cout_latrine)}} Ar</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Cout Mobilier</label>
                                      <input name="cout_mobilier" type="number" ng-model="contrat_prestataire.cout_mobilier" ng-change="vm.change_montant_mpe(contrat_prestataire)" disabled/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatMillier(contrat_prestataire.cout_mobilier)}} Ar</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Montant HT</label>
                                      <input name="montant_total_ht" type="number" ng-model="contrat_prestataire.montant_total_ht" disabled />
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatMillier(contrat_prestataire.montant_total_ht)}} Ar</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Montant TTC</label>
                                      <input name="montant_total_ttc" type="number" ng-model="contrat_prestataire.montant_total_ttc" disabled />
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatMillier(contrat_prestataire.montant_total_ttc)}} Ar</span>
                                </td>

                                <td>                         
                                  <span>{{vm.formatDate(contrat_prestataire.passation.notification_intention)}}</span>
                                </td>

                                <td>                         
                                  <span>{{vm.formatDate(contrat_prestataire.passation.date_notification_attribution)}}</span>
                                </td>

                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-datepicker ng-model="contrat_prestataire.date_signature" md-placeholder="Date de signature" md-max-date="vm.datenow" required disabled>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatDate(contrat_prestataire.date_signature)}}</span>
                                </td>

                                <td>                          
                                  <span>{{vm.formatDate(contrat_prestataire.passation.date_os)}}</span>
                                </td>                                                             
                                <td>
                                  <a ng-if="!contrat_prestataire.$edit && contrat_prestataire.validation==0" ng-click="vm.modifierContrat_prestataire(contrat_prestataire)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!contrat_prestataire.$edit && contrat_prestataire.validation==0" ng-click="vm.supprimerContrat_prestataire(contrat_prestataire)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>
                                  <span ng-if="!contrat_prestataire.$edit && contrat_prestataire.validation==1">Aucune action disponible</span>          
                                  <a ng-if="contrat_prestataire.$edit" ng-click="vm.annulerContrat_prestataire(contrat_prestataire)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="contrat_prestataire.$edit && contrat_prestataire.description && contrat_prestataire.num_contrat && contrat_prestataire.date_signature && contrat_prestataire.id_prestataire>''" ng-click="vm.ajoutContrat_prestataire(contrat_prestataire,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>

                    <!-------------------------------Debut attachement -------------------------------------------->
                    <md-tab ng-disabled="!vm.stepattachement" ng-click="vm.step_attachement_prevu()">
                        <md-tab-label>

                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Attachement prévu</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <ms-form-wizard flex id="sousmenu"> 
                          <!--md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu" class="kendogrid"--> 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" class="kendogrid" id="acc_sous_menu">
                          <!-----------------------------DEBUT rubrique batiment mpe------------------------------> 
                              <md-tab ng-click="vm.click_rubrique_attachement_batiment_mpe()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                        
                                      
                                      <span class="ms-form-wizard-step-text">Rubrique attachement batiment</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.rubrique_attachement_batiment_mpe_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="rubrique_attachement_batiment_mpe in vm.allrubrique_attachement_batiment_mpe"  ng-class="{selected: rubrique_attachement_batiment_mpe.$selected}" ng-click="vm.selectionRubrique_attachement_batiment_mpe(rubrique_attachement_batiment_mpe)" style="text-align: center">

                                        <td>
                                          <span>{{rubrique_attachement_batiment_mpe.numero}}</span>
                                        </td>
                                        <td>
                                          <span>{{rubrique_attachement_batiment_mpe.libelle}}</span>
                                        </td>
                                        <td>
                                          <span>{{vm.formatMillier(rubrique_attachement_batiment_mpe.montant_prevu)}} Ar</span>
                                        </td>
                                      </tbody>

                                      <tfoot >
                                          <!--tr style="background-color: rgba(54,117,136,0.9); color:white;text-align: center"-->
                                          <tr style=" font-weight:bold; text-align: center">
                                            <td colspan="2">TOTAL BATIMENT</td>
                                            <td>{{vm.Total_prevu()}} Ar HT &nbsp | &nbsp{{vm.Total_prevu_ttc()}} Ar TTC</td>

                                          </tr>
                                      </tfoot> 
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------FIN rubrique batiment mpe---------------------------------->

                        <!------------------------Debut attachement batiment prevu------------------------------>
                              <md-tab ng-click="vm.click_tab_attachement_batiment_prevu()" ng-disabled="!vm.stepattachement_batiment_detail">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                        
                                      
                                      <span class="ms-form-wizard-step-text">Attachement batiment détail</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>

                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.attachement_batiment_prevu_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="divers_attachement_batiment_prevu in vm.alldivers_attachement_batiment_prevu"  ng-class="{selected: divers_attachement_batiment_prevu.$selected}" ng-click="vm.selectionDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)">

                                        <td>
                                          <span>{{divers_attachement_batiment_prevu.numero}}</span>
                                        </td>
                                        <td>
                                          <span>{{divers_attachement_batiment_prevu.libelle}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_batiment_prevu.$edit">
                                            <md-input-container>
                                              <label>Unite</label>
                                            <input type="text" name="unite" aria-label="Unite"  ng-model="divers_attachement_batiment_prevu.unite" required />
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_batiment_prevu.$edit">{{divers_attachement_batiment_prevu.unite}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_batiment_prevu.$edit">
                                            <md-input-container>
                                              <label>Quantite prevu</label>
                                            <input type="number" name="quantite_prevu" aria-label="Quantite prevu"  ng-model="divers_attachement_batiment_prevu.quantite_prevu" required ng-change="vm.change_quantite_prix(divers_attachement_batiment_prevu)" ng-min="0.00000001"/>
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_batiment_prevu.$edit">{{vm.formatMillier(divers_attachement_batiment_prevu.quantite_prevu)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_batiment_prevu.$edit">
                                            <md-input-container>
                                              <label>Prix unitaire</label>
                                            <input type="number" name="prix_unitaire" aria-label="Prix unitaire"  ng-model="divers_attachement_batiment_prevu.prix_unitaire" required ng-change="vm.change_quantite_prix(divers_attachement_batiment_prevu)" ng-min="0.00000001"/>
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_batiment_prevu.$edit">{{vm.formatMillier(divers_attachement_batiment_prevu.prix_unitaire)}} Ar</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_batiment_prevu.$edit">
                                            <md-input-container>
                                              <label>Montant prevu</label>
                                            <input type="number" name="montant_prevu" aria-label="Montant prevu"  ng-model="divers_attachement_batiment_prevu.montant_prevu" disabled />
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_batiment_prevu.$edit">{{vm.formatMillier(divers_attachement_batiment_prevu.montant_prevu)}} Ar</span>
                                        </td>
                                                                     
                                        <td>  
                                          <a ng-if="!divers_attachement_batiment_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.modifierDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                    
                                          <a ng-if="!divers_attachement_batiment_prevu.$edit && divers_attachement_batiment_prevu.id!=0 && vm.validation_contrat_prestataire==0" ng-click="vm.supprimerDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                          </a>
                                          
                                           <span ng-if="!divers_attachement_batiment_prevu.$edit && vm.validation_contrat_prestataire==1">Aucune action disponible</span>          
                                          <a ng-if="divers_attachement_batiment_prevu.$edit" ng-click="vm.annulerDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="divers_attachement_batiment_prevu.$edit && divers_attachement_batiment_prevu.unite && divers_attachement_batiment_prevu.prix_unitaire && divers_attachement_batiment_prevu.quantite_prevu>''" ng-click="vm.ajoutDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                         
                        <!------------------------Debut attachement batiment prevu------------------------------>  

                        <!-----------------------------DEBUT rubrique batiment mpe------------------------------> 
                              <md-tab ng-click="vm.click_rubrique_attachement_latrine_mpe()" ng-disabled="!vm.steprubriquetachement_latrine" >
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                        
                                      
                                      <span class="ms-form-wizard-step-text">Rubrique attachement latrine</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="clear:both;"></div>            
                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.rubrique_attachement_latrine_mpe_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="rubrique_attachement_latrine_mpe in vm.allrubrique_attachement_latrine_mpe"  ng-class="{selected: rubrique_attachement_latrine_mpe.$selected}" ng-click="vm.selectionRubrique_attachement_latrine_mpe(rubrique_attachement_latrine_mpe)" style="text-align: center">

                                        <td>
                                          <span>{{rubrique_attachement_latrine_mpe.numero}}</span>
                                        </td>
                                        <td>
                                          <span>{{rubrique_attachement_latrine_mpe.libelle}}</span>
                                        </td>
                                        <td>
                                          <span>{{vm.formatMillier(rubrique_attachement_latrine_mpe.montant_prevu)}} Ar</span>
                                        </td>
                                      </tbody>

                                      <tfoot >
                                          <!--tr style="background-color: rgba(54,117,136,0.9); color:white;text-align: center"-->
                                          <tr style=" font-weight:bold; text-align: center">
                                            <td colspan="2">TOTAL LATRINE</td>
                                            <td>{{vm.Total_prevu_latrine()}} Ar HT &nbsp | &nbsp{{vm.Total_prevu_latrine_ttc()}}  Ar TTC
                                          </tr>
                                      </tfoot> 
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------FIN rubrique latrine mpe---------------------------------->

                        <!------------------------Debut attachement latrine prevu------------------------------>
                              <md-tab ng-click="vm.click_tab_attachement_latrine_prevu()" ng-disabled="!vm.stepattachement_latrine_detail">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                        
                                      
                                      <span class="ms-form-wizard-step-text">Attachement latrine détail</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.attachement_latrine_prevu_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="divers_attachement_latrine_prevu in vm.alldivers_attachement_latrine_prevu"  ng-class="{selected: divers_attachement_latrine_prevu.$selected}" ng-click="vm.selectionDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)">

                                        <td>
                                          <span>{{divers_attachement_latrine_prevu.numero}}</span>
                                        </td>
                                        <td>
                                          <span>{{divers_attachement_latrine_prevu.libelle}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_latrine_prevu.$edit">
                                            <md-input-container>
                                              <label>Unite</label>
                                            <input type="text" name="unite" aria-label="Unite"  ng-model="divers_attachement_latrine_prevu.unite" required />
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_latrine_prevu.$edit">{{divers_attachement_latrine_prevu.unite}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_latrine_prevu.$edit">
                                            <md-input-container>
                                              <label>Quantite prevu</label>
                                            <input type="number" name="quantite_prevu" aria-label="Quantite prevu"  ng-model="divers_attachement_latrine_prevu.quantite_prevu" required ng-change="vm.change_quantite_prix_latrine(divers_attachement_latrine_prevu)" ng-min="0.00000001"/>
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_latrine_prevu.$edit">{{vm.formatMillier(divers_attachement_latrine_prevu.quantite_prevu)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_latrine_prevu.$edit">
                                            <md-input-container>
                                              <label>Prix unitaire</label>
                                            <input type="number" name="prix_unitaire" aria-label="Prix unitaire"  ng-model="divers_attachement_latrine_prevu.prix_unitaire" required ng-change="vm.change_quantite_prix_latrine(divers_attachement_latrine_prevu)" ng-min="0.00000001"/>
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_latrine_prevu.$edit">{{vm.formatMillier(divers_attachement_latrine_prevu.prix_unitaire)}} Ar</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_latrine_prevu.$edit">
                                            <md-input-container>
                                              <label>Montant prevu</label>
                                            <input type="number" name="montant_prevu" aria-label="Montant prevu"  ng-model="divers_attachement_latrine_prevu.montant_prevu" disabled />
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_latrine_prevu.$edit">{{vm.formatMillier(divers_attachement_latrine_prevu.montant_prevu)}} Ar</span>
                                        </td>
                                                                     
                                        <td>  
                                          <a ng-if="!divers_attachement_latrine_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.modifierDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                    
                                          <a ng-if="!divers_attachement_latrine_prevu.$edit && divers_attachement_latrine_prevu.id!=0 && vm.validation_contrat_prestataire==0" ng-click="vm.supprimerDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                          </a>
                                           <span ng-if="!divers_attachement_latrine_prevu.$edit && vm.validation_contrat_prestataire==1">Aucune action disponible</span>         
                                          <a ng-if="divers_attachement_latrine_prevu.$edit" ng-click="vm.annulerDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="divers_attachement_latrine_prevu.$edit && divers_attachement_latrine_prevu.unite && divers_attachement_latrine_prevu.prix_unitaire && divers_attachement_latrine_prevu.quantite_prevu>''" ng-click="vm.ajoutDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!------------------------Fin attachement latrine prevu------------------------------>
  

                        <!-----------------------------DEBUT rubrique batiment mpe------------------------------> 
                              <md-tab ng-click="vm.click_rubrique_attachement_mobilier_mpe()" ng-disabled="!vm.steprubriquetachement_mobilier">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                        
                                      
                                      <span class="ms-form-wizard-step-text">Rubrique attachement mobilier</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                 <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.rubrique_attachement_mobilier_mpe_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="rubrique_attachement_mobilier_mpe in vm.allrubrique_attachement_mobilier_mpe"  ng-class="{selected: rubrique_attachement_mobilier_mpe.$selected}" ng-click="vm.selectionRubrique_attachement_mobilier_mpe(rubrique_attachement_mobilier_mpe)" style="text-align: center">

                                        <td>
                                          <span>{{rubrique_attachement_mobilier_mpe.numero}}</span>
                                        </td>
                                        <td>
                                          <span>{{rubrique_attachement_mobilier_mpe.libelle}}</span>
                                        </td>
                                        <td>
                                          <span>{{vm.formatMillier(rubrique_attachement_mobilier_mpe.montant_prevu)}} Ar</span>
                                        </td>
                                      </tbody>

                                      <tfoot >
                                          <!--tr style="background-color: rgba(54,117,136,0.9); color:white;text-align: center"-->
                                          <tr style=" font-weight:bold; text-align: center">
                                            <td colspan="2">TOTAL MOBILIER</td>
                                            <td>{{vm.Total_prevu_mobilier()}} Ar HT &nbsp | &nbsp{{vm.Total_prevu_mobilier_ttc()}} Ar TTC
                                          </tr>
                                      </tfoot> 
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------FIN rubrique mobilier mpe---------------------------------->

                        <!------------------------Debut attachement mobilier prevu------------------------------>
                              <md-tab ng-click="vm.click_tab_attachement_mobilier_prevu()" ng-disabled="!vm.stepattachement_mobilier_detail">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                        
                                      
                                      <span class="ms-form-wizard-step-text">Attachement mobilier détail</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>                                   
                                   <div>        
                                    <table class="dataTable row-border hover cell-border"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.attachement_mobilier_prevu_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="divers_attachement_mobilier_prevu in vm.alldivers_attachement_mobilier_prevu"  ng-class="{selected: divers_attachement_mobilier_prevu.$selected}" ng-click="vm.selectionDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)">

                                        <td>
                                          <span>{{divers_attachement_mobilier_prevu.numero}}</span>
                                        </td>
                                        <td>
                                          <span>{{divers_attachement_mobilier_prevu.libelle}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_mobilier_prevu.$edit">
                                            <md-input-container>
                                              <label>Unite</label>
                                            <input type="text" name="unite" aria-label="Unite"  ng-model="divers_attachement_mobilier_prevu.unite" required />
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_mobilier_prevu.$edit">{{divers_attachement_mobilier_prevu.unite}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_mobilier_prevu.$edit">
                                            <md-input-container>
                                              <label>Quantite prevu</label>
                                            <input type="number" name="quantite_prevu" aria-label="Quantite prevu"  ng-model="divers_attachement_mobilier_prevu.quantite_prevu" required ng-change="vm.change_quantite_prix_mobilier(divers_attachement_mobilier_prevu)" ng-min="0.00000001"/>
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_mobilier_prevu.$edit">{{vm.formatMillier(divers_attachement_mobilier_prevu.quantite_prevu)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_mobilier_prevu.$edit">
                                            <md-input-container>
                                              <label>Prix unitaire</label>
                                            <input type="number" name="prix_unitaire" aria-label="Prix unitaire"  ng-model="divers_attachement_mobilier_prevu.prix_unitaire" required ng-change="vm.change_quantite_prix_mobilier(divers_attachement_mobilier_prevu)" ng-min="0.00000001"/>
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_mobilier_prevu.$edit">{{vm.formatMillier(divers_attachement_mobilier_prevu.prix_unitaire)}} Ar</span>
                                        </td>

                                        <td>
                                          <span ng-if="divers_attachement_mobilier_prevu.$edit">
                                            <md-input-container>
                                              <label>Montant prevu</label>
                                            <input type="number" name="montant_prevu" aria-label="Montant prevu"  ng-model="divers_attachement_mobilier_prevu.montant_prevu" disabled />
                                            </md-input-container>  
                                          </span>
                                                    
                                          <span ng-if="!divers_attachement_mobilier_prevu.$edit">{{vm.formatMillier(divers_attachement_mobilier_prevu.montant_prevu)}} Ar</span>
                                        </td>
                                                                     
                                        <td>  
                                          <a ng-if="!divers_attachement_mobilier_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.modifierDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                    
                                          <a ng-if="!divers_attachement_mobilier_prevu.$edit && divers_attachement_mobilier_prevu.id!=0 && vm.validation_contrat_prestataire==0" ng-click="vm.supprimerDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)" title="Supprimer">
                                            <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                          </a>
                                           
                                           <span ng-if="!divers_attachement_mobilier_prevu.$edit && vm.validation_contrat_prestataire==1">Aucune action disponible</span>         
                                          <a ng-if="divers_attachement_mobilier_prevu.$edit" ng-click="vm.annulerDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="divers_attachement_mobilier_prevu.$edit && divers_attachement_mobilier_prevu.unite && divers_attachement_mobilier_prevu.prix_unitaire && divers_attachement_mobilier_prevu.quantite_prevu>''" ng-click="vm.ajoutDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!------------------------Fin attachement mobilier prevu------------------------------> 
                            </md-tabs> 
                          </ms-form-wizard>
                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------------FIN document moe --------------------------------------------> 
                    <md-tab ng-disabled = "!vm.stepsuiviexecution || vm.validation_contrat_prestataire==0" ng-click="vm.step_suivitravaux()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Suivi des travaux</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                       <ms-form-wizard flex id="sousmenu"> 
                          <!--md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu"--> 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true">                    
                              <md-tab ng-click="vm.step_delai_execution()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Delai d'execution</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterDelai_travaux()" style="width:10%;" ng-disabled="!vm.showbuttonNouvDelai_travaux">
                                          Nouveau
                                        </md-button><br>
                                    </div>
                                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.delai_travaux_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="delai_travaux in vm.alldelai_travaux"  ng-class="{selected: delai_travaux.$selected}" ng-click="vm.selectionDelai_travaux(delai_travaux)">      
                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-datepicker ng-model="delai_travaux.date_prev_debu_travau" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!delai_travaux.$edit">{{vm.formatDate(delai_travaux.date_prev_debu_travau)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-datepicker ng-model="delai_travaux.date_reel_debu_travau" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!delai_travaux.$edit">{{vm.formatDate(delai_travaux.date_reel_debu_travau)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-datepicker ng-model="delai_travaux.date_expiration_police" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!delai_travaux.$edit">{{vm.formatDate(delai_travaux.date_expiration_police)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Delai éxecution</label>
                                                <input name="delai_execution" type="number" ng-model="delai_travaux.delai_execution" ng-min="1" step="0.5" />
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!delai_travaux.$edit">{{delai_travaux.delai_execution}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!delai_travaux.$edit && delai_travaux.validation==0" ng-click="vm.modifierDelai_travaux(delai_travaux)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!delai_travaux.$edit && delai_travaux.validation==0" ng-click="vm.supprimerDelai_travaux(delai_travaux)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                            <span ng-if="!delai_travaux.$edit && delai_travaux.validation==1">Aucune action disponible</span>          
                                            <a ng-if="delai_travaux.$edit" ng-click="vm.annulerDelai_travaux(delai_travaux)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="delai_travaux.$edit && delai_travaux.date_prev_debu_travau && delai_travaux.date_expiration_police && delai_travaux.date_reel_debu_travau && delai_travaux.delai_execution>''" ng-click="vm.ajoutDelai_travaux(delai_travaux,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>          
                              <md-tab ng-disabled = "!vm.stepphase" ng-click="vm.click_phase_sous()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">DF</span>
                                      <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                                        <i class="icon-check s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Phase sous projet</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterPhase_sous_projet()" style="width:10%;" ng-disabled="!vm.showbuttonNouvPhase_sous_projet">
                                          Nouveau
                                        </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.phase_sous_projet_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="phase_sous_projet in vm.allphase_sous_projet"  ng-class="{selected: phase_sous_projet.$selected}" ng-click="vm.selectionPhase_sous_projet(phase_sous_projet)">           
                                          <td>
                                            <span ng-if="phase_sous_projet.$edit">
                                              <md-input-container style="width:100%;">
                                                <label>Phase sous projet</label>
                                                <md-select ng-model="phase_sous_projet.id_etape_sousprojet"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.change_etape(phase_sous_projet)">
                                                  <md-option ng-repeat="etape_sousprojet in vm.allcurentetape_sousprojet" value="{{etape_sousprojet.id}}">
                                                                                        {{etape_sousprojet.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!phase_sous_projet.$edit">{{phase_sous_projet.etape_sousprojet.libelle}}</span>
                                          </td>
                                                    
                                          <td>
                                                      
                                            <span>{{phase_sous_projet.etape_sousprojet.description}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="phase_sous_projet.$edit">
                                              <md-datepicker ng-model="phase_sous_projet.date_travaux" md-placeholder="Date" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!phase_sous_projet.$edit">{{vm.formatDate(phase_sous_projet.date_travaux)}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!phase_sous_projet.$edit && phase_sous_projet.validation ==0" ng-click="vm.modifierPhase_sous_projet(phase_sous_projet)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!phase_sous_projet.$edit && phase_sous_projet.validation ==0" ng-click="vm.supprimerPhase_sous_projet(phase_sous_projet)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>

                                            <span ng-if="!phase_sous_projet.$edit && phase_sous_projet.validation ==1">Aucune action disponible</span> 
                                                      
                                            <a ng-if="phase_sous_projet.$edit" ng-click="vm.annulerPhase_sous_projet(phase_sous_projet)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="phase_sous_projet.$edit && phase_sous_projet.id_etape_sousprojet && phase_sous_projet.date_travaux>''" ng-click="vm.ajoutPhase_sous_projet(phase_sous_projet,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                              <md-tab ng-click="vm.step_reception_mpe()" ng-disabled="!vm.step_reception">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <!--pan class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">R</span>
                                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                                          <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">reception mpe</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterReception_mpe()" style="width:10%;" ng-disabled="!vm.showbuttonNouvReception_mpe">
                                          Nouveau
                                        </md-button><br>
                                    </div>
                                    <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                                      <div>        
                                      <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                        <thead>
                                          <tr>
                                            <th class="secondary-text" ng-repeat="mem in ::vm.reception_mpe_column">
                                              <div class="table-header">
                                                <span class="column-title">{{mem.titre}}</span>
                                              </div>
                                            </th>
                                          </tr>
                                        </thead>
                                                 
                                        <tbody>
                                          <tr ng-repeat="reception_mpe in vm.allreception_mpe"  ng-class="{selected: reception_mpe.$selected}" ng-click="vm.selectionReception_mpe(reception_mpe)">  
                                           
                                            <td>
                                              <span ng-if="reception_mpe.$edit">
                                                <md-datepicker ng-model="reception_mpe.date_previ_recep_tech" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_recep_tech)}}</span>
                                            </td>
                                                      
                                            <td>
                                              <span ng-if="reception_mpe.$edit">
                                                <md-datepicker ng-model="reception_mpe.date_reel_tech" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_tech" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>   
                                              </span>
                                                        
                                              <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_tech)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="reception_mpe.$edit">
                                                <md-datepicker ng-model="reception_mpe.date_leve_recep_tech" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_tech" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>   
                                              </span>
                                                        
                                              <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_leve_recep_tech)}}</span>
                                            </td>
                                            <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_previ_recep_prov" md-placeholder="Date de signature" md-min-date="reception_mpe.date_reel_tech" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_recep_prov)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_reel_recep_prov" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_recep_prov)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_previ_leve" md-placeholder="Date de signature" md-min-date="reception_mpe.date_reel_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>  
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_leve)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_reel_lev_ava_rd" md-placeholder="Date de signature" md-min-date="reception_mpe.date_reel_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>  
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_lev_ava_rd)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_previ_recep_defi" md-placeholder="Date de notification" md-min-date="reception_mpe.date_reel_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>  
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_recep_defi)}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_reel_recep_defi" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_defi" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_recep_defi)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="reception_mpe.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{reception_mpe.observation}}</span>
                                          </td>
                                          <td>
                                            <a ng-if="!reception_mpe.$edit && reception_mpe.validation ==0" ng-click="vm.modifierReception_mpe(reception_mpe)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!reception_mpe.$edit && reception_mpe.validation ==0" ng-click="vm.supprimerReception_mpe(reception_mpe)" title="Supprimer">
                                              <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                            </a>
                                              <span ng-if="!reception_mpe.$edit && reception_mpe.validation ==1">Aucune action disponible</span>         
                                            <a ng-if="reception_mpe.$edit" ng-click="vm.annulerReception_mpe(reception_mpe)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="reception_mpe.$edit && reception_mpe.date_previ_recep_tech && reception_mpe.date_reel_tech && reception_mpe.date_leve_recep_tech && reception_mpe.date_previ_recep_prov && reception_mpe.date_reel_recep_prov && reception_mpe.date_previ_leve && reception_mpe.date_reel_lev_ava_rd && reception_mpe.date_previ_recep_defi && reception_mpe.date_reel_recep_defi >''" type="submit" class="md-raised md-accent>''" ng-click="vm.ajoutReception_mpe(reception_mpe,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>                       
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                </md-tab-body>
                              </md-tab>       
                            </md-tabs> 
                          </ms-form-wizard>               
                        </md-tab-body>
                    </md-tab>                   
                    
                    
                    <!---------------------------------Avenant MOE-----------------------------------------------> 
                    <md-tab ng-disabled="!vm.stepavenant_mpe || vm.validation_contrat_prestataire==0" ng-click="vm.step_avenant_mpe()">                    
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Avenant</span>
                        </span>
                       
                      </md-tab-label>

                      <md-tab-body>
                        <div style="widht:100%;">  
                                    <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterAvenant_mpe()" style="width:10%;" ng-disabled="!vm.showbuttonNouvavenant_mpe">
                                      Nouveau
                                    </md-button><br>
                                </div>
                                <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.avenant_mpe_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="avenant_mpe in vm.allavenant_mpe"  ng-class="{selected: avenant_mpe.$selected}" ng-click="vm.selectionAvenant_mpe(avenant_mpe)">
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Descriprtion</label>
                                            <input name="description" type="text" ng-model="avenant_mpe.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Référence avenant</label>
                                            <input name="ref_avenant" type="text" ng-model="avenant_mpe.ref_avenant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.ref_avenant}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout batiment</label>
                                            <input name="montant" type="number" ng-model="avenant_mpe.cout_batiment" ng-change="vm.change_cout_avenant(avenant_mpe)" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_batiment}} Ar</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout latrine</label>
                                            <input name="montant" type="number" ng-model="avenant_mpe.cout_latrine" ng-change="vm.change_cout_avenant(avenant_mpe)" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_latrine}} Ar</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout mobilier</label>
                                            <input name="montant" type="number" ng-model="avenant_mpe.cout_mobilier" ng-change="vm.change_cout_avenant(avenant_mpe)" ng-min="1"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_mobilier}} Ar</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout total HT</label>
                                            <input name="cout total ht" type="text" ng-model="avenant_mpe.cout_total_ht" disabled/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_total_ht}} Ar</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout total TTC</label>
                                            <input name="cout total ttc" type="text" ng-model="avenant_mpe.cout_total_ttc" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_total_ttc}} Ar</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-datepicker ng-model="avenant_mpe.date_signature" md-placeholder="Date de signature" md-max-date="vm.date_now" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!avenant_mpe.$edit">{{vm.formatDate(avenant_mpe.date_signature)}}</span>
                                      </td>                      
                                      <td>
                                        <a ng-if="!avenant_mpe.$edit && avenant_mpe.validation==0" ng-click="vm.modifierAvenant_mpe(avenant_mpe)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!avenant_mpe.$edit && avenant_mpe.validation==0" ng-click="vm.supprimerAvenant_mpe(avenant_mpe)" title="Supprimer">
                                          <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                        </a>
                                        <span ng-if="!avenant_mpe.$edit && avenant_mpe.validation==1">Aucune action disponible</span>          
                                        <a ng-if="avenant_mpe.$edit" ng-click="vm.annulerAvenant_mpe(avenant_mpe)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="avenant_mpe.$edit && avenant_mpe.description &&  avenant_mpe.cout_batiment &&  avenant_mpe.cout_latrine &&  avenant_mpe.cout_mobilier &&  avenant_mpe.date_signature>''" ng-click="vm.ajoutAvenant_mpe(avenant_mpe,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                      </md-tab-body>
                    </md-tab>
                    <!----------------------------Fin Avenant mpe------------------------------------------------> 
                    <!---------------------------Debut document prestataire ---------------------------------------->
                    <md-tab ng-disabled="!vm.step_importer_doc_mpe || vm.validation_contrat_prestataire==0" ng-click="vm.step_importerdocument_mpe()">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_prestataire_scan in vm.alldocument_prestataire_scan"  ng-class="{selected: document_prestataire_scan.$selected}" ng-click="vm.selectionDocument_prestataire_scan(document_prestataire_scan)">

                                <td>                                            
                                  <span>{{document_prestataire_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_prestataire_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_prestataire_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_prestataire_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_prestataire_scan.fichier" disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_prestataire_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-changempe="uploadFile_doc_pre"  ng-model="fichier" id="fileid"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_prestataire_scan.$edit">{{document_prestataire_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_prestataire_scan.$edit">
                                    <md-datepicker ng-model="document_prestataire_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_prestataire_scan.$edit">{{vm.formatDate(document_prestataire_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_prestataire_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_prestataire_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_prestataire_scan.$edit">{{document_prestataire_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_prestataire_scan.$edit && (document_prestataire_scan.validation==0 || document_prestataire_scan.validation==null)" ng-click="vm.modifierDocument_prestataire_scan(document_prestataire_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_prestataire_scan.$edit && document_prestataire_scan.validation==0" ng-click="vm.supprimerDocument_prestataire_scan(document_prestataire_scan)" title="Supprimer">
                                    <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_prestataire_scan.$edit && document_prestataire_scan.existance" ng-click="vm.download_document_prestataire_scan(document_prestataire_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_prestataire_scan.$edit" ng-click="vm.annulerDocument_prestataire_scan(document_prestataire_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_prestataire_scan.$edit && document_prestataire_scan.fichier && document_prestataire_scan.date_elaboration >''" ng-click="vm.ajoutDocument_prestataire_scan(document_prestataire_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------------FIN document prestataire -------------------------------------------->            
                  </md-tabs> 
                </ms-form-wizard>               
              </md-tab-body>
            </md-tab>

            <!-----------------------DEBUT RELIQUAT------------------------------------>
            <md-tab ng-disabled="vm.stepMenu_mpe==false" ng-click="vm.step_menu_indicateur()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepMenu==true">
                      <i class="icon-worker s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">Indicateur</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >4</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
                <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-accent md-green-600-bg" aria-label="Nouveau" ng-click="vm.ajouterIndicateur()" style="width:10%;" ng-disabled="!vm.showbuttonNouvIndicateur">
                                Nouveau
                              </md-button>
                          </div>
<div style="float: top !important">
                      <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
                      <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                              Chargement,veuillez patienter s'il vous plait ...
                      </div>
                    </div><br>
                          <div>        
                            <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                              <thead>
                                <tr>
                                  <th class="secondary-text" ng-repeat="ciscT in ::vm.indicateur_column">
                                    <div class="table-header">
                                      <span class="column-title">{{ciscT.titre}}</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                                       
                              <tbody>
                                <tr ng-repeat="indicateur in vm.allindicateur"  ng-class="{selected: indicateur.$selected}" ng-click="vm.selectionIndicateur(indicateur)">           
                                  

                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre salle</label>
                                        <input name="nbr_salle_const" type="number" ng-model="indicateur.nbr_salle_const" ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_salle_const}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre bénéficiaire</label>
                                        <input name="nbr_beneficiaire" type="number" ng-model="indicateur.nbr_beneficiaire" ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_beneficiaire}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre école</label>
                                        <input name="nbr_ecole" type="number" ng-model="indicateur.nbr_ecole"  ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_ecole}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre box</label>
                                        <input name="nbr_box" type="number" ng-model="indicateur.nbr_box"  ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_box}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre ponit d'eau</label>
                                        <input name="nbr_point_eau" type="number" ng-model="indicateur.nbr_point_eau" ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_point_eau}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre banc</label>
                                        <input name="nbr_banc" type="number" ng-model="indicateur.nbr_banc" ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_banc}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre table maitre</label>
                                        <input name="nbr_table_maitre" type="number" ng-model="indicateur.nbr_table_maitre" ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_table_maitre}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre chaise</label>
                                        <input name="nbr_chaise" type="number" ng-model="indicateur.nbr_chaise" ng-min="1"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_chaise}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Observation</label>
                                        <input name="observation" type="text" ng-model="indicateur.observation" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.observation}}</span>
                                  </td>                           
                                                               
                                  <td>  
                                    <a ng-if="!indicateur.$edit && indicateur.validation==0" ng-click="vm.modifierIndicateur(indicateur)" title="Modifier">
                                      <span class="icon-table-edit"></span>
                                    </a>
                                              
                                    <a ng-if="!indicateur.$edit && indicateur.validation==0" ng-click="vm.supprimerIndicateur(indicateur)" title="Supprimer">
                                      <span class="icon-table-row-remove" style="color: rgb(211,47,47)"></span>
                                    </a>
                                     <span ng-if="!indicateur.$edit && indicateur.validation==1">Aucune action disponible</span>         
                                    <a ng-if="indicateur.$edit" ng-click="vm.annulerIndicateur(indicateur)" title="Annulerindicateur modification">
                                      <span class="icon-cancel"></span>
                                    </a>
                                              
                                    <a ng-if="indicateur.$edit && indicateur.nbr_salle_const && indicateur.nbr_beneficiaire && indicateur.nbr_ecole && indicateur.nbr_box && indicateur.nbr_point_eau && indicateur.nbr_banc && indicateur.nbr_table_maitre && indicateur.nbr_chaise>''" ng-click="vm.ajoutIndicateur(indicateur,0)" title="Sauvegarder">
                                      <span class="icon-content-save"></span>
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
              </md-tab-body>
            </md-tab>
          
            <!-----------------------FIN RELIQUAT--------------------------------------------->
            
          </md-tabs>
        </ms-form-wizard> 
<!------------------------------------FIN TABS MERE--------------------------------------------------->    
       </div>
      
    </div>
    <!-- / CONTENT -->
  </div>