  <div id="formsbcaf" class="page-layout simple fullwidth doc-page" layout="column" >

    <!-- HEADER -->
    <div class="header md-accent-bg" layout="row" layout-align="space-between" >
        <div layout="column" layout-align="space-between" style="height: 10px !important;">
            <div class="breadcrumb" layout="row" layout-align="start center" >
                <md-icon md-font-icon="icon-home" class="s16"></md-icon>
                <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent">Suivi convention CISCO/FEFFI</span>
                
                <!--md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent" href="javascript:;"> Convention CISCO/FEFFI</span-->
            </div>

            <!--div class="title">Convention CISCO/FEFFI</div-->
                                       
            
        </div>
        
    </div>    
    
    <!-- / HEADER -->
    
    <!-- CONTENT -->
    <div class="content" layout="column">
      <div class="form-wrapper md-whiteframe-1dp acc_menu" >
        <div style="clear:both;"></div>            
            <div style="float: top !important">
              <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="48"></md-progress-circular> 
              <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                      Chargement,veuillez patienter s'il vous plait ...
              </div>
            </div>
<!-----------------------------------------DEBUT TABS MERE---------------------------------------------------------->
         <ms-form-wizard flex>
          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" >

    <!----------------------------------DEBUT CONVENTION CISCO/FEFFI------------------------------------------------>
            
            <md-tab>
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                        <i class="icon-basket-fill s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">Convention</span>
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
               <ms-form-wizard flex> 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu">

                  <!------------------------------DEBUT ESTIMATION CONVENTION---------------------------------------------> 
                    <md-tab>
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            
                            <!--span class="ms-form-wizard-step-number md-accent-bg">
                                <i class="icon-basket-fill s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Estimation convention</span>
                            <!--span class="ms-form-wizard-step-number md-accent-bg notification" >{{+vm.nbr_demande_feffi_creer + +vm.nbr_decaiss_feffi}}</span-->
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                        <div>
                          <form name="filtreform" class="md-inline-form" novalidate >
                                <br>
                              <div layout="column" layout-gt-xs="row">
                                  <md-input-container>
                                    <span>Date du</span>
                                  </md-input-container>

                                  <md-datepicker ng-model="vm.filtre.date_debut" md-max-date="vm.datenow" required>                     
                                  </md-datepicker>

                                  <md-input-container>
                                    <span>&nbsp &nbsp jusqu'au &nbsp &nbsp</span>
                                  </md-input-container>

                                  <md-datepicker ng-model="vm.filtre.date_fin" md-min-date="vm.filtre.date_debut" md-max-date="vm.datenow" ng-disabled="!vm.filtre.date_debut" required>                        
                                  </md-datepicker>

                                  <!--md-datepicker ng-model="vm.filtre.date_fin" md-placeholder="Enter date de fin"
                                md-min-date="vm.filtre.date_debut" md-max-date="vm.datenow"  md-date-locale="monthFormat" md-open-on-focus="true" ng-disabled="!vm.filtre.date_debut" required md-mode="'month'">                        
                                  </md-datepicker-->
                                </div>
                                <div layout="column" layout-gt-xs="row" ng-show="vm.session=='ADMIN' || vm.session=='ODAAF' || vm.session=='DAAF' || vm.session=='ODPFI' || vm.session=='DPFI' || vm.session=='UFP'">

                                  <md-input-container flex="100" flex-gt-xs="90">
                                    <label>Lot</label>
                                    <md-select ng-model="vm.filtre.lot" name="lot" style="overflow: hidden;text-overflow: ellipsis;">
                                      <md-option value="*">*</md-option>
                                      <md-option value="1">Lot 1</md-option>
                                      <md-option value="2">Lot 2</md-option>
                                      <md-option value="3">Lot 3</md-option>
                                      <md-option value="4">Lot 4</md-option>
                                    </md-select>
                                    <div ng-messages="filtreform.lot.$error" role="alert">
                                      <div ng-message="required"><span>Lot</span></div>
                                    </div>
                                  </md-input-container>
                                  <md-input-container flex="100" flex-gt-xs="90">
                                    <label>Région</label>
                                    <md-select ng-model="vm.filtre.id_region" name="region" ng-change="vm.filtre_change_region(vm.filtre)">
                                      <md-option  value="*">*</md-option>
                                      <md-option ng-repeat="region in vm.regions" value="{{region.id}}" > {{region.nom}}</md-option>
                                    </md-select>
                                    <div ng-messages="filtreform.region.$error" role="alert">
                                      <div ng-message="required"><span>Région</span></div>
                                    </div>
                                  </md-input-container>
                                  
                                  <md-input-container flex="100" flex-gt-xs="90">
                                    <label>Cisco</label>
                                    <md-select ng-model="vm.filtre.id_cisco" ng-disabled="!vm.filtre.id_region" ng-change="vm.filtre_change_cisco(vm.filtre)" name="cisco">
                                      <md-option  value="*">*</md-option>
                                      <md-option ng-repeat="d in vm.ciscos" value="{{d.id}}"> {{d.code}}</md-option>
                                                  
                                     </md-select>
                                     <div ng-messages="filtreform.cisco.$error" role="alert">
                                      <div ng-message="required"><span>Cisco</span></div>
                                    </div>
                                  </md-input-container>
                                  
                                  <md-input-container flex="100" flex-gt-xs="90">
                                    <label>Commune</label>
                                    <md-select ng-model="vm.filtre.id_commune" ng-disabled="!vm.filtre.id_cisco" name="commune" ng-change="vm.filtre_change_commune(vm.filtre)">
                                      <md-option  value="*">*</md-option>
                                      <md-option ng-repeat="eco in vm.communes" value="{{eco.id}}"> {{eco.nom}}</md-option>
                                    </md-select>
                                    <div ng-messages="filtreform.commune.$error" role="alert">
                                      <div ng-message="required"><span>Commune</span></div>
                                    </div>
                                  </md-input-container>
                                  
                                  <md-input-container flex="100" flex-gt-xs="90">
                                    <label>Ecole</label>
                                    <md-select ng-model="vm.filtre.id_ecole" name="ecole" ng-disabled="!vm.filtre.id_commune" ng-change="vm.filtre_change_ecole(vm.filtre)">
                                      <md-option  value="*">*</md-option>
                                      <md-option ng-repeat="eco in vm.ecoles" value="{{eco.id}}"> {{eco.description}}
                                      </md-option>
                                    </md-select>
                                    <div ng-messages="filtreform.ecole.$error" role="alert">
                                      <div ng-message="required"><span>Ecole</span></div>
                                    </div>
                                  </md-input-container>
                                  <md-input-container flex="100" flex-gt-xs="90">
                                    <label>Convention</label>
                                    <md-select ng-model="vm.filtre.id_convention_entete" name="convention" ng-disabled="!vm.filtre.id_ecole">
                                      <md-option  value="*">*</md-option>
                                      <md-option ng-repeat="eco in vm.convention_cisco_feffi_entetes" value="{{eco.id}}"> {{eco.ref_convention}}
                                      </md-option>
                                    </md-select>  
                                    <div ng-messages="filtreform.convention_entete.$error" role="alert">
                                      <div ng-message="required"><span>Convention</span></div>
                                    </div>
                                  </md-input-container>
                                </div>

                                <div>
                                 <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer"
                                      ng-disabled="filtreform.$invalid" ng-click="vm.recherchefiltre(vm.filtre)">
                                      Recherche
                                </md-button>
                                 <!--md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer"
                                      ng-disabled="filtreform.$invalid" ng-click="vm.importerfiltre(vm.filtre)" ng-show="vm.session=='ADMIN' || vm.session=='DAAF' || vm.session=='DPFI' || vm.session=='UFP'">
                                      Exporter
                                </md-button-->
                                <md-button type="submit" class="md-raised md-primary" aria-label="Annuler" ng-click="vm.annulerfiltre()">
                                  Annuler
                                </md-button>
                                </div>
                          </form>
                          <md-divider></md-divider><br>
                        </div>

                        <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                              <thead>
                                <tr>
                                  <th class="secondary-text" ng-repeat="conv_ente in ::vm.convention_entete_column">
                                    <div class="table-header">
                                        <span class="column-title">{{conv_ente.titre}}</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                                             
                              <tbody>
                                <tr ng-repeat="convention_entete in vm.allconvention_entete"  ng-class="{selected: convention_entete.$selected}" ng-click="vm.selectionConvention_entete(convention_entete)">           
                                  <td>
                                    <span>{{convention_entete.cisco.code}}</span>
                                  </td>

                                  <td>
                                          <span>{{convention_entete.feffi.denomination}}</span>
                                  </td>

                                  <td>
                                    <span>{{convention_entete.site.code_sous_projet}}</span>
                                  </td>

                                  <td>                         
                                    <span>{{convention_entete.ref_convention}}</span>
                                  </td>

                                  <td>                         
                                    <span>{{convention_entete.objet}}</span>
                                  </td>

                                  <td>                                    
                                    <span>{{convention_entete.ref_financement}}</span>
                                  </td>

                                  <td>                          
                                    <span>{{convention_entete.montant_total}}</span>
                                  </td>

                                  <td>                          
                                    <span>{{convention_entete.avancement}}</span>
                                  </td>

                                  <td>                          
                                    <span>{{convention_entete.user.nom}}</span>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </md-tab-body>
                    </md-tab>

                  <!----------------------------DEBUT ESTIMATION CONVENTION-convention cisco/feffi---------------->

                  <md-tab ng-disabled="!vm.stepMenu_feffi"  ng-click="vm.step_avenant_feffi()">                    
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Avenant</span>
                        </span>
                       
                      </md-tab-label>

                      <md-tab-body>
                        <div style="widht:100%;"> 
                                  <md-button type="submit" ng-show="vm.showbuttonValidation_avenant_convention && vm.permissionboutonvalideravenant_convention && vm.validation_avenant_convention==0" class="md-raised md-warn" aria-label="Valider" ng-click="vm.validerAvenant_convention()" style="width:10%;">
                                    Valider
                                  </md-button><br>
                                </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.avenant_convention_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="avenant_convention in vm.allavenant_convention"  ng-class="{selected: avenant_convention.$selected}" ng-click="vm.selectionAvenant_convention(avenant_convention)">
                                                
                                      <td>
                                        <span ng-if="avenant_convention.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Référence avenant</label>
                                            <input name="ref_avenant" type="text" ng-model="avenant_convention.ref_avenant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_convention.$edit">{{avenant_convention.ref_avenant}}</span>
                                      </td>          
                                      <td>
                                        <span ng-if="avenant_convention.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Descriprtion</label>
                                            <input name="description" type="text" ng-model="avenant_convention.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_convention.$edit">{{avenant_convention.description}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_convention.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout batiment</label>
                                            <input name="montant" type="text" ng-model="avenant_convention.montant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_convention.$edit">{{avenant_convention.montant}} Ar</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_convention.$edit">
                                          <md-datepicker ng-model="avenant_convention.date_signature" md-placeholder="Date de signature" md-max-date="vm.date_now" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!avenant_convention.$edit">{{vm.formatDate(avenant_convention.date_signature)}}</span>
                                      </td>                      
                                      <td>
                                        <a ng-if="!avenant_convention.$edit && avenant_convention.validation==0" ng-click="vm.modifierAvenant_convention(avenant_convention)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!avenant_convention.$edit && avenant_convention.validation==0" ng-click="vm.supprimerAvenant_convention(avenant_convention)" title="Supprimer">
                                          <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!avenant_convention.$edit && avenant_convention.validation==1">Aucune action disponible</span>          
                                        <a ng-if="avenant_convention.$edit" ng-click="vm.annulerAvenant_convention(avenant_convention)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="avenant_convention.$edit && avenant_convention.description &&  avenant_convention.montant &&  avenant_convention.date_signature>''" ng-click="vm.ajoutAvenant_convention(avenant_convention,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>                        
                      </md-tab-body>
                  </md-tab>
          <!------------------------------------FIN CONVENTION CISCO/FEFFI--------------------------------------------------->
                          
           <!----------------------------------------Debut document feffi --------------------------------------------------->
                    <md-tab ng-click="vm.step_importerdocument_feffi()" ng-disabled="!vm.stepMenu_feffi">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerDocument_feffi_scan()" style="width:10%;" ng-show="vm.showbuttonValidation_document_feffi_scan && vm.permissionboutonvaliderdocument_feffi_scan && vm.validation_document_feffi_scan==0">
                                Validation
                              </md-button>
                          </div><br>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_feffi_scan in vm.alldocument_feffi_scan"  ng-class="{selected: document_feffi_scan.$selected}" ng-click="vm.selectionDocument_feffi_scan(document_feffi_scan)">

                                <td>                                            
                                  <span>{{document_feffi_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_feffi_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_feffi_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_feffi_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_feffi_scan.fichier" disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_feffi_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-change="uploadFile_doc_feffi"  ng-model="fichier" id="fileid"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_feffi_scan.$edit">{{document_feffi_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_feffi_scan.$edit">
                                    <md-datepicker ng-model="document_feffi_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_feffi_scan.$edit">{{vm.formatDate(document_feffi_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_feffi_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_feffi_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_feffi_scan.$edit">{{document_feffi_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_feffi_scan.$edit && (document_feffi_scan.validation==0 || document_feffi_scan.validation==null)" ng-click="vm.modifierDocument_feffi_scan(document_feffi_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_feffi_scan.$edit && document_feffi_scan.validation==0" ng-click="vm.supprimerDocument_feffi_scan(document_feffi_scan)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_feffi_scan.$edit && document_feffi_scan.existance" ng-click="vm.download_document_feffi_scan(document_feffi_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_feffi_scan.$edit" ng-click="vm.annulerDocument_feffi_scan(document_feffi_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_feffi_scan.$edit && document_feffi_scan.fichier && document_feffi_scan.date_elaboration >''" ng-click="vm.ajoutDocument_feffi_scan(document_feffi_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------------FIN document moe --------------------------------------------> 
                  </md-tabs> 
                </ms-form-wizard>
              </md-tab-body>
            </md-tab>
    <!------------------------------------FIN CONVENTION CISCO/FEFFI--------------------------------------------------->

    
            <md-tab ng-disabled="vm.stepMenu_pr==false || vm.session=='ODAAF'" ng-click="vm.step_menu_pr()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                      <i class="icon-arrange-send-to-back s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">PARTENAIRES RELAIS</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >3</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
               <ms-form-wizard flex> 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="{{vm.styleTabfils}}">

                    <!-------------------convention cisco/feffi----------------->                    
                    <md-tab>
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Contrat</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                        <div style="widht:100%;"><br>
                        </div>
                       <div>        
                        <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                          <thead>
                            <tr>
                              <th class="secondary-text" ng-repeat="mem in ::vm.contrat_partenaire_relai_column">
                                <div class="table-header">
                                  <span class="column-title">{{mem.titre}}</span>
                                </div>
                              </th>
                            </tr>
                          </thead>
                                   
                          <tbody>
                            <tr ng-repeat="contrat_partenaire_relai in vm.allcontrat_partenaire_relai"  ng-class="{selected: contrat_partenaire_relai.$selected}" ng-click="vm.selectionContrat_partenaire_relai(contrat_partenaire_relai)">                            

                              <td>                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.partenaire_relai.nom}}</span>
                              </td>
                                        
                              <td>                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.intitule}}</span>
                              </td>
                                        
                              <td>                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.ref_contrat}}</span>
                              </td>
                                        
                              <td>                                          
                                <span ng-if="!contrat_partenaire_relai.$edit">{{contrat_partenaire_relai.montant_contrat}} Ar</span>
                              </td>

                              <td>                        
                                <span ng-if="!contrat_partenaire_relai.$edit">{{vm.formatDate(contrat_partenaire_relai.date_signature)}}</span>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                    </md-tab-body>
                    </md-tab>
                    <md-tab ng-disabled="!vm.stepprestaion_pr || vm.validation_contrat_pr==0" ng-click="vm.step_prestation_pr()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Prestation</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>

               <!---------------------------------FILS PRESTATION----------------------------------------------->       
                         <ms-form-wizard flex id="soussousmenu"> 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu">

                        <!-----------------------------DEBUT FORMATION DPP--------------------------------------> 
                              <md-tab ng-click="vm.step_module_dpp()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">                         
                                      
                                      <span class="ms-form-wizard-step-text">Formation dpp</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerModule_dpp()" style="width:10%;" ng-show="vm.showbuttonValidationformdpp && vm.permissionboutonvaliderformdpp && vm.validation_formationdpp==0">
                                          Validation
                                        </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.module_dpp_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="module_dpp in vm.allmodule_dpp"  ng-class="{selected: module_dpp.$selected}" ng-click="vm.selectionModule_dpp(module_dpp)">
                                        <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_debut_previ_form)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_dpp.date_debut_previ_form" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_fin_previ_form)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_dpp.date_debut_previ_form" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_previ_resti)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_dpp.date_previ_resti" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_debut_reel_form)}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_dpp.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_fin_reel_form)}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-datepicker ng-model="module_dpp.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_dpp.date_previ_resti" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!module_dpp.$edit">{{vm.formatDate(module_dpp.date_reel_resti)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre previsionnel participant</label>
                                                <input name="nbr_previ_parti" type="number" ng-model="module_dpp.nbr_previ_parti"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_previ_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre participant</label>
                                                <input name="nbr_parti" type="number" ng-model="module_dpp.nbr_parti" disabled />
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre previsionnel femme participant</label>
                                                <input name="nbr_previ_fem_parti" type="number" ng-model="module_dpp.nbr_previ_fem_parti"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_previ_fem_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nombre réel femme participant</label>
                                                <input name="nbr_reel_fem_parti" type="number" ng-model="module_dpp.nbr_reel_fem_parti" disabled />
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.nbr_reel_fem_parti}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Lieu formation</label>
                                                <input name="lieu_formation" type="text" ng-model="module_dpp.lieu_formation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.lieu_formation}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="module_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="module_dpp.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!module_dpp.$edit">{{module_dpp.observation}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!module_dpp.$edit && module_dpp.validation==0" ng-click="vm.modifierModule_dpp(module_dpp)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!module_dpp.$edit && module_dpp.validation==0" ng-click="vm.supprimerModule_dpp(module_dpp)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                            <span ng-if="!module_dpp.$edit && module_dpp.validation==1">Aucune action disponible</span>        
                                            <a ng-if="module_dpp.$edit" ng-click="vm.annulerModule_dpp(module_dpp)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="module_dpp.$edit && module_dpp.date_debut_previ_form && module_dpp.date_fin_previ_form && module_dpp.date_previ_resti && module_dpp.date_debut_reel_form && module_dpp.nbr_previ_parti && module_dpp.date_fin_reel_form && module_dpp.date_reel_resti && module_dpp.nbr_previ_fem_parti && module_dpp.lieu_formation && module_dpp.observation >''" ng-click="vm.ajoutModule_dpp(module_dpp,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN FORMATION DPP----------------------------------------------->

                        <!----------------------------------Debut participant_dpp ----------------------------------------->
                              <md-tab ng-disabled="!vm.stepparticipantdpp">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">Participant ddp</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body><br>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.participant_dpp_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="participant_dpp in vm.allparticipant_dpp"  ng-class="{selected: participant_dpp.$selected}" ng-click="vm.selectionParticipant_dpp(participant_dpp)">           
                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nom</label>
                                                <input name="nom" type="text" ng-model="participant_dpp.nom"/>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_dpp.$edit">{{participant_dpp.nom}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Prenom</label>
                                                <input name="prenom" type="text" ng-model="participant_dpp.prenom"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_dpp.$edit">{{participant_dpp.prenom}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Sexe</label>
                                                <md-select ng-model="participant_dpp.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                    <md-option value="1">Masculin
                                                    </md-option>
                                                    <md-option value="2">Femimin
                                                    </md-option>
                                                  </md-select>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_dpp.$edit">{{vm.affichage_sexe(participant_dpp.sexe)}}</span>
                                          </td> 

                                          <td>
                                            <span ng-if="participant_dpp.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Site</label>
                                                <md-select ng-model="participant_dpp.id_situation_participant_dpp"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option ng-repeat="situation_participant_dpp in vm.allsituation_participant_dpp" value="{{situation_participant_dpp.id}}">
                                                                                        {{situation_participant_dpp.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_dpp.$edit">{{participant_dpp.situation_participant_dpp.libelle}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!participant_dpp.$edit && vm.validation_formationdpp==0" ng-click="vm.modifierParticipant_dpp(participant_dpp)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_dpp.$edit && vm.validation_formationdpp==0" ng-click="vm.supprimerParticipant_dpp(participant_dpp)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                             <span ng-if="!participant_dpp.$edit && vm.validation_formationdpp==1">Aucune action disponible</span>         
                                            <a ng-if="participant_dpp.$edit" ng-click="vm.annulerParticipant_dpp(participant_dpp)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="participant_dpp.$edit && participant_dpp.nom && participant_dpp.prenom && participant_dpp.sexe && participant_dpp.id_situation_participant_dpp>''" ng-click="vm.ajoutParticipant_dpp(participant_dpp,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN participant_dpp ------------------------------------------>


                        <!---------------------------------DEBUT FORMATION ODC------------------------------------------->
                              <md-tab ng-click="vm.step_module_odc()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Formation ODC</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                               <md-tab-body>
                                  <div style="widht:100%;"> 
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerModule_odc()" style="width:10%;" ng-show="vm.showbuttonValidationformodc && vm.permissionboutonvaliderformodc && vm.validation_formationodc==0">
                                          Validation
                                        </md-button><br>
                                  </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.module_odc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="module_odc in vm.allmodule_odc"  ng-class="{selected: module_odc.$selected}" ng-click="vm.selectionModule_odc(module_odc)">
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_debut_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_odc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_fin_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_odc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_previ_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_odc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_debut_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_odc.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_fin_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-datepicker ng-model="module_odc.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_odc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_odc.$edit">{{vm.formatDate(module_odc.date_reel_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel participant</label>
                                              <input name="nbr_previ_parti" type="number" ng-model="module_odc.nbr_previ_parti"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_previ_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre participant</label>
                                              <input name="nbr_parti" type="number" ng-model="module_odc.nbr_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel femme participant</label>
                                              <input name="nbr_previ_fem_parti" type="number" ng-model="module_odc.nbr_previ_fem_parti"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_previ_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre réel femme participant</label>
                                              <input name="nbr_reel_fem_parti" type="number" ng-model="module_odc.nbr_reel_fem_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.nbr_reel_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Lieu formation</label>
                                              <input name="lieu_formation" type="text" ng-model="module_odc.lieu_formation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.lieu_formation}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_odc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Observation</label>
                                              <input name="observation" type="text" ng-model="module_odc.observation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_odc.$edit">{{module_odc.observation}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!module_odc.$edit && module_odc.validation==0" ng-click="vm.modifierModule_odc(module_odc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!module_odc.$edit && module_odc.validation==0" ng-click="vm.supprimerModule_odc(module_odc)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                            <span ng-if="!module_odc.$edit && module_odc.validation==1">Aucune action disponible</span>
                                                    
                                          <a ng-if="module_odc.$edit" ng-click="vm.annulerModule_odc(module_odc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="module_odc.$edit && module_odc.date_debut_previ_form && module_odc.date_fin_previ_form && module_odc.date_previ_resti && module_odc.date_debut_reel_form && module_odc.nbr_previ_parti && module_odc.date_fin_reel_form && module_odc.date_reel_resti && module_odc.nbr_previ_fem_parti && module_odc.lieu_formation && module_odc.observation >''" ng-click="vm.ajoutModule_odc(module_odc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                              </md-tab>

                       <!---------------------------------FIN FORMATION ODC------------------------------------------->

                       <!---------------------------------FIN participant ODC------------------------------------------->
                              <md-tab ng-disabled="!vm.stepparticipantodc">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">Participant odc</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body><br>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.participant_odc_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="participant_odc in vm.allparticipant_odc"  ng-class="{selected: participant_odc.$selected}" ng-click="vm.selectionParticipant_odc(participant_odc)">           
                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nom</label>
                                                <input name="nom" type="text" ng-model="participant_odc.nom"/>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_odc.$edit">{{participant_odc.nom}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Prenom</label>
                                                <input name="prenom" type="text" ng-model="participant_odc.prenom"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_odc.$edit">{{participant_odc.prenom}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Sexe</label>
                                                <md-select ng-model="participant_odc.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                    <md-option value="1">Masculin
                                                    </md-option>
                                                    <md-option value="2">Femimin
                                                    </md-option>
                                                  </md-select>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_odc.$edit">{{vm.affichage_sexe(participant_odc.sexe)}}</span>
                                          </td> 

                                          <td>
                                            <span ng-if="participant_odc.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Site</label>
                                                <md-select ng-model="participant_odc.id_situation_participant_odc"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option ng-repeat="situation_participant_odc in vm.allsituation_participant_odc" value="{{situation_participant_odc.id}}">
                                                                                        {{situation_participant_odc.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_odc.$edit">{{participant_odc.situation_participant_odc.libelle}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!participant_odc.$edit && vm.validation_formationodc==0" ng-click="vm.modifierParticipant_odc(participant_odc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_odc.$edit && vm.validation_formationodc==0" ng-click="vm.supprimerParticipant_odc(participant_odc)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                             <span ng-if="!participant_odc.$edit && vm.validation_formationodc==1">Aucune action disponible</span> 
                                                      
                                            <a ng-if="participant_odc.$edit" ng-click="vm.annulerParticipant_odc(participant_odc)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="participant_odc.$edit && participant_odc.nom && participant_odc.prenom && participant_odc.sexe && participant_odc.id_situation_participant_odc>''" ng-click="vm.ajoutParticipant_odc(participant_odc,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                       <!--------------------------------DEBUT participant emies----------------------------------------->

                       <!--------------------------------DEBUT Formation emies----------------------------------------->

                            <md-tab ng-click="vm.step_module_emies()">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                  <span class="ms-form-wizard-step-text">Formation emies</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerModule_emies()" style="width:10%;" ng-show="vm.showbuttonValidationformemies && vm.permissionboutonvaliderformemies && vm.validation_formationemies==0">
                                          Validation
                                        </md-button><br>
                                </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.module_emies_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="module_emies in vm.allmodule_emies"  ng-class="{selected: module_emies.$selected}" ng-click="vm.selectionModule_emies(module_emies)">
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_debut_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_emies.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_fin_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_emies.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_previ_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_emies.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_debut_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_emies.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_fin_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-datepicker ng-model="module_emies.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_emies.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_emies.$edit">{{vm.formatDate(module_emies.date_reel_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel participant</label>
                                            <input name="nbr_previ_parti" type="number" ng-model="module_emies.nbr_previ_parti"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_previ_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre participant</label>
                                            <input name="nbr_parti" type="number" ng-model="module_emies.nbr_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel femme participant</label>
                                            <input name="nbr_previ_fem_parti" type="number" ng-model="module_emies.nbr_previ_fem_parti"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_previ_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre réel femme participant</label>
                                            <input name="nbr_reel_fem_parti" type="number" ng-model="module_emies.nbr_reel_fem_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.nbr_reel_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Lieu formation</label>
                                            <input name="lieu_formation" type="text" ng-model="module_emies.lieu_formation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.lieu_formation}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_emies.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="module_emies.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_emies.$edit">{{module_emies.observation}}</span>
                                      </td>
                                                                   
                                      <td>
                                        <a ng-if="!module_emies.$edit && module_emies.validation==0" ng-click="vm.modifierModule_emies(module_emies)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                        </a>
                                                      
                                        <a ng-if="!module_emies.$edit && module_emies.validation==0" ng-click="vm.supprimerModule_emies(module_emies)" title="Supprimer">
                                            <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!module_emies.$edit && module_emies.validation==1">Aucune action disponible</span>
                                                  
                                        <a ng-if="module_emies.$edit" ng-click="vm.annulerModule_emies(module_emies)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="module_emies.$edit && module_emies.date_debut_previ_form && module_emies.date_fin_previ_form && module_emies.date_previ_resti && module_emies.date_debut_reel_form && module_emies.nbr_previ_parti && module_emies.date_fin_reel_form && module_emies.date_reel_resti && module_emies.nbr_previ_fem_parti && module_emies.lieu_formation && module_emies.observation >''" ng-click="vm.ajoutModule_emies(module_emies,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation emies------------------------------------------>

                        <!---------------------------------Debut participant_emies ------------------------------------->
                            <md-tab ng-disabled="!vm.stepparticipantemies">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Participant emies</span>
                                  </span>
                                </md-tab-label>
                                
                                <md-tab-body><br>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.participant_emies_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="participant_emies in vm.allparticipant_emies"  ng-class="{selected: participant_emies.$selected}" ng-click="vm.selectionParticipant_emies(participant_emies)">           
                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nom</label>
                                              <input name="nom" type="text" ng-model="participant_emies.nom"/>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_emies.$edit">{{participant_emies.nom}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Prenom</label>
                                              <input name="prenom" type="text" ng-model="participant_emies.prenom"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_emies.$edit">{{participant_emies.prenom}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Sexe</label>
                                              <md-select ng-model="participant_emies.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option value="1">Masculin
                                                  </md-option>
                                                  <md-option value="2">Femimin
                                                  </md-option>
                                                </md-select>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_emies.$edit">{{vm.affichage_sexe(participant_emies.sexe)}}</span>
                                        </td> 

                                        <td>
                                          <span ng-if="participant_emies.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Site</label>
                                              <md-select ng-model="participant_emies.id_situation_participant_emies"style="overflow: hidden;text-overflow: ellipsis;">
                                                <md-option ng-repeat="situation_participant_emies in vm.allsituation_participant_emies" value="{{situation_participant_emies.id}}">
                                                                                      {{situation_participant_emies.libelle}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_emies.$edit">{{participant_emies.situation_participant_emies.libelle}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!participant_emies.$edit && vm.validation_formationemies==0" ng-click="vm.modifierParticipant_emies(participant_emies)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_emies.$edit && vm.validation_formationemies==0" ng-click="vm.supprimerParticipant_emies(participant_emies)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                             <span ng-if="!participant_emies.$edit && vm.validation_formationemies==1">Aucune action disponible</span> 
                                                    
                                          <a ng-if="participant_emies.$edit" ng-click="vm.annulerParticipant_emies(participant_emies)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="participant_emies.$edit && participant_emies.nom && participant_emies.prenom && participant_emies.sexe && participant_emies.id_situation_participant_emies>''" ng-click="vm.ajoutParticipant_emies(participant_emies,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                      <!-----------------------------------FIN participant_emies ----------------------------------->


                       <!--------------------------------DEBUT Formation gfpc--------------------------------------->

                            <md-tab ng-click="vm.step_module_gfpc()">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                  <span class="ms-form-wizard-step-text">Formation gfpc</span>
                                </span>
                              </md-tab-label>
                              
                             <md-tab-body>
                                  <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerModule_gfpc()" style="width:10%;" ng-show="vm.showbuttonValidationformgfpc && vm.permissionboutonvaliderformgfpc && vm.validation_formationgfpc==0">
                                          Validation
                                        </md-button><br>
                                  </div>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.module_gfpc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="module_gfpc in vm.allmodule_gfpc"  ng-class="{selected: module_gfpc.$selected}" ng-click="vm.selectionModule_gfpc(module_gfpc)">
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_debut_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_gfpc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_fin_previ_form)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_gfpc.date_debut_previ_form" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_previ_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_gfpc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_debut_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_gfpc.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_fin_reel_form)}}</span>
                                        </td>
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-datepicker ng-model="module_gfpc.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_gfpc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!module_gfpc.$edit">{{vm.formatDate(module_gfpc.date_reel_resti)}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel participant</label>
                                              <input name="nbr_previ_parti" type="number" ng-model="module_gfpc.nbr_previ_parti"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_previ_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre participant</label>
                                              <input name="nbr_parti" type="number" ng-model="module_gfpc.nbr_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre previsionnel femme participant</label>
                                              <input name="nbr_previ_fem_parti" type="number" ng-model="module_gfpc.nbr_previ_fem_parti"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_previ_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nombre réel femme participant</label>
                                              <input name="nbr_reel_fem_parti" type="number" ng-model="module_gfpc.nbr_reel_fem_parti" disabled />
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.nbr_reel_fem_parti}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Lieu formation</label>
                                              <input name="lieu_formation" type="text" ng-model="module_gfpc.lieu_formation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.lieu_formation}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="module_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Observation</label>
                                              <input name="observation" type="text" ng-model="module_gfpc.observation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!module_gfpc.$edit">{{module_gfpc.observation}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!module_gfpc.$edit && module_gfpc.validation==0" ng-click="vm.modifierModule_gfpc(module_gfpc)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                        
                                          <a ng-if="!module_gfpc.$edit && module_gfpc.validation==0" ng-click="vm.supprimerModule_gfpc(module_gfpc)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                          </a>
                                          <span ng-if="!module_gfpc.$edit && module_gfpc.validation==1">Aucune action disponible</span>
                                                    
                                          <a ng-if="module_gfpc.$edit" ng-click="vm.annulerModule_gfpc(module_gfpc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="module_gfpc.$edit && module_gfpc.date_debut_previ_form && module_gfpc.date_fin_previ_form && module_gfpc.date_previ_resti && module_gfpc.date_debut_reel_form && module_gfpc.nbr_previ_parti && module_gfpc.date_fin_reel_form && module_gfpc.date_reel_resti && module_gfpc.nbr_previ_fem_parti && module_gfpc.lieu_formation && module_gfpc.observation >''" ng-click="vm.ajoutModule_gfpc(module_gfpc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation gfpc------------------------------------------>

                        <!---------------------------------Debut participant_gfpc -------------------------------------->
                            <md-tab ng-disabled="!vm.stepparticipantgfpc">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Participant gfpc</span>
                                  </span>
                                </md-tab-label>
                                
                                <md-tab-body><br>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.participant_gfpc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="participant_gfpc in vm.allparticipant_gfpc"  ng-class="{selected: participant_gfpc.$selected}" ng-click="vm.selectionParticipant_gfpc(participant_gfpc)">           
                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nom</label>
                                              <input name="nom" type="text" ng-model="participant_gfpc.nom"/>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_gfpc.$edit">{{participant_gfpc.nom}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Prenom</label>
                                              <input name="prenom" type="text" ng-model="participant_gfpc.prenom"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_gfpc.$edit">{{participant_gfpc.prenom}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Sexe</label>
                                              <md-select ng-model="participant_gfpc.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option value="1">Masculin
                                                  </md-option>
                                                  <md-option value="2">Femimin
                                                  </md-option>
                                                </md-select>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_gfpc.$edit">{{vm.affichage_sexe(participant_gfpc.sexe)}}</span>
                                        </td> 

                                        <td>
                                          <span ng-if="participant_gfpc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Site</label>
                                              <md-select ng-model="participant_gfpc.id_situation_participant_gfpc"style="overflow: hidden;text-overflow: ellipsis;">
                                                <md-option ng-repeat="situation_participant_gfpc in vm.allsituation_participant_gfpc" value="{{situation_participant_gfpc.id}}">
                                                                                      {{situation_participant_gfpc.libelle}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_gfpc.$edit">{{participant_gfpc.situation_participant_gfpc.libelle}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!participant_gfpc.$edit && vm.validation_formationgfpc==0" ng-click="vm.modifierParticipant_gfpc(participant_gfpc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_gfpc.$edit && vm.validation_formationgfpc==0" ng-click="vm.supprimerParticipant_gfpc(participant_gfpc)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                             <span ng-if="!participant_gfpc.$edit && vm.validation_formationgfpc==1">Aucune action disponible</span> 
                                                    
                                          <a ng-if="participant_gfpc.$edit" ng-click="vm.annulerParticipant_gfpc(participant_gfpc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="participant_gfpc.$edit && participant_gfpc.nom && participant_gfpc.prenom && participant_gfpc.sexe && participant_gfpc.id_situation_participant_gfpc>''" ng-click="vm.ajoutParticipant_gfpc(participant_gfpc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                      <!--------------------------------FIN participant_gfpc --------------------------------------->

                        <!-------------------------------DEBUT Formation pmc--------------------------------------->

                            <md-tab ng-click="vm.step_module_pmc()">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                  <span class="ms-form-wizard-step-text">Formation pmc</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerModule_pmc()" style="width:10%;" ng-show="vm.showbuttonValidationformpmc && vm.permissionboutonvaliderformpmc && vm.validation_formationpmc==0">
                                          Validation
                                        </md-button><br>
                                </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.module_pmc_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="module_pmc in vm.allmodule_pmc"  ng-class="{selected: module_pmc.$selected}" ng-click="vm.selectionModule_pmc(module_pmc)">
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_debut_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_pmc.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_fin_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_pmc.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_previ_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_pmc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_debut_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_pmc.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_fin_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-datepicker ng-model="module_pmc.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_pmc.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_pmc.$edit">{{vm.formatDate(module_pmc.date_reel_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel participant</label>
                                            <input name="nbr_previ_parti" type="number" ng-model="module_pmc.nbr_previ_parti"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_previ_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre participant</label>
                                            <input name="nbr_parti" type="number" ng-model="module_pmc.nbr_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel femme participant</label>
                                            <input name="nbr_previ_fem_parti" type="number" ng-model="module_pmc.nbr_previ_fem_parti"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_previ_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre réel femme participant</label>
                                            <input name="nbr_reel_fem_parti" type="number" ng-model="module_pmc.nbr_reel_fem_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.nbr_reel_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Lieu formation</label>
                                            <input name="lieu_formation" type="text" ng-model="module_pmc.lieu_formation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.lieu_formation}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_pmc.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="module_pmc.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_pmc.$edit">{{module_pmc.observation}}</span>
                                      </td>
                                                                   
                                      <td>
                                        <a ng-if="!module_pmc.$edit && module_pmc.validation==0" ng-click="vm.modifierModule_pmc(module_pmc)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                        </a>
                                                      
                                        <a ng-if="!module_pmc.$edit && module_pmc.validation==0" ng-click="vm.supprimerModule_pmc(module_pmc)" title="Supprimer">
                                            <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!module_pmc.$edit && module_pmc.validation==1">Aucune action disponible</span>
                                                  
                                        <a ng-if="module_pmc.$edit" ng-click="vm.annulerModule_pmc(module_pmc)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="module_pmc.$edit && module_pmc.date_debut_previ_form && module_pmc.date_fin_previ_form && module_pmc.date_previ_resti && module_pmc.date_debut_reel_form && module_pmc.nbr_previ_parti && module_pmc.date_fin_reel_form && module_pmc.date_reel_resti && module_pmc.nbr_previ_fem_parti && module_pmc.lieu_formation && module_pmc.observation >''" ng-click="vm.ajoutModule_pmc(module_pmc,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation pmc------------------------------------------>

                         <!-------------------------------Debut participant_pmc --------------------------------------->
                            <md-tab ng-disabled="!vm.stepparticipantpmc">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Participant pmc</span>
                                  </span>
                                </md-tab-label>
                                
                                <md-tab-body><br>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                    <thead>
                                      <tr>
                                        <th class="secondary-text" ng-repeat="mem in ::vm.participant_pmc_column">
                                          <div class="table-header">
                                            <span class="column-title">{{mem.titre}}</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="participant_pmc in vm.allparticipant_pmc"  ng-class="{selected: participant_pmc.$selected}" ng-click="vm.selectionParticipant_pmc(participant_pmc)">           
                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Nom</label>
                                              <input name="nom" type="text" ng-model="participant_pmc.nom"/>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_pmc.$edit">{{participant_pmc.nom}}</span>
                                        </td>
                                                  
                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Prenom</label>
                                              <input name="prenom" type="text" ng-model="participant_pmc.prenom"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_pmc.$edit">{{participant_pmc.prenom}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Sexe</label>
                                              <md-select ng-model="participant_pmc.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option value="1">Masculin
                                                  </md-option>
                                                  <md-option value="2">Femimin
                                                  </md-option>
                                                </md-select>
                                            </md-input-container>
                                          </span>                          
                                          <span ng-if="!participant_pmc.$edit">{{vm.affichage_sexe(participant_pmc.sexe)}}</span>
                                        </td> 

                                        <td>
                                          <span ng-if="participant_pmc.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Site</label>
                                              <md-select ng-model="participant_pmc.id_situation_participant_pmc"style="overflow: hidden;text-overflow: ellipsis;">
                                                <md-option ng-repeat="situation_participant_pmc in vm.allsituation_participant_pmc" value="{{situation_participant_pmc.id}}">
                                                                                      {{situation_participant_pmc.libelle}}
                                                </md-option>
                                              </md-select>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!participant_pmc.$edit">{{participant_pmc.situation_participant_pmc.libelle}}</span>
                                        </td>
                                                                     
                                        <td>
                                          <a ng-if="!participant_pmc.$edit && vm.validation_formationpmc==0" ng-click="vm.modifierParticipant_pmc(participant_pmc)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_pmc.$edit && vm.validation_formationpmc==0" ng-click="vm.supprimerParticipant_pmc(participant_pmc)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                             <span ng-if="!participant_pmc.$edit && vm.validation_formationpmc==1">Aucune action disponible</span> 
                                                    
                                          <a ng-if="participant_pmc.$edit" ng-click="vm.annulerParticipant_pmc(participant_pmc)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="participant_pmc.$edit && participant_pmc.nom && participant_pmc.prenom && participant_pmc.sexe && participant_pmc.id_situation_participant_pmc>''" ng-click="vm.ajoutParticipant_pmc(participant_pmc,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                            </md-tab>
                        <!--------------------------------------FIN participant_pmc ---------------------------------->
                        <!------------------------------------DEBUT Formation sep------------------------------------->

                            <md-tab ng-click="vm.step_module_sep()">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                  <span class="ms-form-wizard-step-text">Formation sep</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerModule_sep()" style="width:10%;" ng-show="vm.showbuttonValidationformsep && vm.permissionboutonvaliderformsep && vm.validation_formationsep==0">
                                          Validation
                                        </md-button><br>
                                </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.module_sep_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="module_sep in vm.allmodule_sep"  ng-class="{selected: module_sep.$selected}" ng-click="vm.selectionModule_sep(module_sep)">
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_debut_previ_form" md-placeholder="Date de debut prévisionnelle" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_debut_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_fin_previ_form" md-placeholder="Date de fin prévisionnelle" md-max-date="vm.datenow" md-min-date="module_sep.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_fin_previ_form)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_previ_resti" md-placeholder="Date prévisionnelle de restitution" md-max-date="vm.datenow" md-min-date="module_sep.date_debut_previ_form" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_previ_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_debut_reel_form" md-placeholder="Date de debut réelle" md-min-date="module_sep.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_debut_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_fin_reel_form" md-placeholder="Date de fin réelle" md-min-date="module_sep.date_debut_reel_form" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_fin_reel_form)}}</span>
                                      </td>
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-datepicker ng-model="module_sep.date_reel_resti" md-placeholder="Date réelle de restitution" md-min-date="module_sep.date_previ_resti" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!module_sep.$edit">{{vm.formatDate(module_sep.date_reel_resti)}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel participant</label>
                                            <input name="nbr_previ_parti" type="number" ng-model="module_sep.nbr_previ_parti"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_previ_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre participant</label>
                                            <input name="nbr_parti" type="number" ng-model="module_sep.nbr_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre previsionnel femme participant</label>
                                            <input name="nbr_previ_fem_parti" type="number" ng-model="module_sep.nbr_previ_fem_parti"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_previ_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Nombre réel femme participant</label>
                                            <input name="nbr_reel_fem_parti" type="number" ng-model="module_sep.nbr_reel_fem_parti" disabled />
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.nbr_reel_fem_parti}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Lieu formation</label>
                                            <input name="lieu_formation" type="text" ng-model="module_sep.lieu_formation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.lieu_formation}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="module_sep.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="module_sep.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!module_sep.$edit">{{module_sep.observation}}</span>
                                      </td>
                                                                   
                                      <td>
                                        <a ng-if="!module_sep.$edit && module_sep.validation==0" ng-click="vm.modifierModule_sep(module_sep)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                        </a>
                                                      
                                        <a ng-if="!module_sep.$edit && module_sep.validation==0" ng-click="vm.supprimerModule_sep(module_sep)" title="Supprimer">
                                            <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!module_sep.$edit && module_sep.validation==1">Aucune action disponible</span>
                                                  
                                        <a ng-if="module_sep.$edit" ng-click="vm.annulerModule_sep(module_sep)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="module_sep.$edit && module_sep.date_debut_previ_form && module_sep.date_fin_previ_form && module_sep.date_previ_resti && module_sep.date_debut_reel_form && module_sep.nbr_previ_parti && module_sep.date_fin_reel_form && module_sep.date_reel_resti && module_sep.nbr_previ_fem_parti && module_sep.lieu_formation && module_sep.observation >''" ng-click="vm.ajoutModule_sep(module_sep,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!-------------------------------Fin Formation sep------------------------------------------>

                         <!-----------------------------Debut participant_sep -------------------------------------->
                              <md-tab ng-disabled="!vm.stepparticipantsep">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">Participant sep</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body><br>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" >
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.participant_sep_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="participant_sep in vm.allparticipant_sep"  ng-class="{selected: participant_sep.$selected}" ng-click="vm.selectionParticipant_sep(participant_sep)">           
                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Nom</label>
                                                <input name="nom" type="text" ng-model="participant_sep.nom"/>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_sep.$edit">{{participant_sep.nom}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Prenom</label>
                                                <input name="prenom" type="text" ng-model="participant_sep.prenom"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_sep.$edit">{{participant_sep.prenom}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Sexe</label>
                                                <md-select ng-model="participant_sep.sexe"style="overflow: hidden;text-overflow: ellipsis;">
                                                    <md-option value="1">Masculin
                                                    </md-option>
                                                    <md-option value="2">Femimin
                                                    </md-option>
                                                  </md-select>
                                              </md-input-container>
                                            </span>                          
                                            <span ng-if="!participant_sep.$edit">{{vm.affichage_sexe(participant_sep.sexe)}}</span>
                                          </td> 

                                          <td>
                                            <span ng-if="participant_sep.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Site</label>
                                                <md-select ng-model="participant_sep.id_situation_participant_sep"style="overflow: hidden;text-overflow: ellipsis;">
                                                  <md-option ng-repeat="situation_participant_sep in vm.allsituation_participant_sep" value="{{situation_participant_sep.id}}">
                                                                                        {{situation_participant_sep.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!participant_sep.$edit">{{participant_sep.situation_participant_sep.libelle}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!participant_sep.$edit && vm.validation_formationsep==0" ng-click="vm.modifierParticipant_sep(participant_sep)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!participant_sep.$edit && vm.validation_formationsep==0" ng-click="vm.supprimerParticipant_sep(participant_sep)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                             <span ng-if="!participant_sep.$edit && vm.validation_formationsep==1">Aucune action disponible</span> 
                                                      
                                            <a ng-if="participant_sep.$edit" ng-click="vm.annulerParticipant_sep(participant_sep)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="participant_sep.$edit && participant_sep.nom && participant_sep.prenom && participant_sep.sexe && participant_sep.id_situation_participant_sep>''" ng-click="vm.ajoutParticipant_sep(participant_sep,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                        <!----------------------------------FIN participant_sep ------------------------------------->         
                              
                      <!---------------------convention cisco/feffi---------------->
                      
                            </md-tabs> 
                          </ms-form-wizard>
                    <!---------------------------------FILS PRESTATION-----------------------------------------------> 

                        </md-tab-body>
                    </md-tab>                    
                    
                    <!-------------------------------Debut document moe -------------------------------------------->
                    <md-tab ng-click="vm.step_importer_doc_pr()" ng-disabled="!vm.stepdoc_pr">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerDocument_pr_scan()" style="width:10%;" ng-show="vm.showbuttonValidation_document_pr_scan && vm.permissionboutonvaliderdocument_pr_scan && vm.validation_document_pr_scan==0">
                                Validation
                              </md-button><br>
                          </div><br>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_pr_scan in vm.alldocument_pr_scan"  ng-class="{selected: document_pr_scan.$selected}" ng-click="vm.selectionDocument_pr_scan(document_pr_scan)">

                                <td>                                            
                                  <span>{{document_pr_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_pr_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_pr_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_pr_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_pr_scan.fichier" disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_pr_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-change="uploadFile_doc_pr"  ng-model="fichier" id="fileid"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_pr_scan.$edit">{{document_pr_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_pr_scan.$edit">
                                    <md-datepicker ng-model="document_pr_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_pr_scan.$edit">{{vm.formatDate(document_pr_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_pr_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_pr_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_pr_scan.$edit">{{document_pr_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_pr_scan.$edit && (document_pr_scan.validation==0 || document_pr_scan.validation==null)" ng-click="vm.modifierDocument_pr_scan(document_pr_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_pr_scan.$edit && document_pr_scan.validation==0" ng-click="vm.supprimerDocument_pr_scan(document_pr_scan)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_pr_scan.$edit && document_pr_scan.existance" ng-click="vm.download_document_pr_scan(document_pr_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_pr_scan.$edit" ng-click="vm.annulerDocument_pr_scan(document_pr_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_pr_scan.$edit && document_pr_scan.fichier && document_pr_scan.date_elaboration >''" ng-click="vm.ajoutDocument_pr_scan(document_pr_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!-----------------------------------FIN document moe -----------------------------------------> 
            
                  </md-tabs> 
                </ms-form-wizard>               
              </md-tab-body>
            </md-tab>

            <!-----------------------DEBUT MAITRISE DOEUVRE------------------------------------>
            <md-tab ng-disabled="vm.stepMenu_moe==false"  ng-click="vm.step_menu_moe()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                      <i class="icon-drawing-box s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">MAITRISE D'ŒUVRE</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >4</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
               <ms-form-wizard flex id="sousmenu"> 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="{{vm.styleTabfils}}">

                    <!-------------------convention cisco/feffi----------------->
                    <md-tab ng-click="vm.clickpassation_marches_moe()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Passation des marchés</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;"> 
                              <md-button type="submit" class="md-raised md-warn" aria-label="valider" ng-click="vm.validation_passation_marche_moe()" style="width:10%;" ng-show="vm.showbuttonValidationpassation_moe && vm.permissionboutonvaliderpassation_moe && vm.validation_passation_moe==0">
                                    Validation
                              </md-button><br>
                          </div>
                         <div>       
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.passation_marches_moe_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="passation_marches_moe in vm.allpassation_marches_moe"  ng-class="{selected: passation_marches_moe.$selected}" ng-click="vm.selectionPassation_marches_moe(passation_marches_moe)">

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_shortlist" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_shortlist)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_manifestation" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_manifestation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_lancement_dp" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_lancement_dp)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_remise" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_lancement_dp" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_remise)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Nombre offre recu</label>
                                      <input name="nbr_offre_recu" type="number" ng-model="passation_marches_moe.nbr_offre_recu"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{passation_marches_moe.nbr_offre_recu}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_rapport_evaluation" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_remise" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_rapport_evaluation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_demande_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_rapport_evaluation" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_demande_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_demande_ano_dpfi" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.notification_intention" md-placeholder="Date de notification" md-min-date="passation_marches_moe.date_demande_ano_dpfi" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.notification_intention)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_notification_attribution" md-placeholder="Date de signature" md-min-date="passation_marches_moe.notification_intention" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_notification_attribution)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_signature_contrat" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_notification_attribution" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_signature_contrat)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-datepicker ng-model="passation_marches_moe.date_os" md-placeholder="Date de signature" md-min-date="passation_marches_moe.date_signature_contrat" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.formatDate(passation_marches_moe.date_os)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Statut</label>
                                      <md-select ng-model="passation_marches_moe.statut"style="overflow: hidden;text-overflow: ellipsis;">
                                        <md-option value="1">BE
                                        </md-option>
                                        <md-option value="2">CI
                                        </md-option>
                                      </md-select>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{vm.affichageStatut(passation_marches_moe.statut)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="passation_marches_moe.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches_moe.$edit">{{passation_marches_moe.observation}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!passation_marches_moe.$edit && passation_marches_moe.validation==0" ng-click="vm.modifierPassation_marches_moe(passation_marches_moe)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!passation_marches_moe.$edit && passation_marches_moe.validation==0" ng-click="vm.supprimerPassation_marches_moe(passation_marches_moe)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>
                                   <span ng-if="!passation_marches_moe.$edit && passation_marches_moe.validation==1">Aucune action disponible</span>         
                                  <a ng-if="passation_marches_moe.$edit" ng-click="vm.annulerPassation_marches_moe(passation_marches_moe)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="passation_marches_moe.$edit && passation_marches_moe.date_shortlist && passation_marches_moe.date_manifestation && passation_marches_moe.date_lancement_dp && passation_marches_moe.date_remise && passation_marches_moe.nbr_offre_recu && passation_marches_moe.date_rapport_evaluation && passation_marches_moe.date_demande_ano_dpfi && passation_marches_moe.date_ano_dpfi && passation_marches_moe.notification_intention && passation_marches_moe.date_notification_attribution && passation_marches_moe.date_signature_contrat && passation_marches_moe.date_os && passation_marches_moe.statut && passation_marches_moe.observation >''" ng-click="vm.ajoutPassation_marches_moe(passation_marches_moe,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>

                    <md-tab ng-click="vm.step_contrat_moe()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Contrat</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">
                            <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.valider_contrat_moe()" style="width:10%;" ng-show="vm.showbuttonValidationcontrat_moe && vm.permissionboutonvalidercontrat_moe && vm.validation_contrat_moe==0">
                              Validation
                            </md-button><br>
                          </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.contrat_moe_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="contrat_moe in vm.allcontrat_moe"  ng-class="{selected: contrat_moe.$selected}" ng-click="vm.selectionContrat_moe(contrat_moe)">
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>moe</label>
                                      <md-select ng-model="contrat_moe.id_moe"style="overflow: hidden;text-overflow: ellipsis;">
                                        <md-option ng-repeat="moe in vm.allmoe" value="{{moe.id}}">
                                                                              {{moe.nom}}
                                        </md-option>
                                      </md-select>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.bureau_etude.nom}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Intitule objet</label>
                                      <input name="intitule" type="text" ng-model="contrat_moe.intitule"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.intitule}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Réference contrat</label>
                                      <input name="ref_contrat" type="text" ng-model="contrat_moe.ref_contrat"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.ref_contrat}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Montant contrat</label>
                                      <input name="montant_contrat" type="number" ng-model="contrat_moe.montant_contrat"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_moe.$edit">{{contrat_moe.montant_contrat}} Ar</span>
                                </td>

                                <td>
                                  <span ng-if="contrat_moe.$edit">
                                    <md-datepicker ng-model="contrat_moe.date_signature" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!contrat_moe.$edit">{{vm.formatDate(contrat_moe.date_signature)}}</span>
                                </td>
                                            
                                  <!--span ng-if="!contrat_moe.$edit">{{contrat_moe.delai_execution}}</span>
                                </td-->
                                                             
                                <td>
                                  <a ng-if="!contrat_moe.$edit && contrat_moe.validation==0" ng-click="vm.modifierContrat_moe(contrat_moe)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!contrat_moe.$edit && contrat_moe.validation==0" ng-click="vm.supprimerContrat_moe(contrat_moe)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>
                                 <span ng-if="!contrat_moe.$edit && contrat_moe.validation==1">Aucune action disponible</span>
                                  <a ng-if="contrat_moe.$edit" ng-click="vm.annulerContrat_moe(contrat_moe)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="contrat_moe.$edit && contrat_moe.intitule && contrat_moe.ref_contrat && contrat_moe.montant_contrat &&  contrat_moe.date_signature && contrat_moe.id_moe>''" ng-click="vm.ajoutContrat_moe(contrat_moe,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <md-tab ng-disabled="!vm.stepprestation_moe || vm.validation_contrat_moe==0" ng-click="vm.step_prestation_moe()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Prestation</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                       <!-------------------------------FILS PRESTATION--------------------------------------------->       
                         <ms-form-wizard flex > 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu">

                        <!-----------------------------DEBUT FORMATION DPP--------------------------------------> 
                              <md-tab ng-click="vm.step_memoire_technique()" ng-disabled="vm.validation_contrat_moe==0">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-basket-fill s16"></i>
                                      </span-->                          
                                      
                                      <span class="ms-form-wizard-step-text">Memoire technique</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                  <div style="widht:100%;">   
                                      <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerMemoire_technique()" style="width:10%;" ng-show="vm.showbuttonValidationMemoire_technique && vm.permissionboutonvaliderMemoire_technique && vm.validation_memoire_technique==0">
                                        Validation
                                      </md-button><br>
                                  </div><br>
                                 <div>        
                                  <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                    <thead>
                                      <tr>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Description</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Date livraison</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Date Approbation</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Observation</span>
                                          </div>
                                        </th>
                                        <th class="secondary-text">
                                          <div class="table-header">
                                            <span class="column-title">Action</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                             
                                    <tbody>
                                      <tr ng-repeat="memoire_technique in vm.allmemoire_technique"  ng-class="{selected: memoire_technique.$selected}" ng-click="vm.selectionMemoire_technique(memoire_technique)">
                                                 
                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Description</label>
                                              <input name="description" type="text" ng-model="memoire_technique.description"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!memoire_technique.$edit">{{memoire_technique.description}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-datepicker ng-model="memoire_technique.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!memoire_technique.$edit">{{vm.formatDate(memoire_technique.date_livraison)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-datepicker ng-model="memoire_technique.date_approbation" md-placeholder="Date de approbation" md-max-date="vm.datenow" md-min-date="memoire_technique.date_livraison" required>                       
                                            </md-datepicker>
                                          </span>                          
                                          <span ng-if="!memoire_technique.$edit">{{vm.formatDate(memoire_technique.date_approbation)}}</span>
                                        </td>

                                        <td>
                                          <span ng-if="memoire_technique.$edit">
                                            <md-input-container style="width:100%;display: flex !important;">
                                              <label>Observation</label>
                                              <input name="observation" type="text" ng-model="memoire_technique.observation"/>
                                            </md-input-container>   
                                          </span>
                                                    
                                          <span ng-if="!memoire_technique.$edit">{{memoire_technique.observation}}</span>
                                        </td>

                                        <td>
                                          <a ng-if="!memoire_technique.$edit && memoire_technique.validation==0" ng-click="vm.modifierMemoire_technique(memoire_technique)" title="Modifier">
                                            <span class="icon-table-edit"></span>
                                          </a>
                                                    
                                          <a ng-if="!memoire_technique.$edit && memoire_technique.validation==0" ng-click="vm.supprimerMemoire_technique(memoire_technique)" title="Supprimer">
                                            <span class="icon-delete"></span>
                                          </a>
                                          <span ng-if="!memoire_technique.$edit && memoire_technique.validation==1">Aucune action disponible</span>
                                                    
                                          <a ng-if="memoire_technique.$edit" ng-click="vm.annulerMemoire_technique(memoire_technique)" title="Annuler modification">
                                            <span class="icon-cancel"></span>
                                          </a>
                                                    
                                          <a ng-if="memoire_technique.$edit && memoire_technique.description && memoire_technique.date_livraison && memoire_technique.date_approbation>''" ng-click="vm.ajoutMemoire_technique(memoire_technique,0)" title="Sauvegarder">
                                            <span class="icon-content-save"></span>
                                          </a>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>

                              </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN FORMATION DPP----------------------------------------------->

                        <!----------------------------------Debut participant_dpp ----------------------------------------->
                              <md-tab ng-click="vm.step_appel_offre()" ng-disabled="vm.validation_contrat_moe==0">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">Appel d'offre</span>
                                    </span>
                                  </md-tab-label>
                                  
                                   <md-tab-body>
                                      <div style="widht:100%;">  
                                          <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerAppel_offre()" style="width:10%;" ng-show="vm.showbuttonValidationAppel_offre && vm.permissionboutonvaliderAppel_offre && vm.validation_appel_offre==0">
                                            Validation
                                          </md-button><br>
                                      </div><br>
                                     <div>        
                                      <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                        <thead>
                                          <tr>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Description</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Date livraison</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Date Approbation</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Observation</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Action</span>
                                              </div>
                                            </th>
                                          </tr>
                                        </thead>
                                                 
                                        <tbody>
                                          <tr ng-repeat="appel_offre in vm.allappel_offre"  ng-class="{selected: appel_offre.$selected}" ng-click="vm.selectionAppel_offre(appel_offre)">
                                                     
                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Description</label>
                                                  <input name="description" type="text" ng-model="appel_offre.description"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!appel_offre.$edit">{{appel_offre.description}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-datepicker ng-model="appel_offre.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!appel_offre.$edit">{{vm.formatDate(appel_offre.date_livraison)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-datepicker ng-model="appel_offre.date_approbation" md-placeholder="Date de approbation" md-max-date="vm.datenow" md-min-date="appel_offre.date_livraison" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!appel_offre.$edit">{{vm.formatDate(appel_offre.date_approbation)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="appel_offre.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Observation</label>
                                                  <input name="observation" type="text" ng-model="appel_offre.observation"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!appel_offre.$edit">{{appel_offre.observation}}</span>
                                            </td>

                                            <td>
                                              <a ng-if="!appel_offre.$edit && appel_offre.validation==0" ng-click="vm.modifierAppel_offre(appel_offre)" title="Modifier">
                                                <span class="icon-table-edit"></span>
                                              </a>
                                                        
                                              <a ng-if="!appel_offre.$edit && appel_offre.validation==0" ng-click="vm.supprimerAppel_offre(appel_offre)" title="Supprimer">
                                                <span class="icon-delete"></span>
                                              </a>                        
                                                        
                                              <span ng-if="!appel_offre.$edit && appel_offre.validation==1">Aucune action disponible</span>
                                                        
                                              <a ng-if="appel_offre.$edit" ng-click="vm.annulerAppel_offre(appel_offre)" title="Annuler modification">
                                                <span class="icon-cancel"></span>
                                              </a>
                                                        
                                              <a ng-if="appel_offre.$edit && appel_offre.description && appel_offre.date_livraison && appel_offre.date_approbation>''" ng-click="vm.ajoutAppel_offre(appel_offre,0)" title="Sauvegarder">
                                                <span class="icon-content-save"></span>
                                              </a>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>

                                  </md-tab-body>
                              </md-tab>
                        <!---------------------------------FIN participant_dpp ------------------------------------------>


                        <!---------------------------------DEBUT FORMATION ODC------------------------------------------->
                              <md-tab ng-click="vm.step_rapport_mensuel()" ng-disabled="vm.validation_contrat_moe==0">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-attachment s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Rapport mensuel</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">  
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerRapport_mensuel()" style="width:10%;" ng-show="vm.showbuttonValidationRapport_mensuel && vm.permissionboutonvaliderRapport_mensuel && vm.validation_rapport_mensuel==0">
                                          Validation
                                        </md-button><br>
                                    </div><br>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Numero rapport</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Description</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Date livraison</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Observation</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Action</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="rapport_mensuel in vm.allrapport_mensuel"  ng-class="{selected: rapport_mensuel.$selected}" ng-click="vm.selectionRapport_mensuel(rapport_mensuel)">
                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Numero</label>
                                                <md-select ng-model="rapport_mensuel.numero"style="overflow: hidden;text-overflow: ellipsis;" ng-change ="vm.change_numero(rapport_mensuel)">
                                                  <md-option value="1">Rapport 1</md-option>
                                                  <md-option value="2">Rapport 2</md-option>
                                                  <md-option value="3">Rapport 3</md-option>
                                                  <md-option value="4">Rapport 4</md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!rapport_mensuel.$edit">{{vm.affichage_numero(rapport_mensuel.numero)}}</span>
                                          </td>        
                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Description</label>
                                                <input name="description" type="text" ng-model="rapport_mensuel.description"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!rapport_mensuel.$edit">{{rapport_mensuel.description}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-datepicker ng-model="rapport_mensuel.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!rapport_mensuel.$edit">{{vm.formatDate(rapport_mensuel.date_livraison)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="rapport_mensuel.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="rapport_mensuel.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!rapport_mensuel.$edit">{{rapport_mensuel.observation}}</span>
                                          </td>

                                          <td>
                                            <a ng-if="!rapport_mensuel.$edit && rapport_mensuel.validation==0" ng-click="vm.modifierRapport_mensuel(rapport_mensuel)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!rapport_mensuel.$edit && rapport_mensuel.validation==0" ng-click="vm.supprimerRapport_mensuel(rapport_mensuel)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>                        
                                                      
                                            <span ng-if="!rapport_mensuel.$edit && rapport_mensuel.validation==1">Aucune action disponible</span>
                                                      
                                            <a ng-if="rapport_mensuel.$edit" ng-click="vm.annulerRapport_mensuel(rapport_mensuel)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="rapport_mensuel.$edit && rapport_mensuel.description && rapport_mensuel.date_livraison && vm.insererrapport>''" ng-click="vm.ajoutRapport_mensuel(rapport_mensuel,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>

                       <!---------------------------------FIN FORMATION ODC------------------------------------------->

                       <!---------------------------------FIN participant ODC------------------------------------------->
                              <md-tab ng-click="vm.step_manuel_gestion()" ng-disabled="vm.validation_contrat_moe==0">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">Manuel de gestion</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                      <div style="widht:100%;">  
                                          <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerManuel_gestion()" style="width:10%;" ng-show="vm.showbuttonValidationManuel_gestion && vm.permissionboutonvaliderManuel_gestion && vm.validation_manuel_gestion==0">
                                            Validation
                                          </md-button><br>
                                      </div><br>
                                     <div>        
                                      <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                        <thead>
                                          <tr>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Description</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Date livraison</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Observation</span>
                                              </div>
                                            </th>
                                            <th class="secondary-text">
                                              <div class="table-header">
                                                <span class="column-title">Action</span>
                                              </div>
                                            </th>
                                          </tr>
                                        </thead>
                                                 
                                        <tbody>
                                          <tr ng-repeat="manuel_gestion in vm.allmanuel_gestion"  ng-class="{selected: manuel_gestion.$selected}" ng-click="vm.selectionManuel_gestion(manuel_gestion)">
                                                     
                                            <td>
                                              <span ng-if="manuel_gestion.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Description</label>
                                                  <input name="description" type="text" ng-model="manuel_gestion.description"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!manuel_gestion.$edit">{{manuel_gestion.description}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="manuel_gestion.$edit">
                                                <md-datepicker ng-model="manuel_gestion.date_livraison" md-placeholder="Date de livraison" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!manuel_gestion.$edit">{{vm.formatDate(manuel_gestion.date_livraison)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="manuel_gestion.$edit">
                                                <md-input-container style="width:100%;display: flex !important;">
                                                  <label>Observation</label>
                                                  <input name="observation" type="text" ng-model="manuel_gestion.observation"/>
                                                </md-input-container>   
                                              </span>
                                                        
                                              <span ng-if="!manuel_gestion.$edit">{{manuel_gestion.observation}}</span>
                                            </td>

                                            <td>
                                              <a ng-if="!manuel_gestion.$edit && manuel_gestion.validation==0" ng-click="vm.modifierManuel_gestion(manuel_gestion)" title="Modifier">
                                                <span class="icon-table-edit"></span>
                                              </a>
                                                        
                                              <a ng-if="!manuel_gestion.$edit && manuel_gestion.validation==0" ng-click="vm.supprimerManuel_gestion(manuel_gestion)" title="Supprimer">
                                                <span class="icon-delete"></span>
                                              </a>                        
                                                        
                                              <span ng-if="!manuel_gestion.$edit && manuel_gestion.validation==1">Aucune action disponible</span>
                                                        
                                              <a ng-if="manuel_gestion.$edit" ng-click="vm.annulerManuel_gestion(manuel_gestion)" title="Annuler modification">
                                                <span class="icon-cancel"></span>
                                              </a>
                                                        
                                              <a ng-if="manuel_gestion.$edit && manuel_gestion.description && manuel_gestion.date_livraison>''" ng-click="vm.ajoutManuel_gestion(manuel_gestion,0)" title="Sauvegarder">
                                                <span class="icon-content-save"></span>
                                              </a>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>

                                  </md-tab-body>
                              </md-tab>
                       <!--------------------------------DEBUT participant emies----------------------------------------->

                       <!--------------------------------DEBUT Formation emies----------------------------------------->

                            <md-tab ng-click="vm.step_police_assurance()" ng-disabled="vm.validation_contrat_moe==0">
                              <md-tab-label>
                                <span class="ms-form-wizard-step-label">
                                    <!--span class="ms-form-wizard-step-number md-accent-bg">
                                        <i class="icon-currency-eur s16"></i>
                                    </span-->
                                  <span class="ms-form-wizard-step-text">Police d'assurance</span>
                                </span>
                              </md-tab-label>
                              
                              <md-tab-body>
                                <div style="widht:100%;">   
                                    <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerPolice_assurance()" style="width:10%;" ng-show="vm.showbuttonValidationPolice_assurance && vm.permissionboutonvaliderPolice_assurance && vm.validation_police_assurance==0">
                                      Validation
                                    </md-button><br>
                                </div><br>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Description</span>
                                        </div>
                                      </th>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Date expiration</span>
                                        </div>
                                      </th>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Observation</span>
                                        </div>
                                      </th>
                                      <th class="secondary-text">
                                        <div class="table-header">
                                          <span class="column-title">Action</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="police_assurance in vm.allpolice_assurance"  ng-class="{selected: police_assurance.$selected}" ng-click="vm.selectionPolice_assurance(police_assurance)">
                                                
                                      <td>
                                        <span ng-if="police_assurance.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Description</label>
                                            <input name="description" type="text" ng-model="police_assurance.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!police_assurance.$edit">{{police_assurance.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="police_assurance.$edit">
                                          <md-datepicker ng-model="police_assurance.date_expiration" md-placeholder="Date de expiration" md-max-date="vm.datenow" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!police_assurance.$edit">{{vm.formatDate(police_assurance.date_expiration)}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="police_assurance.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Observation</label>
                                            <input name="observation" type="text" ng-model="police_assurance.observation"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!police_assurance.$edit">{{police_assurance.observation}}</span>
                                      </td>

                                      <td>
                                        <a ng-if="!police_assurance.$edit && police_assurance.validation==0" ng-click="vm.modifierPolice_assurance(police_assurance)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!police_assurance.$edit && police_assurance.validation==0" ng-click="vm.supprimerPolice_assurance(police_assurance)" title="Supprimer">
                                          <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!police_assurance.$edit && police_assurance.validation==1">Aucune action disponible</span>          
                                        <a ng-if="police_assurance.$edit" ng-click="vm.annulerPolice_assurance(police_assurance)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="police_assurance.$edit && police_assurance.description && police_assurance.date_expiration>''" ng-click="vm.ajoutPolice_assurance(police_assurance,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                            </md-tab-body>
                            </md-tab>
                        <!---------------------------------Fin Formation emies------------------------------------------>
                                
                              <md-tab>
                              </md-tab>
                      <!---------------------convention cisco/feffi---------------->
                      
                            </md-tabs> 
                          </ms-form-wizard>
                    <!---------------------------------FILS PRESTATION-----------------------------------------------> 

                      </md-tab-body>
                    </md-tab>
                    
                    <!---------------------------------Avenant MOE-----------------------------------------------> 
                    <md-tab ng-disabled="!vm.stepprestation_moe || vm.validation_contrat_moe==0" ng-click="vm.step_avenant_moe()">                    
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Avenant</span>
                        </span>
                       
                      </md-tab-label>

                      <md-tab-body>
                        <div style="widht:100%;"> 
                                  <md-button type="submit" ng-show="vm.showbuttonValidation_avenant_moe && vm.permissionboutonvalideravenant_moe && vm.validation_avenant_moe==0" class="md-raised md-warn" aria-label="Valider" ng-click="vm.validerAvenant_moe()" style="width:10%;">
                                    Valider
                                  </md-button><br>
                                </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.avenant_moe_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="avenant_moe in vm.allavenant_moe"  ng-class="{selected: avenant_moe.$selected}" ng-click="vm.selectionAvenant_moe(avenant_moe)">
                                                
                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Descriprtion</label>
                                            <input name="description" type="text" ng-model="avenant_moe.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_moe.$edit">{{avenant_moe.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Référence avenant</label>
                                            <input name="ref_avenant" type="text" ng-model="avenant_moe.ref_avenant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_moe.$edit">{{avenant_moe.ref_avenant}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout avenant</label>
                                            <input name="montant" type="text" ng-model="avenant_moe.montant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_moe.$edit">{{avenant_moe.montant}} Ar</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_moe.$edit">
                                          <md-datepicker ng-model="avenant_moe.date_signature" md-placeholder="Date de signature" md-max-date="vm.date_now" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!avenant_moe.$edit">{{vm.formatDate(avenant_moe.date_signature)}}</span>
                                      </td>                      
                                      <td>
                                        <a ng-if="!avenant_moe.$edit && avenant_moe.validation==0" ng-click="vm.modifierAvenant_moe(avenant_moe)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!avenant_moe.$edit && avenant_moe.validation==0" ng-click="vm.supprimerAvenant_moe(avenant_moe)" title="Supprimer">
                                          <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!avenant_moe.$edit && avenant_moe.validation==1">Aucune action disponible</span>          
                                        <a ng-if="avenant_moe.$edit" ng-click="vm.annulerAvenant_moe(avenant_moe)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="avenant_moe.$edit && avenant_moe.description &&  avenant_moe.montant &&  avenant_moe.date_signature>''" ng-click="vm.ajoutAvenant_moe(avenant_moe,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                      </md-tab-body>
                    </md-tab>
                    <!---------------------------------Avenant MOE-----------------------------------------------> 
                    <!-------------------------------Debut document moe -------------------------------------------->
                    <md-tab ng-disabled="!vm.stepdoc_moe || vm.validation_contrat_moe==0" ng-click="vm.step_importerdocument_moe()">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <div style="widht:100%;">  
                              <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerDocument_moe_scan()" style="width:10%;" ng-show="vm.showbuttonValidation_document_moe_scan && vm.permissionboutonvaliderdocument_moe_scan && vm.validation_document_moe_scan==0">
                                Validation
                              </md-button><br>
                          </div><br>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_moe_scan in vm.alldocument_moe_scan"  ng-class="{selected: document_moe_scan.$selected}" ng-click="vm.selectionDocument_moe_scan(document_moe_scan)">

                                <td>                                            
                                  <span>{{document_moe_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_moe_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_moe_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_moe_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_moe_scan.fichier" disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_moe_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-change="uploadFile_doc_moe"  ng-model="fichier" id="fileid"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_moe_scan.$edit">{{document_moe_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_moe_scan.$edit">
                                    <md-datepicker ng-model="document_moe_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_moe_scan.$edit">{{vm.formatDate(document_moe_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_moe_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_moe_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_moe_scan.$edit">{{document_moe_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_moe_scan.$edit && (document_moe_scan.validation==0 || document_moe_scan.validation==null)" ng-click="vm.modifierDocument_moe_scan(document_moe_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_moe_scan.$edit && document_moe_scan.validation==0" ng-click="vm.supprimerDocument_moe_scan(document_moe_scan)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_moe_scan.$edit && document_moe_scan.existance" ng-click="vm.download_document_moe_scan(document_moe_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_moe_scan.$edit" ng-click="vm.annulerDocument_moe_scan(document_moe_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_moe_scan.$edit && document_moe_scan.fichier && document_moe_scan.date_elaboration >''" ng-click="vm.ajoutDocument_moe_scan(document_moe_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------------FIN document moe -------------------------------------------->            
                  </md-tabs> 
                </ms-form-wizard>               
              </md-tab-body>
            </md-tab> 

            <!-----------------------FIN MAITRISE DOEUVRE--------------------------------------------->


             <!-----------------------DEBUT ENTREPRISE------------------------------------>
            <md-tab ng-disabled="vm.stepMenu_mpe==false" ng-click="vm.step_menu_mpe()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepMenu==true">
                      <i class="icon-worker s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">ENTREPRISE</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >4</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
               <ms-form-wizard flex id="sousmenu"> 
                <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="{{vm.styleTabfils}}">
                    <md-tab ng-click="vm.steppassation_marches()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">DF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Passation des marchés</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">
                              <md-button type="submit" class="md-raised md-warn" aria-label="Valide" ng-click="vm.validation_passation_marche_mpe()" style="width:10%;" ng-show="vm.showbuttonValidationpassation && vm.permissionboutonvaliderpassation && vm.validation_passation==0">
                                    Validation
                              </md-button><br>
                          </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.passation_marches_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="passation_marches in vm.allpassation_marches"  ng-class="{selected: passation_marches.$selected}" ng-click="vm.selectionPassation_marches(passation_marches)">           
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_lancement" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_lancement)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_remise" md-placeholder="Date de signature" md-min-date="passation_marches.date_lancement" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_remise)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Nombre offre recu</label>
                                      <input name="nbr_offre_recu" type="text" ng-model="passation_marches.nbr_offre_recu" disabled/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{passation_marches.nbr_offre_recu}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Montant moins chere</label>
                                      <input name="montant_moin_chere" type="text" ng-model="passation_marches.montant_moin_chere"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{passation_marches.montant_moin_chere}} Ar</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_rapport_evaluation" md-placeholder="Date de signature" md-min-date="passation_marches.date_remise" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_rapport_evaluation)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_demande_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches.date_rapport_evaluation" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_demande_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_ano_dpfi" md-placeholder="Date de signature" md-min-date="passation_marches.date_demande_ano_dpfi" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_ano_dpfi)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.notification_intention" md-placeholder="Date de notification" md-min-date="passation_marches.date_demande_ano_dpfi" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>  
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.notification_intention)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_notification_attribution" md-placeholder="Date de signature" md-min-date="passation_marches.notification_intention" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_notification_attribution)}}</span>
                                </td>

                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-datepicker ng-model="passation_marches.date_os" md-placeholder="Date de signature" md-min-date="passation_marches.date_signature_contrat" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!passation_marches.$edit">{{vm.formatDate(passation_marches.date_os)}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="passation_marches.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="passation_marches.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!passation_marches.$edit">{{passation_marches.observation}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!passation_marches.$edit && passation_marches.validation ==0" ng-click="vm.modifierPassation_marches(passation_marches)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!passation_marches.$edit && passation_marches.validation ==0" ng-click="vm.supprimerPassation_marches(passation_marches)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>

                                  <span ng-if="!passation_marches.$edit && passation_marches.validation ==1">Aucune action disponible</span> 
                                            
                                  <a ng-if="passation_marches.$edit" ng-click="vm.annulerPassation_marches(passation_marches)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="passation_marches.$edit && passation_marches.date_lancement && passation_marches.date_remise && passation_marches.montant_moin_chere && passation_marches.date_rapport_evaluation && passation_marches.date_demande_ano_dpfi && passation_marches.date_ano_dpfi && passation_marches.notification_intention && passation_marches.date_notification_attribution && passation_marches.date_os && passation_marches.observation >''" ng-click="vm.ajoutPassation_marches(passation_marches,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>                    
                    <!---------------------------------Fin Passation marches------------------------------------->

                    <!-------------------------------MPE sousmissionnaire---------------------------------------->
                       <md-tab ng-disabled="!vm.stepsoumissionnaire" ng-click="vm.stepmpe_soumissionaire()">
                          <md-tab-label>
                            <span class="ms-form-wizard-step-label">
                                <span class="ms-form-wizard-step-text">mpe soumissionaire</span>
                            </span>
                          </md-tab-label>
                          
                          <md-tab-body>
                            <br>
                           <div>        
                            <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                              <thead>
                                <tr>
                                  <th class="secondary-text" ng-repeat="mem in ::vm.mpe_soumissionaire_column">
                                    <div class="table-header">
                                      <span class="column-title">{{mem.titre}}</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                                       
                              <tbody>
                                <tr ng-repeat="mpe_soumissionaire in vm.allmpe_soumissionaire"  ng-class="{selected: mpe_soumissionaire.$selected}" ng-click="vm.selectionMpe_soumissionaire(mpe_soumissionaire)">
                                            
                                  <td>
                                    <span ng-if="mpe_soumissionaire.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Prestataire</label>
                                        <md-select ng-model="mpe_soumissionaire.id_prestataire"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.changePrestataire(mpe_soumissionaire)">
                                          <md-option ng-repeat="prestataire in vm.allprestataire" value="{{prestataire.id}}">
                                                                                {{prestataire.nom}}
                                          </md-option>
                                        </md-select>
                                      </md-input-container>   
                                    </span> 
                                    <span ng-if="!mpe_soumissionaire.$edit">{{mpe_soumissionaire.prestataire.nom}}</span>
                                  </td>          
                                  <td>
                                    <span ng-if="mpe_soumissionaire.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Telephone</label>
                                        <input name="telephone" type="text" ng-model="mpe_soumissionaire.telephone" disabled/>
                                      </md-input-container>   
                                    </span>
                                              
                                    <span ng-if="!mpe_soumissionaire.$edit">{{mpe_soumissionaire.prestataire.telephone}}</span>
                                  </td>
                                            
                                  <td>
                                    <span ng-if="mpe_soumissionaire.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Siège</label>
                                        <input name="siege" type="text" ng-model="mpe_soumissionaire.siege" disabled/>
                                      </md-input-container>   
                                    </span>
                                              
                                    <span ng-if="!mpe_soumissionaire.$edit">{{mpe_soumissionaire.prestataire.siege}}</span>
                                  </td>                       
                                  <td>
                                    <a ng-if="!mpe_soumissionaire.$edit && vm.validation_passation ==0" ng-click="vm.modifierMpe_soumissionaire(mpe_soumissionaire)" title="Modifier">
                                      <span class="icon-table-edit"></span>
                                    </a>
                                              
                                    <a ng-if="!mpe_soumissionaire.$edit  && vm.validation_passation ==0" ng-click="vm.supprimerMpe_soumissionaire(mpe_soumissionaire)" title="Supprimer">
                                      <span class="icon-delete"></span>
                                    </a>
                                    <span ng-if="!mpe_soumissionaire.$edit  && vm.validation_passation ==1">Aucune action disponible</span>          
                                    <a ng-if="mpe_soumissionaire.$edit" ng-click="vm.annulerMpe_soumissionaire(mpe_soumissionaire)" title="Annuler modification">
                                      <span class="icon-cancel"></span>
                                    </a>
                                              
                                    <a ng-if="mpe_soumissionaire.$edit && mpe_soumissionaire.id_prestataire>''" ng-click="vm.ajoutMpe_soumissionaire(mpe_soumissionaire,0)" title="Sauvegarder">
                                      <span class="icon-content-save"></span>
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                        </md-tab-body>
                      </md-tab>
                    <!-----------------------------------MPE sousmissionnaire-------------------------------------->

                    <!-----------------------------------Debut contrat mpe----------------------------------------->
                    <md-tab ng-click="vm.step_contrat_mpe()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Contrat</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                          <div style="widht:100%;">                               <md-button type="submit" class="md-raised md-warn" aria-label="Validation" ng-click="vm.valider_contrat_prestataire()" style="width:10%;" ng-show="vm.showbuttonValidationcontrat_prestataire && vm.permissionboutonvalidercontrat_prestataire && vm.validation_contrat_prestataire==0">
                                        Validation
                              </md-button><br>
                          </div>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text" ng-repeat="mem in ::vm.contrat_prestataire_column">
                                  <div class="table-header">
                                    <span class="column-title">{{mem.titre}}</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="contrat_prestataire in vm.allcontrat_prestataire"  ng-class="{selected: contrat_prestataire.$selected}" ng-click="vm.selectionContrat_prestataire(contrat_prestataire)">
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Prestataire</label>
                                      <md-select ng-model="contrat_prestataire.id_prestataire"style="overflow: hidden;text-overflow: ellipsis;">
                                        <md-option ng-repeat="prestataire in vm.allprestataire" value="{{prestataire.id}}">
                                                                              {{prestataire.nom}}
                                        </md-option>
                                      </md-select>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.prestataire.nom}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Descriprtion</label>
                                      <input name="description" type="text" ng-model="contrat_prestataire.description"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.description}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Numero contrat</label>
                                      <input name="num_contrat" type="text" ng-model="contrat_prestataire.num_contrat"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.num_contrat}}</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Cout batiment</label>
                                      <input name="cout_batiment" type="number" ng-model="contrat_prestataire.cout_batiment"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.cout_batiment}} Ar</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Cout latrine</label>
                                      <input name="cout_latrine" type="number" ng-model="contrat_prestataire.cout_latrine"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.cout_latrine}} Ar</span>
                                </td>
                                          
                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Cout Mobilier</label>
                                      <input name="cout_mobilier" type="number" ng-model="contrat_prestataire.cout_mobilier"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!contrat_prestataire.$edit">{{contrat_prestataire.cout_mobilier}} Ar</span>
                                </td>

                                <td>
                                  <span ng-if="contrat_prestataire.$edit">
                                    <md-datepicker ng-model="contrat_prestataire.date_signature" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!contrat_prestataire.$edit">{{vm.formatDate(contrat_prestataire.date_signature)}}</span>
                                </td>
                                                             
                                <td>
                                  <a ng-if="!contrat_prestataire.$edit && contrat_prestataire.validation==0" ng-click="vm.modifierContrat_prestataire(contrat_prestataire)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!contrat_prestataire.$edit && contrat_prestataire.validation==0" ng-click="vm.supprimerContrat_prestataire(contrat_prestataire)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>
                                  <span ng-if="!contrat_prestataire.$edit && contrat_prestataire.validation==1">Aucune action disponible</span>          
                                  <a ng-if="contrat_prestataire.$edit" ng-click="vm.annulerContrat_prestataire(contrat_prestataire)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="contrat_prestataire.$edit && contrat_prestataire.description && contrat_prestataire.num_contrat && contrat_prestataire.cout_mobilier && contrat_prestataire.cout_latrine && contrat_prestataire.cout_batiment &&  contrat_prestataire.date_signature && contrat_prestataire.id_prestataire>''" ng-click="vm.ajoutContrat_prestataire(contrat_prestataire,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!-------------------------------Debut attachement -------------------------------------------->
                    <md-tab ng-disabled="!vm.stepattachement" ng-click="vm.step_attachement_prevu()">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Attachement prévu</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <ms-form-wizard flex id="sousmenu"> 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu">                    
                              <md-tab ng-click="vm.step_attachement_batiment_prevu()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Batiment</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Libelle</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Montant</span>
                                            </div>
                                          </th>                                          
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Action</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="divers_attachement_batiment_prevu in vm.alldivers_attachement_batiment_prevu"  ng-class="{selected: divers_attachement_batiment_prevu.$selected}" ng-click="vm.selectionDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)">

                                          <td>                                            
                                            <span>{{divers_attachement_batiment_prevu.libelle}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="divers_attachement_batiment_prevu.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Montant</label>
                                                <input name="montant_prevu" type="text" ng-model="divers_attachement_batiment_prevu.montant_prevu"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!divers_attachement_batiment_prevu.$edit">{{divers_attachement_batiment_prevu.montant_prevu}} Ar</span>
                                          </td>

                                          <td>
                                            <a ng-if="!divers_attachement_batiment_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.modifierDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!divers_attachement_batiment_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.supprimerDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a> 
                                             <span ng-if="!divers_attachement_mobilier_prevu.$edit && vm.validation_contrat_prestataire!=0">Aucune action disponible</span>         
                                            <a ng-if="divers_attachement_batiment_prevu.$edit" ng-click="vm.annulerDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="divers_attachement_batiment_prevu.$edit && divers_attachement_batiment_prevu.montant_prevu >''" ng-click="vm.ajoutDivers_attachement_batiment_prevu(divers_attachement_batiment_prevu,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                  </md-tab-body>
                                </md-tab>                 
                              <md-tab ng-click="vm.step_attachement_latrine_prevu()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Latrine</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Libelle</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Montant</span>
                                            </div>
                                          </th>                                          
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Action</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="divers_attachement_latrine_prevu in vm.alldivers_attachement_latrine_prevu"  ng-class="{selected: divers_attachement_latrine_prevu.$selected}" ng-click="vm.selectionDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)">

                                          <td>                                            
                                            <span>{{divers_attachement_latrine_prevu.libelle}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="divers_attachement_latrine_prevu.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Montant</label>
                                                <input name="montant_prevu" type="text" ng-model="divers_attachement_latrine_prevu.montant_prevu"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!divers_attachement_latrine_prevu.$edit">{{divers_attachement_latrine_prevu.montant_prevu}} Ar</span>
                                          </td>

                                          <td>
                                            <a ng-if="!divers_attachement_latrine_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.modifierDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!divers_attachement_latrine_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.supprimerDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a> 
                                             <span ng-if="!divers_attachement_latrine_prevu.$edit && vm.validation_contrat_prestataire!=0">Aucune action disponible</span>          
                                            <a ng-if="divers_attachement_latrine_prevu.$edit" ng-click="vm.annulerDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="divers_attachement_latrine_prevu.$edit && divers_attachement_latrine_prevu.montant_prevu >''" ng-click="vm.ajoutDivers_attachement_latrine_prevu(divers_attachement_latrine_prevu,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                  </md-tab-body>
                                </md-tab>

                              <md-tab ng-click="vm.step_attachement_mobilier_prevu()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Mobilier</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Libelle</span>
                                            </div>
                                          </th>
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Montant</span>
                                            </div>
                                          </th>                                          
                                          <th class="secondary-text">
                                            <div class="table-header">
                                              <span class="column-title">Action</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="divers_attachement_mobilier_prevu in vm.alldivers_attachement_mobilier_prevu"  ng-class="{selected: divers_attachement_mobilier_prevu.$selected}" ng-click="vm.selectionDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)">

                                          <td>                                            
                                            <span>{{divers_attachement_mobilier_prevu.libelle}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="divers_attachement_mobilier_prevu.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Montant</label>
                                                <input name="montant_prevu" type="text" ng-model="divers_attachement_mobilier_prevu.montant_prevu"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!divers_attachement_mobilier_prevu.$edit">{{divers_attachement_mobilier_prevu.montant_prevu}} Ar</span>
                                          </td>

                                          <td>
                                            <a ng-if="!divers_attachement_mobilier_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.modifierDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!divers_attachement_mobilier_prevu.$edit && vm.validation_contrat_prestataire==0" ng-click="vm.supprimerDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a> 
                                              <span ng-if="!divers_attachement_mobilier_prevu.$edit && vm.validation_contrat_prestataire!=0">Aucune action disponible</span>        
                                            <a ng-if="divers_attachement_mobilier_prevu.$edit" ng-click="vm.annulerDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="divers_attachement_mobilier_prevu.$edit && divers_attachement_mobilier_prevu.montant_prevu >''" ng-click="vm.ajoutDivers_attachement_mobilier_prevu(divers_attachement_mobilier_prevu,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                  </md-tab-body>
                                </md-tab>  
                            </md-tabs> 
                          </ms-form-wizard>
                      </md-tab-body>
                    </md-tab>
                    <!-----------------------------------FIN document moe ------------------------------------------>
                    <md-tab ng-disabled = "!vm.stepsuiviexecution || vm.validation_contrat_prestataire==0" ng-click="vm.step_suivitravaux()">
                      <md-tab-label>
                        <span class="ms-form-wizard-step-label">
                            <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">FF</span>
                            <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                              <i class="icon-check s16"></i>
                            </span-->
                            <span class="ms-form-wizard-step-text">Suivi des travaux</span>
                        </span>
                       
                      </md-tab-label>
                      
                      <md-tab-body>
                       <ms-form-wizard flex id="sousmenu"> 
                          <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true" id="acc_sous_menu">                    
                              <md-tab  ng-click="vm.step_delai_execution()">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <span class="ms-form-wizard-step-text">Delai d'execution</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Validation" ng-click="vm.valider_delai_travaux()" style="width:10%;" ng-show="vm.showbuttonValidationdelai_travaux && vm.permissionboutonvaliderdelai_travaux && vm.validation_delai_travaux==0">
                                                  Validation
                                        </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.delai_travaux_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="delai_travaux in vm.alldelai_travaux"  ng-class="{selected: delai_travaux.$selected}" ng-click="vm.selectionDelai_travaux(delai_travaux)">      
                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-datepicker ng-model="delai_travaux.date_prev_debu_travau" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!delai_travaux.$edit">{{vm.formatDate(delai_travaux.date_prev_debu_travau)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-datepicker ng-model="delai_travaux.date_reel_debu_travau" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!delai_travaux.$edit">{{vm.formatDate(delai_travaux.date_reel_debu_travau)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-datepicker ng-model="delai_travaux.date_expiration_police" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!delai_travaux.$edit">{{vm.formatDate(delai_travaux.date_expiration_police)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="delai_travaux.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Delai éxecution</label>
                                                <input name="delai_execution" type="number" ng-model="delai_travaux.delai_execution"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!delai_travaux.$edit">{{delai_travaux.delai_execution}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!delai_travaux.$edit && delai_travaux.validation==0" ng-click="vm.modifierDelai_travaux(delai_travaux)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!delai_travaux.$edit && delai_travaux.validation==0" ng-click="vm.supprimerDelai_travaux(delai_travaux)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                            <span ng-if="!delai_travaux.$edit && delai_travaux.validation==1">Aucune action disponible</span>          
                                            <a ng-if="delai_travaux.$edit" ng-click="vm.annulerDelai_travaux(delai_travaux)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="delai_travaux.$edit && delai_travaux.date_prev_debu_travau && delai_travaux.date_expiration_police && delai_travaux.date_reel_debu_travau && delai_travaux.delai_execution>''" ng-click="vm.ajoutDelai_travaux(delai_travaux,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>          
                              <md-tab ng-disabled = "!vm.stepphase">
                                <md-tab-label>
                                  <span class="ms-form-wizard-step-label">
                                      <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==false">DF</span>
                                      <span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepOne==true">
                                        <i class="icon-check s16"></i>
                                      </span-->
                                      <span class="ms-form-wizard-step-text">Phase sous projet</span>
                                  </span>
                                 
                                </md-tab-label>
                                
                                <md-tab-body>
                                    <div style="widht:100%;">
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Valide" ng-click="vm.valider_phase_sous_projet()" style="width:10%;" ng-show="vm.showbuttonValidationphase_sous_projet && vm.permissionboutonvaliderphase_sous_projet && vm.validation_phase_sous_projet==0">
                                              Validation
                                        </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.phase_sous_projet_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="phase_sous_projet in vm.allphase_sous_projet"  ng-class="{selected: phase_sous_projet.$selected}" ng-click="vm.selectionPhase_sous_projet(phase_sous_projet)">           
                                          <td>
                                            <span ng-if="phase_sous_projet.$edit">
                                              <md-input-container style="width:100%;">
                                                <label>Phase sous projet</label>
                                                <md-select ng-model="phase_sous_projet.id_etape_sousprojet"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.change_etape(phase_sous_projet)">
                                                  <md-option ng-repeat="etape_sousprojet in vm.allcurentetape_sousprojet" value="{{etape_sousprojet.id}}">
                                                                                        {{etape_sousprojet.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!phase_sous_projet.$edit">{{phase_sous_projet.etape_sousprojet.libelle}}</span>
                                          </td>
                                                    
                                          <td>
                                                      
                                            <span>{{phase_sous_projet.etape_sousprojet.description}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="phase_sous_projet.$edit">
                                              <md-datepicker ng-model="phase_sous_projet.date_travaux" md-placeholder="Date" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!phase_sous_projet.$edit">{{vm.formatDate(phase_sous_projet.date_travaux)}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!phase_sous_projet.$edit && phase_sous_projet.validation ==0" ng-click="vm.modifierPhase_sous_projet(phase_sous_projet)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!phase_sous_projet.$edit && phase_sous_projet.validation ==0" ng-click="vm.supprimerPhase_sous_projet(phase_sous_projet)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>

                                            <span ng-if="!phase_sous_projet.$edit && phase_sous_projet.validation ==1">Aucune action disponible</span> 
                                                      
                                            <a ng-if="phase_sous_projet.$edit" ng-click="vm.annulerPhase_sous_projet(phase_sous_projet)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="phase_sous_projet.$edit && phase_sous_projet.id_etape_sousprojet>''" ng-click="vm.ajoutPhase_sous_projet(phase_sous_projet,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                              <md-tab ng-click="vm.step_reception_mpe()">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                        <span class="ms-form-wizard-step-text">reception_mpe</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">                     
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Valider" ng-click="vm.valider_reception()" style="width:10%;" ng-show="vm.showbuttonValidationreception_mpe && vm.permissionboutonvaliderreception_mpe && vm.validation_reception_mpe==0">
                                        Valider
                                      </md-button><br>
                                    </div>
                                      <div>        
                                      <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                        <thead>
                                          <tr>
                                            <th class="secondary-text" ng-repeat="mem in ::vm.reception_mpe_column">
                                              <div class="table-header">
                                                <span class="column-title">{{mem.titre}}</span>
                                              </div>
                                            </th>
                                          </tr>
                                        </thead>
                                                 
                                        <tbody>
                                          <tr ng-repeat="reception_mpe in vm.allreception_mpe"  ng-class="{selected: reception_mpe.$selected}" ng-click="vm.selectionReception_mpe(reception_mpe)">  
                                           
                                            <td>
                                              <span ng-if="reception_mpe.$edit">
                                                <md-datepicker ng-model="reception_mpe.date_previ_recep_tech" md-placeholder="Date de signature" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>
                                              </span>                          
                                              <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_recep_tech)}}</span>
                                            </td>
                                                      
                                            <td>
                                              <span ng-if="reception_mpe.$edit">
                                                <md-datepicker ng-model="reception_mpe.date_reel_tech" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_tech" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>   
                                              </span>
                                                        
                                              <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_tech)}}</span>
                                            </td>

                                            <td>
                                              <span ng-if="reception_mpe.$edit">
                                                <md-datepicker ng-model="reception_mpe.date_leve_recep_tech" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_tech" md-max-date="vm.datenow" required>                       
                                                </md-datepicker>   
                                              </span>
                                                        
                                              <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_leve_recep_tech)}}</span>
                                            </td>
                                            <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_previ_recep_prov" md-placeholder="Date de signature" md-min-date="reception_mpe.date_reel_tech" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_recep_prov)}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_reel_recep_prov" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_recep_prov)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_previ_leve" md-placeholder="Date de signature" md-min-date="reception_mpe.date_reel_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>  
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_leve)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_reel_lev_ava_rd" md-placeholder="Date de signature" md-min-date="reception_mpe.date_reel_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>  
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_lev_ava_rd)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_previ_recep_defi" md-placeholder="Date de notification" md-min-date="reception_mpe.date_reel_recep_prov" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>  
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_previ_recep_defi)}}</span>
                                          </td>
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-datepicker ng-model="reception_mpe.date_reel_recep_defi" md-placeholder="Date de signature" md-min-date="reception_mpe.date_previ_recep_defi" md-max-date="vm.datenow" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!reception_mpe.$edit">{{vm.formatDate(reception_mpe.date_reel_recep_defi)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="reception_mpe.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="reception_mpe.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!reception_mpe.$edit">{{reception_mpe.observation}}</span>
                                          </td>
                                          <td>
                                            <a ng-if="!reception_mpe.$edit && reception_mpe.validation ==0" ng-click="vm.modifierReception_mpe(reception_mpe)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!reception_mpe.$edit && reception_mpe.validation ==0" ng-click="vm.supprimerReception_mpe(reception_mpe)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                              <span ng-if="!reception_mpe.$edit && reception_mpe.validation ==1">Aucune action disponible</span>         
                                            <a ng-if="reception_mpe.$edit" ng-click="vm.annulerReception_mpe(reception_mpe)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="reception_mpe.$edit && reception_mpe.date_previ_recep_tech && reception_mpe.date_reel_tech && reception_mpe.date_leve_recep_tech && reception_mpe.date_previ_recep_prov && reception_mpe.date_reel_recep_prov && reception_mpe.date_previ_leve && reception_mpe.date_reel_lev_ava_rd && reception_mpe.date_previ_recep_defi && reception_mpe.date_reel_recep_defi && reception_mpe.observation >''" type="submit" class="md-raised md-accent>''" ng-click="vm.ajoutReception_mpe(reception_mpe,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>                       
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                </md-tab-body>
                              </md-tab>
                  <!---------------------------------------------Debut avancement_batiment -------------------------------------------->
                              <md-tab ng-click="vm.step_avancement_batiment()">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                          <!--span class="ms-form-wizard-step-number md-accent-bg">
                                            <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Avancement batiment</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">                      
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Valider" ng-click="vm.valider_avancement_batiment()" style="width:10%;" ng-show="vm.showbuttonValidationavancement_batiment && vm.permissionboutonvalideravancement_batiment && vm.validation_avancement_batiment==0">
                                        Valider
                                      </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.avancement_batiment_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="avancement_batiment in vm.allavancement_batiment"  ng-class="{selected: avancement_batiment.$selected}" ng-click="vm.selectionAvancement_batiment(avancement_batiment)">
                                                                           
                                          <td>
                                            <span ng-if="avancement_batiment.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Intitule</label>
                                                <input name="intitule" type="text" ng-model="avancement_batiment.intitule"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_batiment.$edit">{{avancement_batiment.intitule}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="avancement_batiment.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Descriprtion</label>
                                                <input name="description" type="text" ng-model="avancement_batiment.description"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_batiment.$edit">{{avancement_batiment.description}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="avancement_batiment.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Attachement</label>
                                                <md-select ng-model="avancement_batiment.id_attachement_batiment"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.changeAttachement_batiment(avancement_batiment)">
                                                  <md-option ng-repeat="attachement_batiment in vm.allcurrentattachement_batiment" value="{{attachement_batiment.id}}">
                                                          {{attachement_batiment.ponderation_batiment}}%  {{attachement_batiment.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_batiment.$edit">{{avancement_batiment.attachement_batiment.ponderation_batiment}}% {{avancement_batiment.attachement_batiment.libelle}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="avancement_batiment.$edit">
                                              <md-datepicker ng-model="avancement_batiment.date" md-placeholder="Date" md-max-date="vm.date_now" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!avancement_batiment.$edit">{{vm.formatDate(avancement_batiment.date)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="avancement_batiment.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="observation" type="text" ng-model="avancement_batiment.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_batiment.$edit">{{avancement_batiment.observation}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!avancement_batiment.$edit && avancement_batiment.validation==0" ng-click="vm.modifierAvancement_batiment(avancement_batiment)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!avancement_batiment.$edit && avancement_batiment.validation==0" ng-click="vm.supprimerAvancement_batiment(avancement_batiment)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                            <span ng-if="!avancement_batiment.$edit && avancement_batiment.validation==1">Aucune action disponible</span>
          
                                            <a ng-if="avancement_batiment.$edit" ng-click="vm.annulerAvancement_batiment(avancement_batiment)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="avancement_batiment.$edit && avancement_batiment.description && avancement_batiment.intitule && avancement_batiment.id_attachement_batiment && avancement_batiment.date>''" ng-click="vm.ajoutAvancement_batiment(avancement_batiment,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                  <!------------------------------------------FIN avancement_batiment ------------------------------------------------->
                  <!---------------------------------------------Debut avancement_batiment -------------------------------------------->
                              <md-tab ng-click="vm.step_avancement_latrine()">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                          <!--span class="ms-form-wizard-step-number md-accent-bg">
                                            <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Avancement latrine</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">                    
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Valider" ng-click="vm.valider_avancement_latrine()" style="width:10%;" ng-show="vm.showbuttonValidationavancement_latrine && vm.permissionboutonvalideravancement_latrine && vm.validation_avancement_latrine==0">
                                        Valider
                                      </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.avancement_latrine_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="avancement_latrine in vm.allavancement_latrine"  ng-class="{selected: avancement_latrine.$selected}" ng-click="vm.selectionAvancement_latrine(avancement_latrine)">
                                                                           
                                          <td>
                                            <span ng-if="avancement_latrine.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Intitule</label>
                                                <input name="intitule" type="text" ng-model="avancement_latrine.intitule"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_latrine.$edit">{{avancement_latrine.intitule}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="avancement_latrine.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Descriprtion</label>
                                                <input name="description" type="text" ng-model="avancement_latrine.description"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_latrine.$edit">{{avancement_latrine.description}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="avancement_latrine.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Attachement</label>
                                                <md-select ng-model="avancement_latrine.id_attachement_latrine"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.changeAttachement_latrine(avancement_latrine)">
                                                  <md-option ng-repeat="attachement_latrine in vm.allcurrentattachement_latrine" value="{{attachement_latrine.id}}">
                                                          {{attachement_latrine.ponderation_latrine}}%  {{attachement_latrine.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_latrine.$edit">{{avancement_latrine.attachement_latrine.ponderation_latrine}}% {{avancement_latrine.attachement_latrine.libelle}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="avancement_latrine.$edit">
                                              <md-datepicker ng-model="avancement_latrine.date" md-placeholder="Date" md-max-date="vm.date_now" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!avancement_latrine.$edit">{{vm.formatDate(avancement_latrine.date)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="avancement_latrine.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="cout_latrine" type="text" ng-model="avancement_latrine.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_latrine.$edit">{{avancement_latrine.observation}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!avancement_latrine.$edit && avancement_latrine.validation==0" ng-click="vm.modifierAvancement_latrine(avancement_latrine)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!avancement_latrine.$edit && avancement_latrine.validation==0" ng-click="vm.supprimerAvancement_latrine(avancement_latrine)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                            <span ng-if="!avancement_latrine.$edit && avancement_latrine.validation==1">Aucune action disponible</span>
          
                                            <a ng-if="avancement_latrine.$edit" ng-click="vm.annulerAvancement_latrine(avancement_latrine)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="avancement_latrine.$edit && avancement_latrine.description && avancement_latrine.intitule && avancement_latrine.id_attachement_latrine && avancement_latrine.date>''" ng-click="vm.ajoutAvancement_latrine(avancement_latrine,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                  <!----------------------------------FIN avancement_latrine ------------------------------------------------->
                  <!----------------------------------Debut avancement_mobilier -------------------------------------------->
                              <md-tab ng-disabled="vm.stepTwo==false" ng-click="vm.step_avancement_mobilier()">
                                  <md-tab-label>
                                    <span class="ms-form-wizard-step-label">
                                          <!--span class="ms-form-wizard-step-number md-accent-bg">
                                            <i class="icon-check s16"></i>
                                        </span-->
                                        <span class="ms-form-wizard-step-text">Avancement mobilier</span>
                                    </span>
                                  </md-tab-label>
                                  
                                  <md-tab-body>
                                    <div style="widht:100%;">                     
                                        <md-button type="submit" class="md-raised md-warn" aria-label="Valider" ng-click="vm.valider_avancement_mobilier()" style="width:10%;" ng-show="vm.showbuttonValidationavancement_mobilier && vm.permissionboutonvalideravancement_mobilier && vm.validation_avancement_mobilier==0">
                                        Valider
                                      </md-button><br>
                                    </div>
                                   <div>        
                                    <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                      <thead>
                                        <tr>
                                          <th class="secondary-text" ng-repeat="mem in ::vm.avancement_mobilier_column">
                                            <div class="table-header">
                                              <span class="column-title">{{mem.titre}}</span>
                                            </div>
                                          </th>
                                        </tr>
                                      </thead>
                                               
                                      <tbody>
                                        <tr ng-repeat="avancement_mobilier in vm.allavancement_mobilier"  ng-class="{selected: avancement_mobilier.$selected}" ng-click="vm.selectionAvancement_mobilier(avancement_mobilier)">
                                                                           
                                          <td>
                                            <span ng-if="avancement_mobilier.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Intitule</label>
                                                <input name="intitule" type="text" ng-model="avancement_mobilier.intitule"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_mobilier.$edit">{{avancement_mobilier.intitule}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="avancement_mobilier.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Descriprtion</label>
                                                <input name="description" type="text" ng-model="avancement_mobilier.description"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_mobilier.$edit">{{avancement_mobilier.description}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="avancement_mobilier.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Attachement</label>
                                                <md-select ng-model="avancement_mobilier.id_attachement_mobilier"style="overflow: hidden;text-overflow: ellipsis;" ng-change="vm.changeAttachement_mobilier(avancement_mobilier)">
                                                  <md-option ng-repeat="attachement_mobilier in vm.allcurrentattachement_mobilier" value="{{attachement_mobilier.id}}">
                                                          {{attachement_mobilier.ponderation_mobilier}}%  {{attachement_mobilier.libelle}}
                                                  </md-option>
                                                </md-select>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_mobilier.$edit">{{avancement_mobilier.attachement_mobilier.ponderation_mobilier}}% {{avancement_mobilier.attachement_mobilier.libelle}}</span>
                                          </td>

                                          <td>
                                            <span ng-if="avancement_mobilier.$edit">
                                              <md-datepicker ng-model="avancement_mobilier.date" md-placeholder="Date" md-max-date="vm.date_now" required>                       
                                              </md-datepicker>
                                            </span>                          
                                            <span ng-if="!avancement_mobilier.$edit">{{vm.formatDate(avancement_mobilier.date)}}</span>
                                          </td>
                                                    
                                          <td>
                                            <span ng-if="avancement_mobilier.$edit">
                                              <md-input-container style="width:100%;display: flex !important;">
                                                <label>Observation</label>
                                                <input name="cout_mobilier" type="text" ng-model="avancement_mobilier.observation"/>
                                              </md-input-container>   
                                            </span>
                                                      
                                            <span ng-if="!avancement_mobilier.$edit">{{avancement_mobilier.observation}}</span>
                                          </td>
                                                                       
                                          <td>
                                            <a ng-if="!avancement_mobilier.$edit && avancement_mobilier.validation==0" ng-click="vm.modifierAvancement_mobilier(avancement_mobilier)" title="Modifier">
                                              <span class="icon-table-edit"></span>
                                            </a>
                                                      
                                            <a ng-if="!avancement_mobilier.$edit && avancement_mobilier.validation==0" ng-click="vm.supprimerAvancement_mobilier(avancement_mobilier)" title="Supprimer">
                                              <span class="icon-delete"></span>
                                            </a>
                                            <span ng-if="!avancement_mobilier.$edit && avancement_mobilier.validation==1">Aucune action disponible</span>
          
                                            <a ng-if="avancement_mobilier.$edit" ng-click="vm.annulerAvancement_mobilier(avancement_mobilier)" title="Annuler modification">
                                              <span class="icon-cancel"></span>
                                            </a>
                                                      
                                            <a ng-if="avancement_mobilier.$edit && avancement_mobilier.description && avancement_mobilier.intitule && avancement_mobilier.id_attachement_mobilier && avancement_mobilier.date>''" ng-click="vm.ajoutAvancement_mobilier(avancement_mobilier,0)" title="Sauvegarder">
                                              <span class="icon-content-save"></span>
                                            </a>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>

                                </md-tab-body>
                              </md-tab>
                  <!------------------------------------------FIN avancement_mobilier ------------------------------------------------->            
                            </md-tabs> 
                          </ms-form-wizard>               
                        </md-tab-body>
                    </md-tab>
                    
                  <!--------------------------------------------------Avenant MOE----------------------------------------------------> 
                    <md-tab ng-disabled="!vm.stepavenant_mpe" ng-click="vm.step_avenant_mpe()">                    
                      <md-tab-label >
                        <span class="ms-form-wizard-step-label">
                            <span class="ms-form-wizard-step-text">Avenant</span>
                        </span>
                       
                      </md-tab-label>

                      <md-tab-body>
                        <div style="widht:100%;"> 
                                  <md-button type="submit" ng-show="vm.showbuttonValidation_avenant_mpe && vm.permissionboutonvalideravenant_mpe && vm.validation_avenant_mpe==0" class="md-raised md-warn" aria-label="Valider" ng-click="vm.validerAvenant_mpe()" style="width:10%;">
                                    Valider
                                  </md-button><br>
                                </div>
                               <div>        
                                <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                                  <thead>
                                    <tr>
                                      <th class="secondary-text" ng-repeat="mem in ::vm.avenant_mpe_column">
                                        <div class="table-header">
                                          <span class="column-title">{{mem.titre}}</span>
                                        </div>
                                      </th>
                                    </tr>
                                  </thead>
                                           
                                  <tbody>
                                    <tr ng-repeat="avenant_mpe in vm.allavenant_mpe"  ng-class="{selected: avenant_mpe.$selected}" ng-click="vm.selectionAvenant_mpe(avenant_mpe)">
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Descriprtion</label>
                                            <input name="description" type="text" ng-model="avenant_mpe.description"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.description}}</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Référence avenant</label>
                                            <input name="ref_avenant" type="text" ng-model="avenant_mpe.ref_avenant"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.ref_avenant}}</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout batiment</label>
                                            <input name="montant" type="text" ng-model="avenant_mpe.cout_batiment"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_batiment}} Ar</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout latrine</label>
                                            <input name="montant" type="text" ng-model="avenant_mpe.cout_latrine"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_latrine}} Ar</span>
                                      </td>
                                                
                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-input-container style="width:100%;display: flex !important;">
                                            <label>Cout mobilier</label>
                                            <input name="montant" type="text" ng-model="avenant_mpe.cout_mobilier"/>
                                          </md-input-container>   
                                        </span>
                                                  
                                        <span ng-if="!avenant_mpe.$edit">{{avenant_mpe.cout_mobilier}} Ar</span>
                                      </td>

                                      <td>
                                        <span ng-if="avenant_mpe.$edit">
                                          <md-datepicker ng-model="avenant_mpe.date_signature" md-placeholder="Date de signature" md-max-date="vm.date_now" required>                       
                                          </md-datepicker>
                                        </span>                          
                                        <span ng-if="!avenant_mpe.$edit">{{vm.formatDate(avenant_mpe.date_signature)}}</span>
                                      </td>                      
                                      <td>
                                        <a ng-if="!avenant_mpe.$edit && avenant_mpe.validation==0" ng-click="vm.modifierAvenant_mpe(avenant_mpe)" title="Modifier">
                                          <span class="icon-table-edit"></span>
                                        </a>
                                                  
                                        <a ng-if="!avenant_mpe.$edit && avenant_mpe.validation==0" ng-click="vm.supprimerAvenant_mpe(avenant_mpe)" title="Supprimer">
                                          <span class="icon-delete"></span>
                                        </a>
                                        <span ng-if="!avenant_mpe.$edit && avenant_mpe.validation==1">Aucune action disponible</span>          
                                        <a ng-if="avenant_mpe.$edit" ng-click="vm.annulerAvenant_mpe(avenant_mpe)" title="Annuler modification">
                                          <span class="icon-cancel"></span>
                                        </a>
                                                  
                                        <a ng-if="avenant_mpe.$edit && avenant_mpe.description &&  avenant_mpe.cout_batiment &&  avenant_mpe.cout_latrine &&  avenant_mpe.cout_mobilier &&  avenant_mpe.date_signature>''" ng-click="vm.ajoutAvenant_mpe(avenant_mpe,0)" title="Sauvegarder">
                                          <span class="icon-content-save"></span>
                                        </a>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                      </md-tab-body>
                    </md-tab>
                    <!--------------------------------Fin Avenant mpe------------------------------------------------> 
                    <!-------------------------Debut document prestataire ------------------------------------------->
                    <md-tab ng-click="vm.step_importerdocument_mpe()">
                        <md-tab-label>
                          <span class="ms-form-wizard-step-label">
                              <span class="ms-form-wizard-step-text">Importer document</span>
                          </span>
                        </md-tab-label>
                        
                        <md-tab-body>
                          <div style="widht:100%;">   
                              <md-button type="submit" class="md-raised md-warn" aria-label="Nouveau" ng-click="vm.validerDocument_prestataire_scan()" style="width:10%;" ng-show="vm.showbuttonValidation_document_prestataire_scan && vm.permissionboutonvaliderdocument_prestataire_scan && vm.validation_document_prestataire_scan==0">
                                Validation
                              </md-button><br>
                          </div><br>
                         <div>        
                          <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                            <thead>
                              <tr>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Code</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Intitule</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Existance</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Fichier</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Date Elaboration</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Observation</span>
                                  </div>
                                </th>
                                <th class="secondary-text">
                                  <div class="table-header">
                                    <span class="column-title">Action</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                                     
                            <tbody>
                              <tr ng-repeat="document_prestataire_scan in vm.alldocument_prestataire_scan"  ng-class="{selected: document_prestataire_scan.$selected}" ng-click="vm.selectionDocument_prestataire_scan(document_prestataire_scan)">

                                <td>                                            
                                  <span>{{document_prestataire_scan.code}}</span>
                                </td>

                                <td>                                            
                                  <span>{{document_prestataire_scan.intitule}}</span>
                                </td>
                                
                                <td>                                 
                                   <md-checkbox ng-model="document_prestataire_scan.existance" aria-label="Checkbox 1" disabled>
                                  </md-checkbox>
                                </td>
                                          
                                <td>
                                  <span ng-if="document_prestataire_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                      <input name="fichier" type="text" ng-model="document_prestataire_scan.fichier" disabled/>
                                    </md-input-container>   
                                  </span>

                                  <span ng-if="document_prestataire_scan.$edit" style="display: inline-block !important;">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Fichier</label>
                                    <input type="file"name="myFile" aria-label="upload" custom-on-change="uploadFile_doc_pre"  ng-model="fichier" id="fileid"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_prestataire_scan.$edit">{{document_prestataire_scan.fichier}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_prestataire_scan.$edit">
                                    <md-datepicker ng-model="document_prestataire_scan.date_elaboration" md-placeholder="Date de elaboration" md-max-date="vm.date_now" required>                       
                                    </md-datepicker>
                                  </span>                          
                                  <span ng-if="!document_prestataire_scan.$edit">{{vm.formatDate(document_prestataire_scan.date_elaboration)}}</span>
                                </td>

                                <td>
                                  <span ng-if="document_prestataire_scan.$edit">
                                    <md-input-container style="width:100%;display: flex !important;">
                                      <label>Observation</label>
                                      <input name="observation" type="text" ng-model="document_prestataire_scan.observation"/>
                                    </md-input-container>   
                                  </span>
                                            
                                  <span ng-if="!document_prestataire_scan.$edit">{{document_prestataire_scan.observation}}</span>
                                </td>

                                <td>
                                  <a ng-if="!document_prestataire_scan.$edit && (document_prestataire_scan.validation==0 || document_prestataire_scan.validation==null)" ng-click="vm.modifierDocument_prestataire_scan(document_prestataire_scan)" title="Modifier">
                                    <span class="icon-table-edit"></span>
                                  </a>
                                            
                                  <a ng-if="!document_prestataire_scan.$edit && document_prestataire_scan.validation==0" ng-click="vm.supprimerDocument_prestataire_scan(document_prestataire_scan)" title="Supprimer">
                                    <span class="icon-delete"></span>
                                  </a>                        
                                            
                                  <a ng-if="!document_prestataire_scan.$edit && document_prestataire_scan.existance" ng-click="vm.download_document_prestataire_scan(document_prestataire_scan)" title="Telecharger fichier">
                                    <span class="icon-box-download"></span>
                                  </a>
                                            
                                  <a ng-if="document_prestataire_scan.$edit" ng-click="vm.annulerDocument_prestataire_scan(document_prestataire_scan)" title="Annuler modification">
                                    <span class="icon-cancel"></span>
                                  </a>
                                            
                                  <a ng-if="document_prestataire_scan.$edit && document_prestataire_scan.fichier && document_prestataire_scan.date_elaboration >''" ng-click="vm.ajoutDocument_prestataire_scan(document_prestataire_scan,0)" title="Sauvegarder">
                                    <span class="icon-content-save"></span>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                      </md-tab-body>
                    </md-tab>
                    <!--------------------------FIN document prestataire ------------------------------------------->            
                  </md-tabs> 
                </ms-form-wizard>               
              </md-tab-body>
            </md-tab>

            <!-----------------------DEBUT RELIQUAT------------------------------------>
            <md-tab ng-disabled="vm.stepMenu_mpe==false" ng-click="vm.step_menu_indicateur()">
              <md-tab-label >
                <span class="ms-form-wizard-step-label">
                    <!--span class="ms-form-wizard-step-number md-accent-bg" ng-if="vm.stepMenu==true">
                      <i class="icon-worker s16"></i>
                    </span-->
                    <span class="ms-form-wizard-step-text">Indicateur</span>
                    <!--span class="ms-form-wizard-step-number md-accent-bg notification" >4</span-->
                </span>
               
              </md-tab-label>
              
              <md-tab-body>
                <div style="widht:100%;">
                            <md-button type="submit" class="md-raised md-warn" aria-label="Valider" ng-click="vm.validerindicateur()" style="width:10%;" ng-show="vm.showbuttonValidationindicateur && vm.permissionboutonvaliderindicateur && vm.validation_indicateur==0">
                              Valider
                            </md-button><br>
                          </div>

                          <div>        
                            <table class="dataTable row-border hover"  datatable="ng" dt-options="vm.dtOptions" ms-responsive-table>
                              <thead>
                                <tr>
                                  <th class="secondary-text" ng-repeat="ciscT in ::vm.indicateur_column">
                                    <div class="table-header">
                                      <span class="column-title">{{ciscT.titre}}</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                                       
                              <tbody>
                                <tr ng-repeat="indicateur in vm.allindicateur"  ng-class="{selected: indicateur.$selected}" ng-click="vm.selectionIndicateur(indicateur)">           
                                  

                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre salle</label>
                                        <input name="nbr_salle_const" type="number" ng-model="indicateur.nbr_salle_const"/>
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_salle_const}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre bénéficiaire</label>
                                        <input name="nbr_beneficiaire" type="number" ng-model="indicateur.nbr_beneficiaire" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_beneficiaire}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre école</label>
                                        <input name="nbr_ecole" type="number" ng-model="indicateur.nbr_ecole" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_ecole}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre box</label>
                                        <input name="nbr_box" type="number" ng-model="indicateur.nbr_box" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_box}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre ponit d'eau</label>
                                        <input name="nbr_point_eau" type="number" ng-model="indicateur.nbr_point_eau" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_point_eau}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre banc</label>
                                        <input name="nbr_banc" type="number" ng-model="indicateur.nbr_banc" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_banc}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre table maitre</label>
                                        <input name="nbr_table_maitre" type="number" ng-model="indicateur.nbr_table_maitre" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_table_maitre}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Nombre chaise</label>
                                        <input name="nbr_chaise" type="number" ng-model="indicateur.nbr_chaise" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.nbr_chaise}}</span>
                                  </td>
                                  <td>
                                    <span ng-if="indicateur.$edit">
                                      <md-input-container style="width:100%;display: flex !important;">
                                        <label>Observation</label>
                                        <input name="observation" type="text" ng-model="indicateur.observation" />
                                      </md-input-container>
                                    </span>                          
                                    <span ng-if="!indicateur.$edit">{{indicateur.observation}}</span>
                                  </td>                           
                                                               
                                  <td>  
                                    <a ng-if="!indicateur.$edit && indicateur.validation==0" ng-click="vm.modifierIndicateur(indicateur)" title="Modifier">
                                      <span class="icon-table-edit"></span>
                                    </a>
                                              
                                    <a ng-if="!indicateur.$edit && indicateur.validation==0" ng-click="vm.supprimerIndicateur(indicateur)" title="Supprimer">
                                      <span class="icon-delete"></span>
                                    </a>
                                     <span ng-if="!indicateur.$edit && indicateur.validation==1">Aucune action disponible</span>         
                                    <a ng-if="indicateur.$edit" ng-click="vm.annulerIndicateur(indicateur)" title="Annulerindicateur modification">
                                      <span class="icon-cancel"></span>
                                    </a>
                                              
                                    <a ng-if="indicateur.$edit && indicateur.nbr_salle_const && indicateur.nbr_beneficiaire && indicateur.nbr_ecole && indicateur.nbr_box && indicateur.nbr_point_eau && indicateur.nbr_banc && indicateur.nbr_table_maitre && indicateur.nbr_chaise>''" ng-click="vm.ajoutIndicateur(indicateur,0)" title="Sauvegarder">
                                      <span class="icon-content-save"></span>
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
              </md-tab-body>
            </md-tab>
            <md-tab>
            </md-tab>
            <!-----------------------FIN RELIQUAT--------------------------------------------->
            
          </md-tabs>
        </ms-form-wizard> 
<!------------------------------------FIN TABS MERE--------------------------------------------------->    
       </div>
      
    </div>
    <!-- / CONTENT -->
  </div>